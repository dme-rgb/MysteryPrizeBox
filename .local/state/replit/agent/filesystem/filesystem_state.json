{"file_contents":{"client/src/components/ui/aspect-ratio.tsx":{"content":"import * as AspectRatioPrimitive from \"@radix-ui/react-aspect-ratio\"\n\nconst AspectRatio = AspectRatioPrimitive.Root\n\nexport { AspectRatio }\n","path":null,"size_bytes":140,"size_tokens":null},"client/src/components/ui/textarea.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Textarea = React.forwardRef<\n  HTMLTextAreaElement,\n  React.ComponentProps<\"textarea\">\n>(({ className, ...props }, ref) => {\n  return (\n    <textarea\n      className={cn(\n        \"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  )\n})\nTextarea.displayName = \"Textarea\"\n\nexport { Textarea }\n","path":null,"size_bytes":689,"size_tokens":null},"client/src/components/ui/sidebar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, VariantProps } from \"class-variance-authority\"\nimport { PanelLeftIcon } from \"lucide-react\"\n\nimport { useIsMobile } from \"@/hooks/use-mobile\"\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Separator } from \"@/components/ui/separator\"\nimport {\n  Sheet,\n  SheetContent,\n  SheetDescription,\n  SheetHeader,\n  SheetTitle,\n} from \"@/components/ui/sheet\"\nimport { Skeleton } from \"@/components/ui/skeleton\"\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from \"@/components/ui/tooltip\"\n\nconst SIDEBAR_COOKIE_NAME = \"sidebar_state\"\nconst SIDEBAR_COOKIE_MAX_AGE = 60 * 60 * 24 * 7\nconst SIDEBAR_WIDTH = \"16rem\"\nconst SIDEBAR_WIDTH_MOBILE = \"18rem\"\nconst SIDEBAR_WIDTH_ICON = \"3rem\"\nconst SIDEBAR_KEYBOARD_SHORTCUT = \"b\"\n\ntype SidebarContextProps = {\n  state: \"expanded\" | \"collapsed\"\n  open: boolean\n  setOpen: (open: boolean) => void\n  openMobile: boolean\n  setOpenMobile: (open: boolean) => void\n  isMobile: boolean\n  toggleSidebar: () => void\n}\n\nconst SidebarContext = React.createContext<SidebarContextProps | null>(null)\n\nfunction useSidebar() {\n  const context = React.useContext(SidebarContext)\n  if (!context) {\n    throw new Error(\"useSidebar must be used within a SidebarProvider.\")\n  }\n\n  return context\n}\n\nfunction SidebarProvider({\n  defaultOpen = true,\n  open: openProp,\n  onOpenChange: setOpenProp,\n  className,\n  style,\n  children,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  defaultOpen?: boolean\n  open?: boolean\n  onOpenChange?: (open: boolean) => void\n}) {\n  const isMobile = useIsMobile()\n  const [openMobile, setOpenMobile] = React.useState(false)\n\n  // This is the internal state of the sidebar.\n  // We use openProp and setOpenProp for control from outside the component.\n  const [_open, _setOpen] = React.useState(defaultOpen)\n  const open = openProp ?? _open\n  const setOpen = React.useCallback(\n    (value: boolean | ((value: boolean) => boolean)) => {\n      const openState = typeof value === \"function\" ? value(open) : value\n      if (setOpenProp) {\n        setOpenProp(openState)\n      } else {\n        _setOpen(openState)\n      }\n\n      // This sets the cookie to keep the sidebar state.\n      document.cookie = `${SIDEBAR_COOKIE_NAME}=${openState}; path=/; max-age=${SIDEBAR_COOKIE_MAX_AGE}`\n    },\n    [setOpenProp, open]\n  )\n\n  // Helper to toggle the sidebar.\n  const toggleSidebar = React.useCallback(() => {\n    return isMobile ? setOpenMobile((open) => !open) : setOpen((open) => !open)\n  }, [isMobile, setOpen, setOpenMobile])\n\n  // Adds a keyboard shortcut to toggle the sidebar.\n  React.useEffect(() => {\n    const handleKeyDown = (event: KeyboardEvent) => {\n      if (\n        event.key === SIDEBAR_KEYBOARD_SHORTCUT &&\n        (event.metaKey || event.ctrlKey)\n      ) {\n        event.preventDefault()\n        toggleSidebar()\n      }\n    }\n\n    window.addEventListener(\"keydown\", handleKeyDown)\n    return () => window.removeEventListener(\"keydown\", handleKeyDown)\n  }, [toggleSidebar])\n\n  // We add a state so that we can do data-state=\"expanded\" or \"collapsed\".\n  // This makes it easier to style the sidebar with Tailwind classes.\n  const state = open ? \"expanded\" : \"collapsed\"\n\n  const contextValue = React.useMemo<SidebarContextProps>(\n    () => ({\n      state,\n      open,\n      setOpen,\n      isMobile,\n      openMobile,\n      setOpenMobile,\n      toggleSidebar,\n    }),\n    [state, open, setOpen, isMobile, openMobile, setOpenMobile, toggleSidebar]\n  )\n\n  return (\n    <SidebarContext.Provider value={contextValue}>\n      <TooltipProvider delayDuration={0}>\n        <div\n          data-slot=\"sidebar-wrapper\"\n          style={\n            {\n              \"--sidebar-width\": SIDEBAR_WIDTH,\n              \"--sidebar-width-icon\": SIDEBAR_WIDTH_ICON,\n              ...style,\n            } as React.CSSProperties\n          }\n          className={cn(\n            \"group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full\",\n            className\n          )}\n          {...props}\n        >\n          {children}\n        </div>\n      </TooltipProvider>\n    </SidebarContext.Provider>\n  )\n}\n\nfunction Sidebar({\n  side = \"left\",\n  variant = \"sidebar\",\n  collapsible = \"offcanvas\",\n  className,\n  children,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  side?: \"left\" | \"right\"\n  variant?: \"sidebar\" | \"floating\" | \"inset\"\n  collapsible?: \"offcanvas\" | \"icon\" | \"none\"\n}) {\n  const { isMobile, state, openMobile, setOpenMobile } = useSidebar()\n\n  if (collapsible === \"none\") {\n    return (\n      <div\n        data-slot=\"sidebar\"\n        className={cn(\n          \"bg-sidebar text-sidebar-foreground flex h-full w-[var(--sidebar-width)] flex-col\",\n          className\n        )}\n        {...props}\n      >\n        {children}\n      </div>\n    )\n  }\n\n  if (isMobile) {\n    return (\n      <Sheet open={openMobile} onOpenChange={setOpenMobile} {...props}>\n        <SheetContent\n          data-sidebar=\"sidebar\"\n          data-slot=\"sidebar\"\n          data-mobile=\"true\"\n          className=\"bg-sidebar text-sidebar-foreground w-[var(--sidebar-width)] p-0 [&>button]:hidden\"\n          style={\n            {\n              \"--sidebar-width\": SIDEBAR_WIDTH_MOBILE,\n            } as React.CSSProperties\n          }\n          side={side}\n        >\n          <SheetHeader className=\"sr-only\">\n            <SheetTitle>Sidebar</SheetTitle>\n            <SheetDescription>Displays the mobile sidebar.</SheetDescription>\n          </SheetHeader>\n          <div className=\"flex h-full w-full flex-col\">{children}</div>\n        </SheetContent>\n      </Sheet>\n    )\n  }\n\n  return (\n    <div\n      className=\"group peer text-sidebar-foreground hidden md:block\"\n      data-state={state}\n      data-collapsible={state === \"collapsed\" ? collapsible : \"\"}\n      data-variant={variant}\n      data-side={side}\n      data-slot=\"sidebar\"\n    >\n      {/* This is what handles the sidebar gap on desktop */}\n      <div\n        data-slot=\"sidebar-gap\"\n        className={cn(\n          \"relative w-[var(--sidebar-width)] bg-transparent transition-[width] duration-200 ease-linear\",\n          \"group-data-[collapsible=offcanvas]:w-0\",\n          \"group-data-[side=right]:rotate-180\",\n          variant === \"floating\" || variant === \"inset\"\n            ? \"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4))]\"\n            : \"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)]\"\n        )}\n      />\n      <div\n        data-slot=\"sidebar-container\"\n        className={cn(\n          \"fixed inset-y-0 z-10 hidden h-svh w-[var(--sidebar-width)] transition-[left,right,width] duration-200 ease-linear md:flex\",\n          side === \"left\"\n            ? \"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]\"\n            : \"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]\",\n          // Adjust the padding for floating and inset variants.\n          variant === \"floating\" || variant === \"inset\"\n            ? \"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4)+2px)]\"\n            : \"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)] group-data-[side=left]:border-r group-data-[side=right]:border-l\",\n          className\n        )}\n        {...props}\n      >\n        <div\n          data-sidebar=\"sidebar\"\n          data-slot=\"sidebar-inner\"\n          className=\"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm\"\n        >\n          {children}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nfunction SidebarTrigger({\n  className,\n  onClick,\n  ...props\n}: React.ComponentProps<typeof Button>) {\n  const { toggleSidebar } = useSidebar()\n\n  return (\n    <Button\n      data-sidebar=\"trigger\"\n      data-slot=\"sidebar-trigger\"\n      variant=\"ghost\"\n      size=\"icon\"\n      className={cn(\"h-7 w-7\", className)}\n      onClick={(event) => {\n        onClick?.(event)\n        toggleSidebar()\n      }}\n      {...props}\n    >\n      <PanelLeftIcon />\n      <span className=\"sr-only\">Toggle Sidebar</span>\n    </Button>\n  )\n}\n\nfunction SidebarRail({ className, ...props }: React.ComponentProps<\"button\">) {\n  const { toggleSidebar } = useSidebar()\n\n  // Note: Tailwind v3.4 doesn't support \"in-\" selectors. So the rail won't work perfectly.\n  return (\n    <button\n      data-sidebar=\"rail\"\n      data-slot=\"sidebar-rail\"\n      aria-label=\"Toggle Sidebar\"\n      tabIndex={-1}\n      onClick={toggleSidebar}\n      title=\"Toggle Sidebar\"\n      className={cn(\n        \"hover:after:bg-sidebar-border absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear group-data-[side=left]:-right-4 group-data-[side=right]:left-0 after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] sm:flex\",\n        \"in-data-[side=left]:cursor-w-resize in-data-[side=right]:cursor-e-resize\",\n        \"[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize\",\n        \"hover:group-data-[collapsible=offcanvas]:bg-sidebar group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full\",\n        \"[[data-side=left][data-collapsible=offcanvas]_&]:-right-2\",\n        \"[[data-side=right][data-collapsible=offcanvas]_&]:-left-2\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarInset({ className, ...props }: React.ComponentProps<\"main\">) {\n  return (\n    <main\n      data-slot=\"sidebar-inset\"\n      className={cn(\n        \"bg-background relative flex w-full flex-1 flex-col\",\n        \"md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-2\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarInput({\n  className,\n  ...props\n}: React.ComponentProps<typeof Input>) {\n  return (\n    <Input\n      data-slot=\"sidebar-input\"\n      data-sidebar=\"input\"\n      className={cn(\"bg-background h-8 w-full shadow-none\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-header\"\n      data-sidebar=\"header\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-footer\"\n      data-sidebar=\"footer\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof Separator>) {\n  return (\n    <Separator\n      data-slot=\"sidebar-separator\"\n      data-sidebar=\"separator\"\n      className={cn(\"bg-sidebar-border mx-2 w-auto\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-content\"\n      data-sidebar=\"content\"\n      className={cn(\n        \"flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroup({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-group\"\n      data-sidebar=\"group\"\n      className={cn(\"relative flex w-full min-w-0 flex-col p-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroupLabel({\n  className,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"div\"> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : \"div\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-group-label\"\n      data-sidebar=\"group-label\"\n      className={cn(\n        \"text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:h-4 [&>svg]:w-4 [&>svg]:shrink-0\",\n        \"group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroupAction({\n  className,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-group-action\"\n      data-sidebar=\"group-action\"\n      className={cn(\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground absolute top-3.5 right-3 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 md:after:hidden\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroupContent({\n  className,\n  ...props\n}: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-group-content\"\n      data-sidebar=\"group-content\"\n      className={cn(\"w-full text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenu({ className, ...props }: React.ComponentProps<\"ul\">) {\n  return (\n    <ul\n      data-slot=\"sidebar-menu\"\n      data-sidebar=\"menu\"\n      className={cn(\"flex w-full min-w-0 flex-col gap-1\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuItem({ className, ...props }: React.ComponentProps<\"li\">) {\n  return (\n    <li\n      data-slot=\"sidebar-menu-item\"\n      data-sidebar=\"menu-item\"\n      className={cn(\"group/menu-item relative\", className)}\n      {...props}\n    />\n  )\n}\n\nconst sidebarMenuButtonVariants = cva(\n  \"peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:w-8! group-data-[collapsible=icon]:h-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground\",\n        outline:\n          \"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]\",\n      },\n      size: {\n        default: \"h-8 text-sm\",\n        sm: \"h-7 text-xs\",\n        lg: \"h-12 text-sm group-data-[collapsible=icon]:p-0!\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nfunction SidebarMenuButton({\n  asChild = false,\n  isActive = false,\n  variant = \"default\",\n  size = \"default\",\n  tooltip,\n  className,\n  ...props\n}: React.ComponentProps<\"button\"> & {\n  asChild?: boolean\n  isActive?: boolean\n  tooltip?: string | React.ComponentProps<typeof TooltipContent>\n} & VariantProps<typeof sidebarMenuButtonVariants>) {\n  const Comp = asChild ? Slot : \"button\"\n  const { isMobile, state } = useSidebar()\n\n  const button = (\n    <Comp\n      data-slot=\"sidebar-menu-button\"\n      data-sidebar=\"menu-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(sidebarMenuButtonVariants({ variant, size }), className)}\n      {...props}\n    />\n  )\n\n  if (!tooltip) {\n    return button\n  }\n\n  if (typeof tooltip === \"string\") {\n    tooltip = {\n      children: tooltip,\n    }\n  }\n\n  return (\n    <Tooltip>\n      <TooltipTrigger asChild>{button}</TooltipTrigger>\n      <TooltipContent\n        side=\"right\"\n        align=\"center\"\n        hidden={state !== \"collapsed\" || isMobile}\n        {...tooltip}\n      />\n    </Tooltip>\n  )\n}\n\nfunction SidebarMenuAction({\n  className,\n  asChild = false,\n  showOnHover = false,\n  ...props\n}: React.ComponentProps<\"button\"> & {\n  asChild?: boolean\n  showOnHover?: boolean\n}) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-menu-action\"\n      data-sidebar=\"menu-action\"\n      className={cn(\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground peer-hover/menu-button:text-sidebar-accent-foreground absolute top-1.5 right-1 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 md:after:hidden\",\n        \"peer-data-[size=sm]/menu-button:top-1\",\n        \"peer-data-[size=default]/menu-button:top-1.5\",\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        showOnHover &&\n          \"peer-data-[active=true]/menu-button:text-sidebar-accent-foreground group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 md:opacity-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuBadge({\n  className,\n  ...props\n}: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-menu-badge\"\n      data-sidebar=\"menu-badge\"\n      className={cn(\n        \"text-sidebar-foreground pointer-events-none absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums select-none\",\n        \"peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground\",\n        \"peer-data-[size=sm]/menu-button:top-1\",\n        \"peer-data-[size=default]/menu-button:top-1.5\",\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuSkeleton({\n  className,\n  showIcon = false,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  showIcon?: boolean\n}) {\n  // Random width between 50 to 90%.\n  const width = React.useMemo(() => {\n    return `${Math.floor(Math.random() * 40) + 50}%`\n  }, [])\n\n  return (\n    <div\n      data-slot=\"sidebar-menu-skeleton\"\n      data-sidebar=\"menu-skeleton\"\n      className={cn(\"flex h-8 items-center gap-2 rounded-md px-2\", className)}\n      {...props}\n    >\n      {showIcon && (\n        <Skeleton\n          className=\"size-4 rounded-md\"\n          data-sidebar=\"menu-skeleton-icon\"\n        />\n      )}\n      <Skeleton\n        className=\"h-4 max-w-[var(--skeleton-width)] flex-1\"\n        data-sidebar=\"menu-skeleton-text\"\n        style={\n          {\n            \"--skeleton-width\": width,\n          } as React.CSSProperties\n        }\n      />\n    </div>\n  )\n}\n\nfunction SidebarMenuSub({ className, ...props }: React.ComponentProps<\"ul\">) {\n  return (\n    <ul\n      data-slot=\"sidebar-menu-sub\"\n      data-sidebar=\"menu-sub\"\n      className={cn(\n        \"border-sidebar-border mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l px-2.5 py-0.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuSubItem({\n  className,\n  ...props\n}: React.ComponentProps<\"li\">) {\n  return (\n    <li\n      data-slot=\"sidebar-menu-sub-item\"\n      data-sidebar=\"menu-sub-item\"\n      className={cn(\"group/menu-sub-item relative\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuSubButton({\n  asChild = false,\n  size = \"md\",\n  isActive = false,\n  className,\n  ...props\n}: React.ComponentProps<\"a\"> & {\n  asChild?: boolean\n  size?: \"sm\" | \"md\"\n  isActive?: boolean\n}) {\n  const Comp = asChild ? Slot : \"a\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-menu-sub-button\"\n      data-sidebar=\"menu-sub-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground active:bg-sidebar-accent active:text-sidebar-accent-foreground [&>svg]:text-sidebar-accent-foreground flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 outline outline-2 outline-transparent outline-offset-2 focus-visible:ring-2 disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0\",\n        \"data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground\",\n        size === \"sm\" && \"text-xs\",\n        size === \"md\" && \"text-sm\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Sidebar,\n  SidebarContent,\n  SidebarFooter,\n  SidebarGroup,\n  SidebarGroupAction,\n  SidebarGroupContent,\n  SidebarGroupLabel,\n  SidebarHeader,\n  SidebarInput,\n  SidebarInset,\n  SidebarMenu,\n  SidebarMenuAction,\n  SidebarMenuBadge,\n  SidebarMenuButton,\n  SidebarMenuItem,\n  SidebarMenuSkeleton,\n  SidebarMenuSub,\n  SidebarMenuSubButton,\n  SidebarMenuSubItem,\n  SidebarProvider,\n  SidebarRail,\n  SidebarSeparator,\n  SidebarTrigger,\n  useSidebar,\n}\n","path":null,"size_bytes":21846,"size_tokens":null},"client/src/components/ui/collapsible.tsx":{"content":"\"use client\"\n\nimport * as CollapsiblePrimitive from \"@radix-ui/react-collapsible\"\n\nconst Collapsible = CollapsiblePrimitive.Root\n\nconst CollapsibleTrigger = CollapsiblePrimitive.CollapsibleTrigger\n\nconst CollapsibleContent = CollapsiblePrimitive.CollapsibleContent\n\nexport { Collapsible, CollapsibleTrigger, CollapsibleContent }\n","path":null,"size_bytes":329,"size_tokens":null},"client/src/components/ui/drawer.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport { Drawer as DrawerPrimitive } from \"vaul\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Drawer = ({\n  shouldScaleBackground = true,\n  ...props\n}: React.ComponentProps<typeof DrawerPrimitive.Root>) => (\n  <DrawerPrimitive.Root\n    shouldScaleBackground={shouldScaleBackground}\n    {...props}\n  />\n)\nDrawer.displayName = \"Drawer\"\n\nconst DrawerTrigger = DrawerPrimitive.Trigger\n\nconst DrawerPortal = DrawerPrimitive.Portal\n\nconst DrawerClose = DrawerPrimitive.Close\n\nconst DrawerOverlay = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Overlay\n    ref={ref}\n    className={cn(\"fixed inset-0 z-50 bg-black/80\", className)}\n    {...props}\n  />\n))\nDrawerOverlay.displayName = DrawerPrimitive.Overlay.displayName\n\nconst DrawerContent = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DrawerPortal>\n    <DrawerOverlay />\n    <DrawerPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background\",\n        className\n      )}\n      {...props}\n    >\n      <div className=\"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted\" />\n      {children}\n    </DrawerPrimitive.Content>\n  </DrawerPortal>\n))\nDrawerContent.displayName = \"DrawerContent\"\n\nconst DrawerHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"grid gap-1.5 p-4 text-center sm:text-left\", className)}\n    {...props}\n  />\n)\nDrawerHeader.displayName = \"DrawerHeader\"\n\nconst DrawerFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"mt-auto flex flex-col gap-2 p-4\", className)}\n    {...props}\n  />\n)\nDrawerFooter.displayName = \"DrawerFooter\"\n\nconst DrawerTitle = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDrawerTitle.displayName = DrawerPrimitive.Title.displayName\n\nconst DrawerDescription = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDrawerDescription.displayName = DrawerPrimitive.Description.displayName\n\nexport {\n  Drawer,\n  DrawerPortal,\n  DrawerOverlay,\n  DrawerTrigger,\n  DrawerClose,\n  DrawerContent,\n  DrawerHeader,\n  DrawerFooter,\n  DrawerTitle,\n  DrawerDescription,\n}\n","path":null,"size_bytes":3021,"size_tokens":null},"client/src/components/ui/checkbox.tsx":{"content":"import * as React from \"react\"\nimport * as CheckboxPrimitive from \"@radix-ui/react-checkbox\"\nimport { Check } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Checkbox = React.forwardRef<\n  React.ElementRef<typeof CheckboxPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof CheckboxPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <CheckboxPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground\",\n      className\n    )}\n    {...props}\n  >\n    <CheckboxPrimitive.Indicator\n      className={cn(\"flex items-center justify-center text-current\")}\n    >\n      <Check className=\"h-4 w-4\" />\n    </CheckboxPrimitive.Indicator>\n  </CheckboxPrimitive.Root>\n))\nCheckbox.displayName = CheckboxPrimitive.Root.displayName\n\nexport { Checkbox }\n","path":null,"size_bytes":1056,"size_tokens":null},"client/src/components/ui/toast.tsx":{"content":"import * as React from \"react\"\nimport * as ToastPrimitives from \"@radix-ui/react-toast\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ToastProvider = ToastPrimitives.Provider\n\nconst ToastViewport = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Viewport>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Viewport>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Viewport\n    ref={ref}\n    className={cn(\n      \"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]\",\n      className\n    )}\n    {...props}\n  />\n))\nToastViewport.displayName = ToastPrimitives.Viewport.displayName\n\nconst toastVariants = cva(\n  \"group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full\",\n  {\n    variants: {\n      variant: {\n        default: \"border bg-background text-foreground\",\n        destructive:\n          \"destructive group border-destructive bg-destructive text-destructive-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Toast = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Root> &\n    VariantProps<typeof toastVariants>\n>(({ className, variant, ...props }, ref) => {\n  return (\n    <ToastPrimitives.Root\n      ref={ref}\n      className={cn(toastVariants({ variant }), className)}\n      {...props}\n    />\n  )\n})\nToast.displayName = ToastPrimitives.Root.displayName\n\nconst ToastAction = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Action>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Action>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Action\n    ref={ref}\n    className={cn(\n      \"inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive\",\n      className\n    )}\n    {...props}\n  />\n))\nToastAction.displayName = ToastPrimitives.Action.displayName\n\nconst ToastClose = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Close>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Close>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Close\n    ref={ref}\n    className={cn(\n      \"absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600\",\n      className\n    )}\n    toast-close=\"\"\n    {...props}\n  >\n    <X className=\"h-4 w-4\" />\n  </ToastPrimitives.Close>\n))\nToastClose.displayName = ToastPrimitives.Close.displayName\n\nconst ToastTitle = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Title>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Title>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Title\n    ref={ref}\n    className={cn(\"text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nToastTitle.displayName = ToastPrimitives.Title.displayName\n\nconst ToastDescription = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Description>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Description>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Description\n    ref={ref}\n    className={cn(\"text-sm opacity-90\", className)}\n    {...props}\n  />\n))\nToastDescription.displayName = ToastPrimitives.Description.displayName\n\ntype ToastProps = React.ComponentPropsWithoutRef<typeof Toast>\n\ntype ToastActionElement = React.ReactElement<typeof ToastAction>\n\nexport {\n  type ToastProps,\n  type ToastActionElement,\n  ToastProvider,\n  ToastViewport,\n  Toast,\n  ToastTitle,\n  ToastDescription,\n  ToastClose,\n  ToastAction,\n}\n","path":null,"size_bytes":4845,"size_tokens":null},"google-apps-script.js":{"content":"// Google Apps Script for Mystery Box Contest - Google Sheets Webhook\n// Paste this code in: Extensions > Apps Script\n\nfunction doPost(e) {\n  try {\n    const ss = SpreadsheetApp.getActiveSpreadsheet();\n    const sheet = ss.getSheetByName(\"Customer detail\");\n    const data = JSON.parse(e.postData.contents);\n    \n    if (data.action === \"logTransaction\") {\n      // Log transaction to Transactions sheet with all 20 fields\n      let transactionSheet = ss.getSheetByName(\"Transactions\");\n      if (!transactionSheet) {\n        transactionSheet = ss.insertSheet(\"Transactions\");\n        transactionSheet.appendRow([\n          \"Vehicle Number\",\n          \"Customer Name\", \n          \"Phone Number\",\n          \"Amount\",\n          \"Transaction ID\",\n          \"Reference ID\",\n          \"UPI\",\n          \"Payment Mode\",\n          \"Beneficiary Name\",\n          \"BulkPE Status\",\n          \"BulkPE Message\",\n          \"Transaction Status\",\n          \"Error Message\",\n          \"Timestamp\",\n          \"VPA Address\",\n          \"VPA Account Holder Name\",\n          \"VPA Transaction ID\",\n          \"VPA Reference ID\",\n          \"VPA Status\",\n          \"VPA Message\"\n        ]);\n      }\n      \n      transactionSheet.appendRow([\n        data.vehicleNumber || \"\",\n        data.customerName || \"\",\n        data.phoneNumber || \"\",\n        data.amount || \"\",\n        data.transactionId || \"\",\n        data.referenceId || \"\",\n        data.upi || \"\",\n        data.paymentMode || \"\",\n        data.beneficiaryName || \"\",\n        data.bulkpeStatus || \"\",\n        data.bulkpeMessage || \"\",\n        data.status || \"\",\n        data.errorMessage || \"\",\n        data.timestamp || \"\",\n        data.vpaAddress || \"\",\n        data.vpaAccountHolderName || \"\",\n        data.vpaTransactionId || \"\",\n        data.vpaReferenceId || \"\",\n        data.vpaStatus || \"\",\n        data.vpaMessage || \"\"\n      ]);\n      \n      return ContentService.createTextOutput(JSON.stringify({\n        status: \"success\",\n        message: \"Transaction logged\"\n      })).setMimeType(ContentService.MimeType.JSON);\n    }\n    \n    if (data.action === \"add\") {\n      // Add new customer entry\n      sheet.appendRow([\n        data.name,\n        data.number,\n        data.prize || \"\",\n        data.vehicleNumber,\n        data.timestamp,\n        data.verified || \"No\",\n        \"\", // Amount column (initially empty)\n        \"\"  // Verified By column (initially empty)\n      ]);\n      \n      return ContentService.createTextOutput(JSON.stringify({\n        status: \"success\",\n        message: \"Customer added\"\n      })).setMimeType(ContentService.MimeType.JSON);\n    }\n    \n    if (data.action === \"updateReward\") {\n      // Update reward for a vehicle\n      const vehicleNumber = data.vehicleNumber;\n      const prize = data.prize;\n      \n      const dataRange = sheet.getDataRange();\n      const values = dataRange.getValues();\n      \n      // Find the row with this vehicle number (most recent)\n      for (let i = values.length - 1; i >= 1; i--) {\n        if (values[i][3] === vehicleNumber) {\n          sheet.getRange(i + 1, 3).setValue(prize); // Column C (prize)\n          break;\n        }\n      }\n      \n      return ContentService.createTextOutput(JSON.stringify({\n        status: \"success\"\n      })).setMimeType(ContentService.MimeType.JSON);\n    }\n    \n    if (data.action === \"verify\") {\n      // Verify reward for a vehicle\n      const vehicleNumber = data.vehicleNumber;\n      \n      const dataRange = sheet.getDataRange();\n      const values = dataRange.getValues();\n      \n      // Find the row with this vehicle number (most recent)\n      for (let i = values.length - 1; i >= 1; i--) {\n        if (values[i][3] === vehicleNumber) {\n          sheet.getRange(i + 1, 6).setValue(\"Yes\"); // Column F (verified)\n          break;\n        }\n      }\n      \n      return ContentService.createTextOutput(JSON.stringify({\n        status: \"success\"\n      })).setMimeType(ContentService.MimeType.JSON);\n    }\n    \n    if (data.action === \"verifyAndSetAmount\") {\n      // Verify reward and set the payout amount for a vehicle\n      const vehicleNumber = data.vehicleNumber;\n      const amount = data.amount;\n      const verifierName = data.verifierName || \"Unknown\";\n      \n      const dataRange = sheet.getDataRange();\n      const values = dataRange.getValues();\n      \n      // Find the row with this vehicle number (most recent)\n      for (let i = values.length - 1; i >= 1; i--) {\n        if (values[i][3] === vehicleNumber) {\n          sheet.getRange(i + 1, 6).setValue(\"Yes\"); // Column F (verified)\n          if (amount) {\n            sheet.getRange(i + 1, 7).setValue(amount); // Column G (amount)\n          }\n          sheet.getRange(i + 1, 8).setValue(verifierName); // Column H (verified by)\n          break;\n        }\n      }\n      \n      return ContentService.createTextOutput(JSON.stringify({\n        status: \"success\"\n      })).setMimeType(ContentService.MimeType.JSON);\n    }\n    \n  } catch (error) {\n    return ContentService.createTextOutput(JSON.stringify({\n      status: \"error\",\n      message: error.toString()\n    })).setMimeType(ContentService.MimeType.JSON);\n  }\n}\n\nfunction doGet(e) {\n  try {\n    const ss = SpreadsheetApp.getActiveSpreadsheet();\n    const sheet = ss.getSheetByName(\"Customer detail\");\n    const action = e.parameter.action;\n    \n    if (action === \"getTransactionByPhone\") {\n      // Retrieve cached transaction details from Transactions sheet by phone number\n      // Returns VPA and account holder name if found\n      const phoneNumber = e.parameter.phone;\n      const transactionSheet = ss.getSheetByName(\"Transactions\");\n      \n      if (!transactionSheet) {\n        return ContentService.createTextOutput(JSON.stringify({\n          found: false,\n          vpa: null,\n          accountHolderName: null\n        })).setMimeType(ContentService.MimeType.JSON);\n      }\n      \n      const dataRange = transactionSheet.getDataRange();\n      const values = dataRange.getValues();\n      \n      // Search for most recent successful transaction with this phone number\n      // Column C (index 2): Phone Number\n      // Column O (index 14): VPA Address\n      // Column P (index 15): VPA Account Holder Name\n      // Column S (index 18): VPA Status\n      for (let i = values.length - 1; i >= 1; i--) {\n        const rowPhone = String(values[i][2]).trim();\n        const vpa = values[i][14];\n        const accountHolderName = values[i][15];\n        const vpaStatus = values[i][18];\n        \n        // Match phone number and ensure VPA is valid (not N/A)\n        if (rowPhone === String(phoneNumber).trim() && vpa && vpa !== \"N/A\" && vpaStatus === \"SUCCESS\") {\n          console.log(`[SHEET VPA CACHE] Found cached VPA for ${phoneNumber}: ${vpa}`);\n          return ContentService.createTextOutput(JSON.stringify({\n            found: true,\n            vpa: vpa,\n            accountHolderName: accountHolderName || null\n          })).setMimeType(ContentService.MimeType.JSON);\n        }\n      }\n      \n      console.log(`[SHEET VPA CACHE] No cached VPA found for ${phoneNumber}`);\n      return ContentService.createTextOutput(JSON.stringify({\n        found: false,\n        vpa: null,\n        accountHolderName: null\n      })).setMimeType(ContentService.MimeType.JSON);\n    }\n    \n    if (action === \"getAll\") {\n      const dataRange = sheet.getDataRange();\n      const values = dataRange.getValues();\n      const customers = [];\n      \n      // Skip header row\n      for (let i = 1; i < values.length; i++) {\n        customers.push({\n          name: values[i][0],\n          number: values[i][1],\n          prize: values[i][2],\n          vehicleNumber: values[i][3],\n          timestamp: values[i][4],\n          verified: values[i][5] === \"Yes\",\n          amount: values[i][6] || null\n        });\n      }\n      \n      return ContentService.createTextOutput(JSON.stringify({\n        customers: customers\n      })).setMimeType(ContentService.MimeType.JSON);\n    }\n    \n    if (action === \"getByVehicle\") {\n      const vehicleNumber = e.parameter.vehicleNumber;\n      const dataRange = sheet.getDataRange();\n      const values = dataRange.getValues();\n      \n      // Find the first occurrence of this vehicle (oldest entry)\n      for (let i = 1; i < values.length; i++) {\n        if (values[i][3] === vehicleNumber) {\n          return ContentService.createTextOutput(JSON.stringify({\n            customer: {\n              name: values[i][0],\n              number: values[i][1],\n              prize: values[i][2],\n              vehicleNumber: values[i][3],\n              timestamp: values[i][4],\n              verified: values[i][5] === \"Yes\",\n              amount: values[i][6] || null\n            }\n          })).setMimeType(ContentService.MimeType.JSON);\n        }\n      }\n      \n      return ContentService.createTextOutput(JSON.stringify({\n        customer: null\n      })).setMimeType(ContentService.MimeType.JSON);\n    }\n    \n    if (action === \"getTodayByVehicle\") {\n      const vehicleNumber = e.parameter.vehicleNumber;\n      const today = new Date();\n      today.setHours(0, 0, 0, 0);\n      \n      const dataRange = sheet.getDataRange();\n      const values = dataRange.getValues();\n      \n      // Check if vehicle played today\n      for (let i = 1; i < values.length; i++) {\n        if (values[i][3] === vehicleNumber) {\n          const entryDate = new Date(values[i][4]);\n          entryDate.setHours(0, 0, 0, 0);\n          \n          if (entryDate.getTime() === today.getTime()) {\n            return ContentService.createTextOutput(JSON.stringify({\n              customer: {\n                name: values[i][0],\n                number: values[i][1],\n                prize: values[i][2],\n                vehicleNumber: values[i][3],\n                timestamp: values[i][4],\n                verified: values[i][5] === \"Yes\",\n                amount: values[i][6] || null\n              }\n            })).setMimeType(ContentService.MimeType.JSON);\n          }\n        }\n      }\n      \n      return ContentService.createTextOutput(JSON.stringify({\n        customer: null\n      })).setMimeType(ContentService.MimeType.JSON);\n    }\n    \n    if (action === \"getVerifiedCount\") {\n      const dataRange = sheet.getDataRange();\n      const values = dataRange.getValues();\n      let count = 0;\n      \n      // Count verified rewards\n      for (let i = 1; i < values.length; i++) {\n        if (values[i][5] === \"Yes\" && values[i][2] !== \"\") {\n          count++;\n        }\n      }\n      \n      return ContentService.createTextOutput(JSON.stringify({\n        count: count\n      })).setMimeType(ContentService.MimeType.JSON);\n    }\n    \n    if (action === \"getVerifiedCountToday\") {\n      const today = new Date();\n      today.setHours(0, 0, 0, 0);\n      \n      const dataRange = sheet.getDataRange();\n      const values = dataRange.getValues();\n      let count = 0;\n      \n      // Count verified rewards from today only\n      for (let i = 1; i < values.length; i++) {\n        if (values[i][5] === \"Yes\" && values[i][2] !== \"\") {\n          const entryDate = new Date(values[i][4]);\n          entryDate.setHours(0, 0, 0, 0);\n          if (entryDate.getTime() === today.getTime()) {\n            count++;\n          }\n        }\n      }\n      \n      return ContentService.createTextOutput(JSON.stringify({\n        count: count\n      })).setMimeType(ContentService.MimeType.JSON);\n    }\n    \n    if (action === \"getTotalVerifiedAmount\") {\n      const vehicleNumber = e.parameter.vehicleNumber;\n      const dataRange = sheet.getDataRange();\n      const values = dataRange.getValues();\n      let totalAmount = 0;\n      \n      // Sum all verified rewards for this vehicle\n      for (let i = 1; i < values.length; i++) {\n        if (values[i][3] === vehicleNumber && values[i][5] === \"Yes\" && values[i][2] !== \"\") {\n          const prize = parseInt(values[i][2]) || 0;\n          totalAmount += prize;\n        }\n      }\n      \n      return ContentService.createTextOutput(JSON.stringify({\n        totalAmount: totalAmount\n      })).setMimeType(ContentService.MimeType.JSON);\n    }\n    \n  } catch (error) {\n    return ContentService.createTextOutput(JSON.stringify({\n      status: \"error\",\n      message: error.toString()\n    })).setMimeType(ContentService.MimeType.JSON);\n  }\n}\n","path":null,"size_bytes":12228,"size_tokens":null},"tailwind.config.ts":{"content":"import type { Config } from \"tailwindcss\";\n\nexport default {\n  darkMode: [\"class\"],\n  content: [\"./client/index.html\", \"./client/src/**/*.{js,jsx,ts,tsx}\"],\n  theme: {\n    extend: {\n      borderRadius: {\n        lg: \".5625rem\", /* 9px */\n        md: \".375rem\", /* 6px */\n        sm: \".1875rem\", /* 3px */\n      },\n      colors: {\n        // Flat / base colors (regular buttons)\n        background: \"hsl(var(--background) / <alpha-value>)\",\n        foreground: \"hsl(var(--foreground) / <alpha-value>)\",\n        border: \"hsl(var(--border) / <alpha-value>)\",\n        input: \"hsl(var(--input) / <alpha-value>)\",\n        card: {\n          DEFAULT: \"hsl(var(--card) / <alpha-value>)\",\n          foreground: \"hsl(var(--card-foreground) / <alpha-value>)\",\n          border: \"hsl(var(--card-border) / <alpha-value>)\",\n        },\n        popover: {\n          DEFAULT: \"hsl(var(--popover) / <alpha-value>)\",\n          foreground: \"hsl(var(--popover-foreground) / <alpha-value>)\",\n          border: \"hsl(var(--popover-border) / <alpha-value>)\",\n        },\n        primary: {\n          DEFAULT: \"hsl(var(--primary) / <alpha-value>)\",\n          foreground: \"hsl(var(--primary-foreground) / <alpha-value>)\",\n          border: \"var(--primary-border)\",\n        },\n        secondary: {\n          DEFAULT: \"hsl(var(--secondary) / <alpha-value>)\",\n          foreground: \"hsl(var(--secondary-foreground) / <alpha-value>)\",\n          border: \"var(--secondary-border)\",\n        },\n        muted: {\n          DEFAULT: \"hsl(var(--muted) / <alpha-value>)\",\n          foreground: \"hsl(var(--muted-foreground) / <alpha-value>)\",\n          border: \"var(--muted-border)\",\n        },\n        accent: {\n          DEFAULT: \"hsl(var(--accent) / <alpha-value>)\",\n          foreground: \"hsl(var(--accent-foreground) / <alpha-value>)\",\n          border: \"var(--accent-border)\",\n        },\n        destructive: {\n          DEFAULT: \"hsl(var(--destructive) / <alpha-value>)\",\n          foreground: \"hsl(var(--destructive-foreground) / <alpha-value>)\",\n          border: \"var(--destructive-border)\",\n        },\n        ring: \"hsl(var(--ring) / <alpha-value>)\",\n        chart: {\n          \"1\": \"hsl(var(--chart-1) / <alpha-value>)\",\n          \"2\": \"hsl(var(--chart-2) / <alpha-value>)\",\n          \"3\": \"hsl(var(--chart-3) / <alpha-value>)\",\n          \"4\": \"hsl(var(--chart-4) / <alpha-value>)\",\n          \"5\": \"hsl(var(--chart-5) / <alpha-value>)\",\n        },\n        sidebar: {\n          ring: \"hsl(var(--sidebar-ring) / <alpha-value>)\",\n          DEFAULT: \"hsl(var(--sidebar) / <alpha-value>)\",\n          foreground: \"hsl(var(--sidebar-foreground) / <alpha-value>)\",\n          border: \"hsl(var(--sidebar-border) / <alpha-value>)\",\n        },\n        \"sidebar-primary\": {\n          DEFAULT: \"hsl(var(--sidebar-primary) / <alpha-value>)\",\n          foreground: \"hsl(var(--sidebar-primary-foreground) / <alpha-value>)\",\n          border: \"var(--sidebar-primary-border)\",\n        },\n        \"sidebar-accent\": {\n          DEFAULT: \"hsl(var(--sidebar-accent) / <alpha-value>)\",\n          foreground: \"hsl(var(--sidebar-accent-foreground) / <alpha-value>)\",\n          border: \"var(--sidebar-accent-border)\"\n        },\n        status: {\n          online: \"rgb(34 197 94)\",\n          away: \"rgb(245 158 11)\",\n          busy: \"rgb(239 68 68)\",\n          offline: \"rgb(156 163 175)\",\n        },\n      },\n      fontFamily: {\n        sans: [\"var(--font-sans)\"],\n        serif: [\"var(--font-serif)\"],\n        mono: [\"var(--font-mono)\"],\n      },\n      keyframes: {\n        \"accordion-down\": {\n          from: { height: \"0\" },\n          to: { height: \"var(--radix-accordion-content-height)\" },\n        },\n        \"accordion-up\": {\n          from: { height: \"var(--radix-accordion-content-height)\" },\n          to: { height: \"0\" },\n        },\n      },\n      animation: {\n        \"accordion-down\": \"accordion-down 0.2s ease-out\",\n        \"accordion-up\": \"accordion-up 0.2s ease-out\",\n      },\n    },\n  },\n  plugins: [require(\"tailwindcss-animate\"), require(\"@tailwindcss/typography\")],\n} satisfies Config;\n","path":null,"size_bytes":4050,"size_tokens":null},"client/src/components/ui/card.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n));\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n));\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n));\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardDescription,\n  CardContent,\n}\n","path":null,"size_bytes":1904,"size_tokens":null},"client/src/lib/utils.ts":{"content":"import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n","path":null,"size_bytes":166,"size_tokens":null},"client/src/hooks/use-mobile.tsx":{"content":"import * as React from \"react\"\n\nconst MOBILE_BREAKPOINT = 768\n\nexport function useIsMobile() {\n  const [isMobile, setIsMobile] = React.useState<boolean | undefined>(undefined)\n\n  React.useEffect(() => {\n    const mql = window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT - 1}px)`)\n    const onChange = () => {\n      setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    }\n    mql.addEventListener(\"change\", onChange)\n    setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    return () => mql.removeEventListener(\"change\", onChange)\n  }, [])\n\n  return !!isMobile\n}\n","path":null,"size_bytes":565,"size_tokens":null},"client/src/components/ui/command.tsx":{"content":"import * as React from \"react\"\nimport { type DialogProps } from \"@radix-ui/react-dialog\"\nimport { Command as CommandPrimitive } from \"cmdk\"\nimport { Search } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Dialog, DialogContent } from \"@/components/ui/dialog\"\n\nconst Command = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nCommand.displayName = CommandPrimitive.displayName\n\nconst CommandDialog = ({ children, ...props }: DialogProps) => {\n  return (\n    <Dialog {...props}>\n      <DialogContent className=\"overflow-hidden p-0 shadow-lg\">\n        <Command className=\"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5\">\n          {children}\n        </Command>\n      </DialogContent>\n    </Dialog>\n  )\n}\n\nconst CommandInput = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Input>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Input>\n>(({ className, ...props }, ref) => (\n  <div className=\"flex items-center border-b px-3\" cmdk-input-wrapper=\"\">\n    <Search className=\"mr-2 h-4 w-4 shrink-0 opacity-50\" />\n    <CommandPrimitive.Input\n      ref={ref}\n      className={cn(\n        \"flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    />\n  </div>\n))\n\nCommandInput.displayName = CommandPrimitive.Input.displayName\n\nconst CommandList = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.List\n    ref={ref}\n    className={cn(\"max-h-[300px] overflow-y-auto overflow-x-hidden\", className)}\n    {...props}\n  />\n))\n\nCommandList.displayName = CommandPrimitive.List.displayName\n\nconst CommandEmpty = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Empty>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Empty>\n>((props, ref) => (\n  <CommandPrimitive.Empty\n    ref={ref}\n    className=\"py-6 text-center text-sm\"\n    {...props}\n  />\n))\n\nCommandEmpty.displayName = CommandPrimitive.Empty.displayName\n\nconst CommandGroup = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Group>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Group>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Group\n    ref={ref}\n    className={cn(\n      \"overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandGroup.displayName = CommandPrimitive.Group.displayName\n\nconst CommandSeparator = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 h-px bg-border\", className)}\n    {...props}\n  />\n))\nCommandSeparator.displayName = CommandPrimitive.Separator.displayName\n\nconst CommandItem = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandItem.displayName = CommandPrimitive.Item.displayName\n\nconst CommandShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nCommandShortcut.displayName = \"CommandShortcut\"\n\nexport {\n  Command,\n  CommandDialog,\n  CommandInput,\n  CommandList,\n  CommandEmpty,\n  CommandGroup,\n  CommandItem,\n  CommandShortcut,\n  CommandSeparator,\n}\n","path":null,"size_bytes":4885,"size_tokens":null},"client/src/components/ui/resizable.tsx":{"content":"\"use client\"\n\nimport { GripVertical } from \"lucide-react\"\nimport * as ResizablePrimitive from \"react-resizable-panels\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ResizablePanelGroup = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelGroup>) => (\n  <ResizablePrimitive.PanelGroup\n    className={cn(\n      \"flex h-full w-full data-[panel-group-direction=vertical]:flex-col\",\n      className\n    )}\n    {...props}\n  />\n)\n\nconst ResizablePanel = ResizablePrimitive.Panel\n\nconst ResizableHandle = ({\n  withHandle,\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelResizeHandle> & {\n  withHandle?: boolean\n}) => (\n  <ResizablePrimitive.PanelResizeHandle\n    className={cn(\n      \"relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90\",\n      className\n    )}\n    {...props}\n  >\n    {withHandle && (\n      <div className=\"z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border\">\n        <GripVertical className=\"h-2.5 w-2.5\" />\n      </div>\n    )}\n  </ResizablePrimitive.PanelResizeHandle>\n)\n\nexport { ResizablePanelGroup, ResizablePanel, ResizableHandle }\n","path":null,"size_bytes":1723,"size_tokens":null},"client/src/components/ui/alert.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst alertVariants = cva(\n  \"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-background text-foreground\",\n        destructive:\n          \"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Alert = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & VariantProps<typeof alertVariants>\n>(({ className, variant, ...props }, ref) => (\n  <div\n    ref={ref}\n    role=\"alert\"\n    className={cn(alertVariants({ variant }), className)}\n    {...props}\n  />\n))\nAlert.displayName = \"Alert\"\n\nconst AlertTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h5\n    ref={ref}\n    className={cn(\"mb-1 font-medium leading-none tracking-tight\", className)}\n    {...props}\n  />\n))\nAlertTitle.displayName = \"AlertTitle\"\n\nconst AlertDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm [&_p]:leading-relaxed\", className)}\n    {...props}\n  />\n))\nAlertDescription.displayName = \"AlertDescription\"\n\nexport { Alert, AlertTitle, AlertDescription }\n","path":null,"size_bytes":1584,"size_tokens":null},"replit.md":{"content":"# Mystery Box Contest Game\n\n## Project Overview\nA web-based mystery box contest game where customers register with their details to open animated prize boxes and win 1-5 rupees cashback rewards. Features a forest green color scheme with 3D isometric mystery box design.\n\n## Key Features\n- Customer registration with phone number and vehicle number\n- 3D mystery box animation with magical effects\n- Random cashback rewards (1-5 rupees)\n- **Employee-based verification system** (customers cannot self-verify)\n- Employee login and verification dashboard\n- 45-second verification window with real-time polling\n- WhatsApp bill upload fallback if not verified in time\n- Google Sheets integration for data persistence\n- Vehicle number validation (primary key)\n- Daily play limit (one entry per vehicle per day)\n\n## Employee Verification System\n- Employees access `/employee` to login (credentials: employee / employee123)\n- After login, employees see unverified customers in `/employee/dashboard`\n- Employees can verify customers by clicking a checkbox next to their name\n- Customers see a 45-second countdown while waiting for verification\n- If verified: Customer sees success message and payment link notification\n- If not verified in 45 seconds: Customer can upload bill photo via WhatsApp\n- WhatsApp number for verification: +918817828153\n\n## Tech Stack\n- Frontend: React, TypeScript, Vite, Tailwind CSS, shadcn/ui\n- Backend: Express.js, Node.js\n- Data Storage: Google Sheets (via webhook)\n- In-Memory Storage: For session management\n\n## Important Files\n- `client/src/pages/home.tsx` - Main customer game page\n- `client/src/pages/employee-login.tsx` - Employee login page\n- `client/src/pages/employee-dashboard.tsx` - Employee verification dashboard\n- `client/src/components/MysteryBox.tsx` - 3D mystery box component\n- `client/src/components/CustomerForm.tsx` - Registration form\n- `server/routes.ts` - API routes (including employee auth and verification)\n- `server/storage.ts` - In-memory storage with employee data\n- `server/googleSheets.ts` - Google Sheets webhook service\n- `shared/schema.ts` - Data models and validation (includes employee schema)\n- `design_guidelines.md` - Design system and color palette\n\n## Google Sheets Setup\n **Important**: The application requires Google Sheets to be set up for data persistence.\n\n### Webhook URL\n```\nhttps://script.google.com/macros/s/AKfycbx27qhwRz4fBO5URWjiWsIC2R7qtXN4RhS534vJI9YHG78PsNhqei7YIzaIz__pEXHE/exec\n```\n\n### Setup Instructions\n1. See `GOOGLE_SHEETS_SETUP.md` for detailed setup instructions\n2. Copy the code from `google-apps-script.js` to your Google Sheet's Apps Script editor\n3. Deploy as Web App with \"Anyone\" access\n4. The webhook URL is already configured in `server/googleSheets.ts`\n\n### Sheet Structure\n- Sheet Name: \"Customer detail\"\n- Columns: name, number, prize, vehicleNumber, timestamp, verified\n\n## Business Rules\n1. **Vehicle Number as Primary Key**: Same vehicle must have same name and phone number\n2. **Daily Limit**: One mystery box per vehicle per day\n3. **Reward Range**: 1-5 rupees cashback\n4. **Verification Required**: Rewards must be verified before counting in stats\n5. **Stats Display**: Only verified rewards show in the total count\n\n## Data Flow\n1. Customer fills registration form\n2. System validates vehicle number against Google Sheets\n3. If valid, customer can open mystery box\n4. Random reward (1-5 rupees) is assigned\n5. Reward must be verified by clicking \"Verify Reward\"\n6. Only verified rewards count in the stats header\n\n## Color Scheme\n- Primary Green: #41886e\n- Light Green: #5ba085\n- Dark Green: #2d5f4a\n- Gold Accent: #ffd700\n- Background: #1a1a1a\n\n## Development\n- Run: `npm run dev`\n- Workflow: \"Start application\" (already configured)\n- Port: 5000\n\n## Notes\n- User dismissed the native Google Sheets integration - using webhook approach instead\n- In-memory storage used for session management, Google Sheets for persistence\n- Daily reset is handled by checking timestamp in Google Sheets\n","path":null,"size_bytes":4001,"size_tokens":null},"client/src/components/ui/badge.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  // Whitespace-nowrap: Badges should never wrap.\n  \"whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\" +\n  \" hover-elevate \" ,\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground shadow-xs\",\n        secondary: \"border-transparent bg-secondary text-secondary-foreground\",\n        destructive:\n          \"border-transparent bg-destructive text-destructive-foreground shadow-xs\",\n\n        outline: \" border [border-color:var(--badge-outline)] shadow-xs\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  },\n)\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  );\n}\n\nexport { Badge, badgeVariants }\n","path":null,"size_bytes":1202,"size_tokens":null},"client/src/components/ui/alert-dialog.tsx":{"content":"import * as React from \"react\"\nimport * as AlertDialogPrimitive from \"@radix-ui/react-alert-dialog\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nconst AlertDialog = AlertDialogPrimitive.Root\n\nconst AlertDialogTrigger = AlertDialogPrimitive.Trigger\n\nconst AlertDialogPortal = AlertDialogPrimitive.Portal\n\nconst AlertDialogOverlay = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nAlertDialogOverlay.displayName = AlertDialogPrimitive.Overlay.displayName\n\nconst AlertDialogContent = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPortal>\n    <AlertDialogOverlay />\n    <AlertDialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    />\n  </AlertDialogPortal>\n))\nAlertDialogContent.displayName = AlertDialogPrimitive.Content.displayName\n\nconst AlertDialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogHeader.displayName = \"AlertDialogHeader\"\n\nconst AlertDialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogFooter.displayName = \"AlertDialogFooter\"\n\nconst AlertDialogTitle = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold\", className)}\n    {...props}\n  />\n))\nAlertDialogTitle.displayName = AlertDialogPrimitive.Title.displayName\n\nconst AlertDialogDescription = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nAlertDialogDescription.displayName =\n  AlertDialogPrimitive.Description.displayName\n\nconst AlertDialogAction = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Action>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Action>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Action\n    ref={ref}\n    className={cn(buttonVariants(), className)}\n    {...props}\n  />\n))\nAlertDialogAction.displayName = AlertDialogPrimitive.Action.displayName\n\nconst AlertDialogCancel = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Cancel>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Cancel>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Cancel\n    ref={ref}\n    className={cn(\n      buttonVariants({ variant: \"outline\" }),\n      \"mt-2 sm:mt-0\",\n      className\n    )}\n    {...props}\n  />\n))\nAlertDialogCancel.displayName = AlertDialogPrimitive.Cancel.displayName\n\nexport {\n  AlertDialog,\n  AlertDialogPortal,\n  AlertDialogOverlay,\n  AlertDialogTrigger,\n  AlertDialogContent,\n  AlertDialogHeader,\n  AlertDialogFooter,\n  AlertDialogTitle,\n  AlertDialogDescription,\n  AlertDialogAction,\n  AlertDialogCancel,\n}\n","path":null,"size_bytes":4420,"size_tokens":null},"client/src/components/ui/toaster.tsx":{"content":"import { useToast } from \"@/hooks/use-toast\"\nimport {\n  Toast,\n  ToastClose,\n  ToastDescription,\n  ToastProvider,\n  ToastTitle,\n  ToastViewport,\n} from \"@/components/ui/toast\"\n\nexport function Toaster() {\n  const { toasts } = useToast()\n\n  return (\n    <ToastProvider>\n      {toasts.map(function ({ id, title, description, action, ...props }) {\n        return (\n          <Toast key={id} {...props}>\n            <div className=\"grid gap-1\">\n              {title && <ToastTitle>{title}</ToastTitle>}\n              {description && (\n                <ToastDescription>{description}</ToastDescription>\n              )}\n            </div>\n            {action}\n            <ToastClose />\n          </Toast>\n        )\n      })}\n      <ToastViewport />\n    </ToastProvider>\n  )\n}\n","path":null,"size_bytes":772,"size_tokens":null},"client/src/components/ui/chart.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as RechartsPrimitive from \"recharts\"\n\nimport { cn } from \"@/lib/utils\"\n\n// Format: { THEME_NAME: CSS_SELECTOR }\nconst THEMES = { light: \"\", dark: \".dark\" } as const\n\nexport type ChartConfig = {\n  [k in string]: {\n    label?: React.ReactNode\n    icon?: React.ComponentType\n  } & (\n    | { color?: string; theme?: never }\n    | { color?: never; theme: Record<keyof typeof THEMES, string> }\n  )\n}\n\ntype ChartContextProps = {\n  config: ChartConfig\n}\n\nconst ChartContext = React.createContext<ChartContextProps | null>(null)\n\nfunction useChart() {\n  const context = React.useContext(ChartContext)\n\n  if (!context) {\n    throw new Error(\"useChart must be used within a <ChartContainer />\")\n  }\n\n  return context\n}\n\nconst ChartContainer = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    config: ChartConfig\n    children: React.ComponentProps<\n      typeof RechartsPrimitive.ResponsiveContainer\n    >[\"children\"]\n  }\n>(({ id, className, children, config, ...props }, ref) => {\n  const uniqueId = React.useId()\n  const chartId = `chart-${id || uniqueId.replace(/:/g, \"\")}`\n\n  return (\n    <ChartContext.Provider value={{ config }}>\n      <div\n        data-chart={chartId}\n        ref={ref}\n        className={cn(\n          \"flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none\",\n          className\n        )}\n        {...props}\n      >\n        <ChartStyle id={chartId} config={config} />\n        <RechartsPrimitive.ResponsiveContainer>\n          {children}\n        </RechartsPrimitive.ResponsiveContainer>\n      </div>\n    </ChartContext.Provider>\n  )\n})\nChartContainer.displayName = \"Chart\"\n\nconst ChartStyle = ({ id, config }: { id: string; config: ChartConfig }) => {\n  const colorConfig = Object.entries(config).filter(\n    ([, config]) => config.theme || config.color\n  )\n\n  if (!colorConfig.length) {\n    return null\n  }\n\n  return (\n    <style\n      dangerouslySetInnerHTML={{\n        __html: Object.entries(THEMES)\n          .map(\n            ([theme, prefix]) => `\n${prefix} [data-chart=${id}] {\n${colorConfig\n  .map(([key, itemConfig]) => {\n    const color =\n      itemConfig.theme?.[theme as keyof typeof itemConfig.theme] ||\n      itemConfig.color\n    return color ? `  --color-${key}: ${color};` : null\n  })\n  .join(\"\\n\")}\n}\n`\n          )\n          .join(\"\\n\"),\n      }}\n    />\n  )\n}\n\nconst ChartTooltip = RechartsPrimitive.Tooltip\n\nconst ChartTooltipContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<typeof RechartsPrimitive.Tooltip> &\n    React.ComponentProps<\"div\"> & {\n      hideLabel?: boolean\n      hideIndicator?: boolean\n      indicator?: \"line\" | \"dot\" | \"dashed\"\n      nameKey?: string\n      labelKey?: string\n    }\n>(\n  (\n    {\n      active,\n      payload,\n      className,\n      indicator = \"dot\",\n      hideLabel = false,\n      hideIndicator = false,\n      label,\n      labelFormatter,\n      labelClassName,\n      formatter,\n      color,\n      nameKey,\n      labelKey,\n    },\n    ref\n  ) => {\n    const { config } = useChart()\n\n    const tooltipLabel = React.useMemo(() => {\n      if (hideLabel || !payload?.length) {\n        return null\n      }\n\n      const [item] = payload\n      const key = `${labelKey || item?.dataKey || item?.name || \"value\"}`\n      const itemConfig = getPayloadConfigFromPayload(config, item, key)\n      const value =\n        !labelKey && typeof label === \"string\"\n          ? config[label as keyof typeof config]?.label || label\n          : itemConfig?.label\n\n      if (labelFormatter) {\n        return (\n          <div className={cn(\"font-medium\", labelClassName)}>\n            {labelFormatter(value, payload)}\n          </div>\n        )\n      }\n\n      if (!value) {\n        return null\n      }\n\n      return <div className={cn(\"font-medium\", labelClassName)}>{value}</div>\n    }, [\n      label,\n      labelFormatter,\n      payload,\n      hideLabel,\n      labelClassName,\n      config,\n      labelKey,\n    ])\n\n    if (!active || !payload?.length) {\n      return null\n    }\n\n    const nestLabel = payload.length === 1 && indicator !== \"dot\"\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl\",\n          className\n        )}\n      >\n        {!nestLabel ? tooltipLabel : null}\n        <div className=\"grid gap-1.5\">\n          {payload.map((item, index) => {\n            const key = `${nameKey || item.name || item.dataKey || \"value\"}`\n            const itemConfig = getPayloadConfigFromPayload(config, item, key)\n            const indicatorColor = color || item.payload.fill || item.color\n\n            return (\n              <div\n                key={item.dataKey}\n                className={cn(\n                  \"flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground\",\n                  indicator === \"dot\" && \"items-center\"\n                )}\n              >\n                {formatter && item?.value !== undefined && item.name ? (\n                  formatter(item.value, item.name, item, index, item.payload)\n                ) : (\n                  <>\n                    {itemConfig?.icon ? (\n                      <itemConfig.icon />\n                    ) : (\n                      !hideIndicator && (\n                        <div\n                          className={cn(\n                            \"shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]\",\n                            {\n                              \"h-2.5 w-2.5\": indicator === \"dot\",\n                              \"w-1\": indicator === \"line\",\n                              \"w-0 border-[1.5px] border-dashed bg-transparent\":\n                                indicator === \"dashed\",\n                              \"my-0.5\": nestLabel && indicator === \"dashed\",\n                            }\n                          )}\n                          style={\n                            {\n                              \"--color-bg\": indicatorColor,\n                              \"--color-border\": indicatorColor,\n                            } as React.CSSProperties\n                          }\n                        />\n                      )\n                    )}\n                    <div\n                      className={cn(\n                        \"flex flex-1 justify-between leading-none\",\n                        nestLabel ? \"items-end\" : \"items-center\"\n                      )}\n                    >\n                      <div className=\"grid gap-1.5\">\n                        {nestLabel ? tooltipLabel : null}\n                        <span className=\"text-muted-foreground\">\n                          {itemConfig?.label || item.name}\n                        </span>\n                      </div>\n                      {item.value && (\n                        <span className=\"font-mono font-medium tabular-nums text-foreground\">\n                          {item.value.toLocaleString()}\n                        </span>\n                      )}\n                    </div>\n                  </>\n                )}\n              </div>\n            )\n          })}\n        </div>\n      </div>\n    )\n  }\n)\nChartTooltipContent.displayName = \"ChartTooltip\"\n\nconst ChartLegend = RechartsPrimitive.Legend\n\nconst ChartLegendContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> &\n    Pick<RechartsPrimitive.LegendProps, \"payload\" | \"verticalAlign\"> & {\n      hideIcon?: boolean\n      nameKey?: string\n    }\n>(\n  (\n    { className, hideIcon = false, payload, verticalAlign = \"bottom\", nameKey },\n    ref\n  ) => {\n    const { config } = useChart()\n\n    if (!payload?.length) {\n      return null\n    }\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"flex items-center justify-center gap-4\",\n          verticalAlign === \"top\" ? \"pb-3\" : \"pt-3\",\n          className\n        )}\n      >\n        {payload.map((item) => {\n          const key = `${nameKey || item.dataKey || \"value\"}`\n          const itemConfig = getPayloadConfigFromPayload(config, item, key)\n\n          return (\n            <div\n              key={item.value}\n              className={cn(\n                \"flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground\"\n              )}\n            >\n              {itemConfig?.icon && !hideIcon ? (\n                <itemConfig.icon />\n              ) : (\n                <div\n                  className=\"h-2 w-2 shrink-0 rounded-[2px]\"\n                  style={{\n                    backgroundColor: item.color,\n                  }}\n                />\n              )}\n              {itemConfig?.label}\n            </div>\n          )\n        })}\n      </div>\n    )\n  }\n)\nChartLegendContent.displayName = \"ChartLegend\"\n\n// Helper to extract item config from a payload.\nfunction getPayloadConfigFromPayload(\n  config: ChartConfig,\n  payload: unknown,\n  key: string\n) {\n  if (typeof payload !== \"object\" || payload === null) {\n    return undefined\n  }\n\n  const payloadPayload =\n    \"payload\" in payload &&\n    typeof payload.payload === \"object\" &&\n    payload.payload !== null\n      ? payload.payload\n      : undefined\n\n  let configLabelKey: string = key\n\n  if (\n    key in payload &&\n    typeof payload[key as keyof typeof payload] === \"string\"\n  ) {\n    configLabelKey = payload[key as keyof typeof payload] as string\n  } else if (\n    payloadPayload &&\n    key in payloadPayload &&\n    typeof payloadPayload[key as keyof typeof payloadPayload] === \"string\"\n  ) {\n    configLabelKey = payloadPayload[\n      key as keyof typeof payloadPayload\n    ] as string\n  }\n\n  return configLabelKey in config\n    ? config[configLabelKey]\n    : config[key as keyof typeof config]\n}\n\nexport {\n  ChartContainer,\n  ChartTooltip,\n  ChartTooltipContent,\n  ChartLegend,\n  ChartLegendContent,\n  ChartStyle,\n}\n","path":null,"size_bytes":10481,"size_tokens":null},"client/src/components/ui/navigation-menu.tsx":{"content":"import * as React from \"react\"\nimport * as NavigationMenuPrimitive from \"@radix-ui/react-navigation-menu\"\nimport { cva } from \"class-variance-authority\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst NavigationMenu = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative z-10 flex max-w-max flex-1 items-center justify-center\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <NavigationMenuViewport />\n  </NavigationMenuPrimitive.Root>\n))\nNavigationMenu.displayName = NavigationMenuPrimitive.Root.displayName\n\nconst NavigationMenuList = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.List\n    ref={ref}\n    className={cn(\n      \"group flex flex-1 list-none items-center justify-center space-x-1\",\n      className\n    )}\n    {...props}\n  />\n))\nNavigationMenuList.displayName = NavigationMenuPrimitive.List.displayName\n\nconst NavigationMenuItem = NavigationMenuPrimitive.Item\n\nconst navigationMenuTriggerStyle = cva(\n  \"group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[state=open]:text-accent-foreground data-[state=open]:bg-accent/50 data-[state=open]:hover:bg-accent data-[state=open]:focus:bg-accent\"\n)\n\nconst NavigationMenuTrigger = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Trigger\n    ref={ref}\n    className={cn(navigationMenuTriggerStyle(), \"group\", className)}\n    {...props}\n  >\n    {children}{\" \"}\n    <ChevronDown\n      className=\"relative top-[1px] ml-1 h-3 w-3 transition duration-200 group-data-[state=open]:rotate-180\"\n      aria-hidden=\"true\"\n    />\n  </NavigationMenuPrimitive.Trigger>\n))\nNavigationMenuTrigger.displayName = NavigationMenuPrimitive.Trigger.displayName\n\nconst NavigationMenuContent = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"left-0 top-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 md:absolute md:w-auto \",\n      className\n    )}\n    {...props}\n  />\n))\nNavigationMenuContent.displayName = NavigationMenuPrimitive.Content.displayName\n\nconst NavigationMenuLink = NavigationMenuPrimitive.Link\n\nconst NavigationMenuViewport = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Viewport>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Viewport>\n>(({ className, ...props }, ref) => (\n  <div className={cn(\"absolute left-0 top-full flex justify-center\")}>\n    <NavigationMenuPrimitive.Viewport\n      className={cn(\n        \"origin-top-center relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[var(--radix-navigation-menu-viewport-width)]\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  </div>\n))\nNavigationMenuViewport.displayName =\n  NavigationMenuPrimitive.Viewport.displayName\n\nconst NavigationMenuIndicator = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Indicator>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Indicator>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Indicator\n    ref={ref}\n    className={cn(\n      \"top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in\",\n      className\n    )}\n    {...props}\n  >\n    <div className=\"relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm bg-border shadow-md\" />\n  </NavigationMenuPrimitive.Indicator>\n))\nNavigationMenuIndicator.displayName =\n  NavigationMenuPrimitive.Indicator.displayName\n\nexport {\n  navigationMenuTriggerStyle,\n  NavigationMenu,\n  NavigationMenuList,\n  NavigationMenuItem,\n  NavigationMenuContent,\n  NavigationMenuTrigger,\n  NavigationMenuLink,\n  NavigationMenuIndicator,\n  NavigationMenuViewport,\n}\n","path":null,"size_bytes":5128,"size_tokens":null},"client/src/components/MysteryBox.tsx":{"content":"import { useState, type CSSProperties } from \"react\";\nimport boxImage from \"@assets/box.png\";\nimport LidImage from \"@assets/lid.png\";\nimport Sparkles from \"./Sparkles\";\n\ninterface MysteryBoxProps {\n  onOpen: () => void;\n  isOpening: boolean;\n  isOpened: boolean;\n  disabled?: boolean;\n}\n\nexport default function MysteryBox({\n  onOpen,\n  isOpening,\n  isOpened,\n  disabled = false,\n}: MysteryBoxProps) {\n  const [isHovered, setIsHovered] = useState(false);\n\n  return (\n    <div\n      className=\"relative flex items-center justify-center\"\n      style={{ perspective: \"1500px\" }}\n    >\n      <button\n        onClick={onOpen}\n        onMouseEnter={() => setIsHovered(true)}\n        onMouseLeave={() => setIsHovered(false)}\n        disabled={isOpening || isOpened || disabled}\n        className=\"relative focus:outline-none focus:ring-4 focus:ring-primary/50 transition-all disabled:cursor-not-allowed\"\n        style={{\n          transformStyle: \"preserve-3d\",\n          transform:\n            isHovered && !isOpening && !isOpened\n              ? \"scale(1.12) translateY(-8px) rotateY(5deg)\"\n              : \"scale(1)\",\n          transition: \"transform 0.3s ease-out\",\n        }}\n        data-testid=\"button-mystery-box\"\n      >\n        {/* Aura Ring - Breathing Effect */}\n\n        {/* 3D Box Container */}\n        <div\n          className=\"relative\"\n          style={{\n            width: \"350px\",\n            height: \"350px\",\n            transformStyle: \"preserve-3d\",\n            transform: isOpening\n              ? \"rotateX(10deg) rotateY(-5deg)\"\n              : \"rotateX(0deg)\",\n            transition: \"transform 0.1s ease-out\",\n            animation:\n              !isOpening && !isOpened\n                ? \"boxBounce 2s ease-in-out infinite\"\n                : \"none\",\n          }}\n        >\n          {/* Box Base/Body */}\n          <div className=\"relative w-full h-full flex items-center justify-center\">\n            {!isOpened && !isOpening && (\n              <div\n                className=\"absolute pointer-events-none\"\n                style={{\n                  width: \"250px\",\n                  height: \"100px\",\n                  top: \"70%\",\n                  left: \"50%\",\n                  transform: \"translate(-50%, -50%)\",\n                  border: \"10px solid rgba(180, 255, 100, 0.3)\",\n                  borderRadius: \"100%\",\n\n                  animation: \"breathingRing 2s ease-in-out infinite\",\n                  zIndex: 3,\n                }}\n              />\n            )}\n            {/* Box Base */}\n            <div\n              className=\"absolute bottom-0 w-full h-full flex items-center justify-center z-10 pointer-events-none\"\n              style={{\n                animation: isOpening ? \"boxBaseBounce 0.8s ease-out\" : \"none\",\n              }}\n            >\n              <img\n                src={boxImage}\n                alt=\"Mystery Box Base\"\n                className=\"w-full h-full object-contain drop-shadow-2xl select-none\"\n                style={{\n                  filter: \"drop-shadow(0 30px 60px rgba(0,0,0,0.6))\",\n                  opacity: isOpened ? 0.6 : 1,\n                  transition: \"opacity 0.4s ease\",\n                }}\n              />\n            </div>\n\n            {/* Box Lid */}\n            <div\n              className=\"absolute top-0 w-full h-full flex items-center justify-center z-20 pointer-events-none\"\n              style={{\n                transformOrigin: \"top right\",\n                transformStyle: \"preserve-3d\",\n                animation: isOpening\n                  ? \"lidFlip 1.2s cubic-bezier(0.34, 1.56, 0.64, 1)\"\n                  : \"none\",\n              }}\n            >\n              <img\n                src={LidImage}\n                alt=\"Mystery Box Lid\"\n                className=\"w-full h-full object-contain drop-shadow-2xl select-none\"\n                style={{\n                  filter: \"drop-shadow(0 30px 60px rgba(0,0,0,0.6))\",\n                  transform: \"translateY(-82px)\",\n                }}\n              />\n            </div>\n          </div>\n\n          {/* Inner Glow - Light from inside */}\n          {(isOpening || isOpened) && (\n            <div\n              className=\"absolute inset-0 pointer-events-none\"\n              style={{\n                background:\n                  \"radial-gradient(ellipse at center, rgba(180, 255, 100, 0.3) 0%, rgba(180, 255, 100, 0.1) 40%, transparent 70%)\",\n                filter: \"blur(25px)\",\n                animation: \"innerGlow 0.8s ease-out\",\n                zIndex: 10,\n              }}\n            />\n          )}\n\n          {/* Magical Glow Overlay - Pulsing (before opening) */}\n          {!isOpened && !isOpening && (\n            <div\n              className=\"absolute inset-0 pointer-events-none\"\n              style={{\n                background:\n                  \"radial-gradient(circle at 50% 50%, rgba(180, 255, 100, 0.15) 0%, transparent 60%)\",\n                filter: \"blur(20px)\",\n\n                animation: \"boxGlow 1.5s ease-in-out infinite\",\n                zIndex: 5,\n              }}\n            />\n          )}\n\n          {/* Green Energy Swirls - Rotating (before opening) */}\n          {!isOpened && !isOpening && (\n            <>\n              <div\n                className=\"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[400px] h-[400px] pointer-events-none\"\n                style={{\n                  background:\n                    \"radial-gradient(circle, transparent 80%, rgba(180, 255, 100, 0.1) 50%, transparent 70%)\",\n                  animation: \"spin 8s linear infinite\",\n                  zIndex: 8,\n                }}\n              />\n              <div\n                className=\"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[350px] h-[350px] pointer-events-none\"\n                style={{\n                  background:\n                    \"radial-gradient(circle, transparent 45%, rgba(140, 235, 80, 0.12) 55%, transparent 65%)\",\n                  animation: \"spin 6s linear infinite reverse\",\n                  zIndex: 7,\n                }}\n              />\n            </>\n          )}\n\n          {/* Golden Sparkles on Hover (before opening) */}\n          {isHovered && !isOpening && !isOpened && (\n            <div\n              className=\"absolute inset-0 pointer-events-none\"\n              style={{\n                background:\n                  \"radial-gradient(circle at 50% 50%, rgba(255, 215, 0, 0.08) 0%, transparent 50%)\",\n                filter: \"blur(15px)\",\n                animation: \"pulseGlow 1s ease-in-out infinite\",\n                zIndex: 9,\n              }}\n            />\n          )}\n\n          {/* Opening Explosion Effect */}\n          {isOpening && (\n            <>\n              \n\n              {/* Swirling Magical Threads */}\n              {[...Array(12)].map((_, i) => (\n                <div\n                  key={`thread-${i}`}\n                  className=\"absolute pointer-events-none\"\n                  style={{\n                    left: \"50%\",\n                    top: \"50%\",\n                    width: \"4px\",\n                    height: \"80px\",\n                    background: `linear-gradient(to bottom, rgba(180, 255, 100, 0.9), rgba(255, 215, 0, 0.5), transparent)`,\n                    borderRadius: \"3px\",\n                    transformOrigin: \"top center\",\n                    animation: \"swirlThread 2.2s ease-out\",\n                    animationDelay: `${i * 0.1}s`,\n                    transform: `rotate(${i * 30}deg)`,\n                    zIndex: 14,\n                    boxShadow: \"0 0 6px rgba(180, 255, 100, 0.5)\",\n                  }}\n                />\n              ))}\n            </>\n          )}\n\n          {/* Bottom Shadow */}\n          <div\n            className=\"absolute -bottom-8 left-1/2 -translate-x-1/2 w-[80%] h-6 rounded-full pointer-events-none\"\n            style={{\n              background:\n                \"radial-gradient(ellipse, rgba(0,0,0,0.5) 0%, transparent 70%)\",\n              filter: \"blur(12px)\",\n              zIndex: 1,\n              transform: isOpened ? \"scaleY(0.5)\" : \"scaleY(1)\",\n              transition: \"transform 0.6s ease-out\",\n            }}\n          />\n        </div>\n\n        {/* Hover Prompt */}\n        {!isOpening && !isOpened && (\n          <div className=\"absolute -bottom-16 left-1/2 -translate-x-1/2 whitespace-nowrap pointer-events-none\">\n            <p\n              className=\"text-base font-medium text-foreground animate-pulse\"\n              data-testid=\"text-click-prompt\"\n            >\n              Click to Open\n            </p>\n          </div>\n        )}\n      </button>\n\n      {/* Sparkle Effects on Opening */}\n      <Sparkles\n        trigger={isOpening}\n        count={60}\n        scale={2.2}\n        size={6}\n        speed={0.4}\n        opacity={0.5}\n        color=\"#B4FF64\"\n      />\n      <Sparkles\n        trigger={isOpening}\n        count={40}\n        scale={1.8}\n        size={8}\n        speed={0.2}\n        opacity={0.3}\n        color=\"#B4FF64\"\n        noise={0.5}\n      />\n\n      {/* Additional CSS Animations */}\n      <style>{`\n        @keyframes spin {\n          from { transform: translate(-50%, -50%) rotate(0deg); }\n          to { transform: translate(-50%, -50%) rotate(360deg); }\n        }\n        \n        @keyframes expandRingBox {\n          from {\n            transform: scale(1);\n            opacity: 1;\n          }\n          to {\n            transform: scale(1.8);\n            opacity: 0;\n          }\n        }\n        \n        @keyframes shockwave {\n          0% {\n            opacity: 0.8;\n            transform: scale(0.9);\n          }\n          50% {\n            opacity: 0.4;\n          }\n          100% {\n            opacity: 0;\n            transform: scale(1.5);\n          }\n        }\n\n        \n\n        @keyframes innerGlow {\n          from {\n            opacity: 0;\n            filter: blur(40px);\n          }\n          to {\n            opacity: 1;\n            filter: blur(15px);\n          }\n        }\n\n        @keyframes boxGlow {\n          0%, 100% {\n            opacity: 0.3;\n            filter: blur(20px);\n          }\n          50% {\n            opacity: 0.6;\n            filter: blur(25px);\n          }\n        }\n\n        @keyframes lidFlip {\n          0% {\n            transform: translateY(-20px) translateX(0) rotateX(0) rotateZ(0);\n            z-index: 20;\n          }\n          100% {\n            transform: translateY(-100px) translateX(-50px) rotateX(-70deg) rotateZ(-15deg);\n            z-index: 100;\n          }\n        }\n\n        @keyframes boxBaseBounce {\n          0% {\n            transform: scale(1) translateY(0);\n          }\n          50% {\n            transform: scale(1.05) translateY(-5px);\n          }\n          100% {\n            transform: scale(1) translateY(20px);\n          }\n        }\n\n        @keyframes magicalBurstUp {\n          0% {\n            opacity: 0;\n            transform: translateX(-50%) translateY(0) scale(0.5);\n          }\n          15% {\n            opacity: 1;\n          }\n          85% {\n            opacity: 0.8;\n          }\n          100% {\n            opacity: 0;\n            transform: translateX(-50%) translateY(-280px) scale(1.8);\n          }\n        }\n\n        @keyframes swirlThread {\n          0% {\n            opacity: 0;\n            transform: translateX(-50%) translateY(0) rotate(0deg) scale(0);\n          }\n          20% {\n            opacity: 1;\n          }\n          80% {\n            opacity: 0.7;\n          }\n          100% {\n            opacity: 0;\n            transform: translateX(-50%) translateY(-140px) rotate(1080deg) scale(1.2);\n          }\n        }\n\n        @keyframes coinFly-0 {\n          0% { opacity: 0; transform: translate(-50%, -50%) rotate(0deg) scale(0); }\n          15% { opacity: 1; transform: translate(-50%, -50%) rotate(120deg) scale(1); }\n          85% { opacity: 0.9; }\n          100% { opacity: 0; transform: translate(-50%, -50%) translateX(220px) translateY(-260px) rotate(720deg) scale(1.3); }\n        }\n        @keyframes coinFly-1 {\n          0% { opacity: 0; transform: translate(-50%, -50%) rotate(0deg) scale(0); }\n          15% { opacity: 1; transform: translate(-50%, -50%) rotate(120deg) scale(1); }\n          85% { opacity: 0.9; }\n          100% { opacity: 0; transform: translate(-50%, -50%) translateX(120px) translateY(-300px) rotate(840deg) scale(1.3); }\n        }\n        @keyframes coinFly-2 {\n          0% { opacity: 0; transform: translate(-50%, -50%) rotate(0deg) scale(0); }\n          15% { opacity: 1; transform: translate(-50%, -50%) rotate(120deg) scale(1); }\n          85% { opacity: 0.9; }\n          100% { opacity: 0; transform: translate(-50%, -50%) translateX(-120px) translateY(-300px) rotate(960deg) scale(1.3); }\n        }\n        @keyframes coinFly-3 {\n          0% { opacity: 0; transform: translate(-50%, -50%) rotate(0deg) scale(0); }\n          15% { opacity: 1; transform: translate(-50%, -50%) rotate(120deg) scale(1); }\n          85% { opacity: 0.9; }\n          100% { opacity: 0; transform: translate(-50%, -50%) translateX(-220px) translateY(-260px) rotate(1080deg) scale(1.3); }\n        }\n        @keyframes coinFly-4 {\n          0% { opacity: 0; transform: translate(-50%, -50%) rotate(0deg) scale(0); }\n          15% { opacity: 1; transform: translate(-50%, -50%) rotate(120deg) scale(1); }\n          85% { opacity: 0.9; }\n          100% { opacity: 0; transform: translate(-50%, -50%) translateX(-120px) translateY(-150px) rotate(1200deg) scale(1.3); }\n        }\n        @keyframes coinFly-5 {\n          0% { opacity: 0; transform: translate(-50%, -50%) rotate(0deg) scale(0); }\n          15% { opacity: 1; transform: translate(-50%, -50%) rotate(120deg) scale(1); }\n          85% { opacity: 0.9; }\n          100% { opacity: 0; transform: translate(-50%, -50%) translateX(120px) translateY(-150px) rotate(1320deg) scale(1.3); }\n        }\n      `}</style>\n    </div>\n  );\n}\n","path":null,"size_bytes":13874,"size_tokens":null},"client/src/components/ui/slider.tsx":{"content":"import * as React from \"react\"\nimport * as SliderPrimitive from \"@radix-ui/react-slider\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Slider = React.forwardRef<\n  React.ElementRef<typeof SliderPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SliderPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <SliderPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex w-full touch-none select-none items-center\",\n      className\n    )}\n    {...props}\n  >\n    <SliderPrimitive.Track className=\"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary\">\n      <SliderPrimitive.Range className=\"absolute h-full bg-primary\" />\n    </SliderPrimitive.Track>\n    <SliderPrimitive.Thumb className=\"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\" />\n  </SliderPrimitive.Root>\n))\nSlider.displayName = SliderPrimitive.Root.displayName\n\nexport { Slider }\n","path":null,"size_bytes":1077,"size_tokens":null},"client/src/components/ParticleEffect.tsx":{"content":"import { useEffect, useState } from 'react';\n\ninterface Particle {\n  id: number;\n  x: number;\n  y: number;\n  tx: number;\n  ty: number;\n  color: string;\n  delay: number;\n}\n\ninterface ParticleEffectProps {\n  trigger: boolean;\n  type: 'burst' | 'confetti';\n}\n\nexport default function ParticleEffect({ trigger, type }: ParticleEffectProps) {\n  const [particles, setParticles] = useState<Particle[]>([]);\n\n  useEffect(() => {\n    if (!trigger) return;\n\n    const newParticles: Particle[] = [];\n    const count = type === 'burst' ? 30 : 50;\n    const colors = type === 'burst' \n      ? ['#ffd700', '#5ba085', '#41886e', '#ffffff']\n      : ['#ffd700', '#ff6b6b', '#4ecdc4', '#45b7d1', '#f7b731'];\n\n    for (let i = 0; i < count; i++) {\n      const angle = (Math.PI * 2 * i) / count;\n      const velocity = type === 'burst' ? 60 + Math.random() * 60 : 40;\n      \n      newParticles.push({\n        id: i,\n        x: 0,\n        y: 0,\n        tx: Math.cos(angle) * velocity,\n        ty: type === 'burst' ? Math.sin(angle) * velocity : Math.random() * 60 - 30,\n        color: colors[Math.floor(Math.random() * colors.length)],\n        delay: Math.random() * 200,\n      });\n    }\n\n    setParticles(newParticles);\n\n    const timeout = setTimeout(() => {\n      setParticles([]);\n    }, 2000);\n\n    return () => clearTimeout(timeout);\n  }, [trigger, type]);\n\n  if (particles.length === 0) return null;\n\n  return (\n    <div className=\"absolute inset-0 pointer-events-none overflow-hidden flex items-center justify-center\">\n      {particles.map((particle) => (\n        <div\n          key={particle.id}\n          className=\"absolute\"\n          style={{\n            width: type === 'burst' ? '8px' : '12px',\n            height: type === 'burst' ? '8px' : '12px',\n            backgroundColor: particle.color,\n            borderRadius: type === 'burst' ? '50%' : '2px',\n            left: '50%',\n            top: '50%',\n            // @ts-ignore\n            '--tx': `${particle.tx}px`,\n            '--ty': `${particle.ty}px`,\n            animation: type === 'burst' \n              ? `particleBurst 1s ease-out forwards`\n              : `confettiFall 2s ease-out forwards`,\n            animationDelay: `${particle.delay}ms`,\n          }}\n        />\n      ))}\n    </div>\n  );\n}\n","path":null,"size_bytes":2253,"size_tokens":null},"client/src/App.tsx":{"content":"import { Switch, Route } from \"wouter\";\nimport { queryClient } from \"./lib/queryClient\";\nimport { QueryClientProvider } from \"@tanstack/react-query\";\nimport { Toaster } from \"@/components/ui/toaster\";\nimport { TooltipProvider } from \"@/components/ui/tooltip\";\nimport Home from \"@/pages/home\";\nimport EmployeeLogin from \"@/pages/employee-login\";\nimport EmployeeDashboard from \"@/pages/employee-dashboard\";\nimport NotFound from \"@/pages/not-found\";\n\nfunction Router() {\n  return (\n    <Switch>\n      <Route path=\"/\" component={Home} />\n      <Route path=\"/employee\" component={EmployeeLogin} />\n      <Route path=\"/employee/dashboard\" component={EmployeeDashboard} />\n      <Route component={NotFound} />\n    </Switch>\n  );\n}\n\nfunction App() {\n  return (\n    <QueryClientProvider client={queryClient}>\n      <TooltipProvider>\n        <Toaster />\n        <Router />\n      </TooltipProvider>\n    </QueryClientProvider>\n  );\n}\n\nexport default App;\n","path":null,"size_bytes":943,"size_tokens":null},"client/src/components/ui/table.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Table = React.forwardRef<\n  HTMLTableElement,\n  React.HTMLAttributes<HTMLTableElement>\n>(({ className, ...props }, ref) => (\n  <div className=\"relative w-full overflow-auto\">\n    <table\n      ref={ref}\n      className={cn(\"w-full caption-bottom text-sm\", className)}\n      {...props}\n    />\n  </div>\n))\nTable.displayName = \"Table\"\n\nconst TableHeader = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <thead ref={ref} className={cn(\"[&_tr]:border-b\", className)} {...props} />\n))\nTableHeader.displayName = \"TableHeader\"\n\nconst TableBody = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tbody\n    ref={ref}\n    className={cn(\"[&_tr:last-child]:border-0\", className)}\n    {...props}\n  />\n))\nTableBody.displayName = \"TableBody\"\n\nconst TableFooter = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tfoot\n    ref={ref}\n    className={cn(\n      \"border-t bg-muted/50 font-medium [&>tr]:last:border-b-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableFooter.displayName = \"TableFooter\"\n\nconst TableRow = React.forwardRef<\n  HTMLTableRowElement,\n  React.HTMLAttributes<HTMLTableRowElement>\n>(({ className, ...props }, ref) => (\n  <tr\n    ref={ref}\n    className={cn(\n      \"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nTableRow.displayName = \"TableRow\"\n\nconst TableHead = React.forwardRef<\n  HTMLTableCellElement,\n  React.ThHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <th\n    ref={ref}\n    className={cn(\n      \"h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableHead.displayName = \"TableHead\"\n\nconst TableCell = React.forwardRef<\n  HTMLTableCellElement,\n  React.TdHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <td\n    ref={ref}\n    className={cn(\"p-4 align-middle [&:has([role=checkbox])]:pr-0\", className)}\n    {...props}\n  />\n))\nTableCell.displayName = \"TableCell\"\n\nconst TableCaption = React.forwardRef<\n  HTMLTableCaptionElement,\n  React.HTMLAttributes<HTMLTableCaptionElement>\n>(({ className, ...props }, ref) => (\n  <caption\n    ref={ref}\n    className={cn(\"mt-4 text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nTableCaption.displayName = \"TableCaption\"\n\nexport {\n  Table,\n  TableHeader,\n  TableBody,\n  TableFooter,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableCaption,\n}\n","path":null,"size_bytes":2765,"size_tokens":null},"index-prod.ts":{"content":"import fs from \"node:fs\";\nimport path from \"node:path\";\nimport { type Server } from \"node:http\";\n\nimport express, { type Express } from \"express\";\nimport { default as runApp } from \"./server/app\";\n\nexport async function serveStatic(app: Express, _server: Server) {\n  const distPath = path.resolve(import.meta.dirname, \"public\");\n\n  if (!fs.existsSync(distPath)) {\n    throw new Error(\n      `Could not find the build directory: ${distPath}, make sure to build the client first`,\n    );\n  }\n\n  app.use(express.static(distPath));\n\n  // fall through to index.html if the file doesn't exist\n  app.use(\"*\", (_req, res) => {\n    res.sendFile(path.resolve(distPath, \"index.html\"));\n  });\n}\n\n(async () => {\n  await runApp(serveStatic);\n})();\n","path":null,"size_bytes":734,"size_tokens":null},"client/src/components/ui/dialog.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogClose,\n  DialogTrigger,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n","path":null,"size_bytes":3848,"size_tokens":null},"GOOGLE_SHEETS_SETUP.md":{"content":"# Google Sheets Setup Instructions\n\n## Step 1: Prepare Your Google Sheet\n\n1. Open your Google Sheet\n2. Make sure you have a sheet named **\"Customer detail\"** (exact name)\n3. Add these column headers in Row 1:\n   - Column A: `name`\n   - Column B: `number`\n   - Column C: `prize`\n   - Column D: `vehicleNumber`\n   - Column E: `timestamp`\n   - Column F: `verified`\n\n## Step 2: Add the Apps Script Code\n\n1. In your Google Sheet, go to **Extensions > Apps Script**\n2. Delete any existing code in the editor\n3. Copy and paste the code from `google-apps-script.js` file\n4. Click **Save** (disk icon)\n\n## Step 3: Deploy as Web App\n\n1. Click **Deploy > New deployment**\n2. Click the gear icon  next to \"Select type\"\n3. Choose **Web app**\n4. Configure the settings:\n   - **Description**: \"Mystery Box Contest Webhook\"\n   - **Execute as**: Me (your email address)\n   - **Who has access**: Anyone\n5. Click **Deploy**\n6. **Authorize** the script when prompted\n   - Click \"Review permissions\"\n   - Choose your Google account\n   - Click \"Advanced\" if you see a warning\n   - Click \"Go to [Your Project Name] (unsafe)\"\n   - Click \"Allow\"\n7. Copy the **Web app URL** (it should end with `/exec`)\n\n## Step 4: Update Your Application\n\nYour webhook URL is already configured in the application:\n```\nhttps://script.google.com/macros/s/AKfycbx27qhwRz4fBO5URWjiWsIC2R7qtXN4RhS534vJI9YHG78PsNhqei7YIzaIz__pEXHE/exec\n```\n\n## Step 5: Test the Integration\n\n1. Start your application\n2. Register a new customer\n3. Check your Google Sheet - the data should appear automatically\n4. Open the mystery box to receive a reward\n5. Click \"Verify Reward\" to mark it as verified\n6. The stats counter at the top should update\n\n## How It Works\n\n### Data Flow:\n1. **Customer Registration**: Sends customer details to Google Sheets\n2. **Reward Assignment**: Updates the prize column when box is opened\n3. **Verification**: Marks the reward as verified\n4. **Stats**: Counts only verified rewards\n\n### Column Mappings:\n- **name**: Customer's full name\n- **number**: Phone number\n- **prize**: Reward amount (1-5 rupees)\n- **vehicleNumber**: Vehicle registration number (primary key)\n- **timestamp**: Date and time of entry\n- **verified**: \"Yes\" or \"No\" - whether reward is verified\n\n### Validation Rules:\n1. Same vehicle number must have same name and phone\n2. One entry per vehicle per day\n3. Only verified rewards count in stats\n\n## Testing the Integration\n\nOnce you've completed the setup, test these scenarios to verify everything works:\n\n### Test 1: First-Time Registration\n1. Fill in the registration form with:\n   - Name: \"Test User\"\n   - Phone: \"1234567890\"\n   - Vehicle: \"TEST123\"\n2. Click \"Enter Contest\"\n3.  Expected: Registration succeeds, you can open the mystery box\n4.  Check Google Sheet: New row with your details appears\n\n### Test 2: Vehicle Number Validation\n1. Try to register again with:\n   - Name: \"Different Name\"  ( different)\n   - Phone: \"9876543210\"     ( different)\n   - Vehicle: \"TEST123\"      ( same as Test 1)\n2.  Expected: Error message - \"This vehicle number is already registered with different details\"\n\n### Test 3: Same Vehicle, Same Details\n1. Try to register with:\n   - Name: \"Test User\"       ( same as Test 1)\n   - Phone: \"1234567890\"     ( same as Test 1)\n   - Vehicle: \"TEST123\"      ( same as Test 1)\n2.  Expected: Error message - \"You have already played today. Come back tomorrow!\"\n\n### Test 4: Reward and Verification\n1. Register with a new vehicle number\n2. Open the mystery box\n3.  Expected: Reward shows 1-5 rupees\n4.  Check Google Sheet: Prize column updated with amount\n5. Click \"Verify Reward\"\n6.  Check Google Sheet: Verified column shows \"Yes\"\n7.  Check stats header: Total Verified Rewards increases by 1\n\n### Test 5: Different Vehicle\n1. Register with completely new details:\n   - Name: \"Another User\"\n   - Phone: \"5555555555\"\n   - Vehicle: \"XYZ789\"\n2.  Expected: Registration succeeds (different vehicle)\n3.  Expected: Can play and win reward\n\n## Troubleshooting\n\n### If data is not appearing in Google Sheets:\n1. Check that the sheet name is exactly \"Customer detail\"\n2. Verify the deployment URL ends with `/exec` (not `/dev`)\n3. Check the Apps Script execution logs: **View > Executions**\n4. Make sure all column headers are present: name, number, prize, vehicleNumber, timestamp, verified\n\n### If you see authorization errors:\n1. Redeploy the web app (Deploy > Manage deployments > Edit > Deploy)\n2. Make sure \"Who has access\" is set to \"Anyone\"\n3. Try running the doPost function manually in Apps Script to trigger authorization\n\n### If verification is not working:\n1. Check that column F header is \"verified\"\n2. Make sure the script has write permissions to the sheet\n3. Check Apps Script logs for any errors\n\n### If validation is not working:\n1. Verify the webhook URL in `server/googleSheets.ts` matches your deployment URL\n2. Check that `doGet` function is working by visiting: `YOUR_WEBHOOK_URL?action=getAll`\n3. Should return JSON with customers array\n\n### If stats show 0 despite verified rewards:\n1. Check that the \"verified\" column contains \"Yes\" (case-sensitive)\n2. Check that the \"prize\" column is not empty\n3. Try visiting: `YOUR_WEBHOOK_URL?action=getVerifiedCount` - should return a count\n\n## Expected Google Sheets Format\n\nYour sheet should look like this after some entries:\n\n| name | number | prize | vehicleNumber | timestamp | verified |\n|------|--------|-------|--------------|-----------|----------|\n| Test User | 1234567890 | 3 | TEST123 | 2024-11-21T10:30:00.000Z | Yes |\n| Another User | 5555555555 | 5 | XYZ789 | 2024-11-21T11:45:00.000Z | No |\n","path":null,"size_bytes":5639,"size_tokens":null},"client/src/components/StatsHeader.tsx":{"content":"import { Trophy, Clock } from 'lucide-react';\nimport { Badge } from '@/components/ui/badge';\n\ninterface StatsHeaderProps {\n  totalWinners: number;\n  customerVerified?: number;\n  verificationTimeLeft?: number | null;\n}\n\nexport default function StatsHeader({ totalWinners, customerVerified = 0, verificationTimeLeft }: StatsHeaderProps) {\n  // Show customer's total prize amount when they're playing\n  if (customerVerified > 0) {\n    return (\n      <div className=\"w-full bg-card border-b border-border py-4 px-6\">\n        <div className=\"max-w-7xl mx-auto flex items-center justify-center gap-3\">\n          <p className=\"text-lg font-medium text-foreground\">\n            Total Prize Won:\n          </p>\n          <Badge \n            className=\"bg-primary text-primary-foreground text-lg px-4 py-1 font-bold\"\n            data-testid=\"badge-customer-total\"\n          >\n            {customerVerified}\n          </Badge>\n        </div>\n      </div>\n    );\n  }\n\n  // Don't show header when no customer is playing\n  return null;\n}\n","path":null,"size_bytes":1027,"size_tokens":null},"client/src/components/PrizeCard.tsx":{"content":"import { useEffect, useState } from 'react';\nimport { motion } from \"framer-motion\";\nimport confetti from \"canvas-confetti\";\n\ninterface Particle {\n  id: number;\n  x: number;\n  y: number;\n  tx: number;\n  ty: number;\n  color: string;\n  delay: number;\n}\n\ninterface ParticleEffectProps {\n  trigger: boolean;\n  type: 'burst' | 'confetti';\n}\n\nexport default function ParticleEffect({ trigger, type }: ParticleEffectProps) {\n  const [particles, setParticles] = useState<Particle[]>([]);\n\n  useEffect(() => {\n    if (!trigger) return;\n      \n    const newParticles: Particle[] = [];\n    const count = type === 'burst' ? 30 : 50;\n    const colors = type === 'burst' \n      ? ['#ffd700', '#5ba085', '#41886e', '#ffffff']\n      : ['#ffd700', '#ff6b6b', '#4ecdc4', '#45b7d1', '#f7b731'];\n\n    for (let i = 0; i < count; i++) {\n      const angle = (Math.PI * 2 * i) / count;\n      const velocity = type === 'burst' ? 100 + Math.random() * 100 : 50;\n\n      newParticles.push({\n        id: i,\n        x: 0,\n        y: 0,\n        tx: Math.cos(angle) * velocity,\n        ty: type === 'burst' ? Math.sin(angle) * velocity : Math.random() * 100 - 50,\n        color: colors[Math.floor(Math.random() * colors.length)],\n        delay: Math.random() * 200,\n      });\n    }\n\n    setParticles(newParticles);\n\n    const timeout = setTimeout(() => {\n      setParticles([]);\n    }, 2000);\n\n    return () => clearTimeout(timeout);\n  }, [trigger, type]);\n\n  if (particles.length === 0) return null;\n\n  return (\n    <div className=\"absolute inset-0 pointer-events-none overflow-hidden flex items-center justify-center\">\n      {particles.map((particle) => (\n        <div\n          key={particle.id}\n          className=\"absolute\"\n          style={{\n            width: type === 'burst' ? '8px' : '40px',\n            height: type === 'burst' ? '8px' : '12px',\n            backgroundColor: particle.color,\n            borderRadius: type === 'burst' ? '50%' : '2px',\n            left: '50%',\n            top: '50%',\n            // @ts-ignore\n            '--tx': `${particle.tx}px`,\n            '--ty': `${particle.ty}px`,\n            animation: type === 'burst' \n              ? `particleBurst 1s ease-out forwards`\n              : `confettiFall 2s ease-out forwards`,\n            animationDelay: `${particle.delay}ms`,\n          }}\n        />\n      ))}\n    </div>\n  );\n}\n","path":null,"size_bytes":2336,"size_tokens":null},"client/src/components/ui/avatar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Avatar = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Root\n    ref={ref}\n    className={cn(`\n      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10\n      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`,\n      className\n    )}\n    {...props}\n  />\n))\nAvatar.displayName = AvatarPrimitive.Root.displayName\n\nconst AvatarImage = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Image>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Image\n    ref={ref}\n    className={cn(\"aspect-square h-full w-full\", className)}\n    {...props}\n  />\n))\nAvatarImage.displayName = AvatarPrimitive.Image.displayName\n\nconst AvatarFallback = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Fallback>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Fallback\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full items-center justify-center rounded-full bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatarFallback.displayName = AvatarPrimitive.Fallback.displayName\n\nexport { Avatar, AvatarImage, AvatarFallback }\n","path":null,"size_bytes":1592,"size_tokens":null},"client/src/components/ui/switch.tsx":{"content":"import * as React from \"react\"\nimport * as SwitchPrimitives from \"@radix-ui/react-switch\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Switch = React.forwardRef<\n  React.ElementRef<typeof SwitchPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>\n>(({ className, ...props }, ref) => (\n  <SwitchPrimitives.Root\n    className={cn(\n      \"peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  >\n    <SwitchPrimitives.Thumb\n      className={cn(\n        \"pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0\"\n      )}\n    />\n  </SwitchPrimitives.Root>\n))\nSwitch.displayName = SwitchPrimitives.Root.displayName\n\nexport { Switch }\n","path":null,"size_bytes":1139,"size_tokens":null},"client/src/components/ui/menubar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as MenubarPrimitive from \"@radix-ui/react-menubar\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction MenubarMenu({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Menu>) {\n  return <MenubarPrimitive.Menu {...props} />\n}\n\nfunction MenubarGroup({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Group>) {\n  return <MenubarPrimitive.Group {...props} />\n}\n\nfunction MenubarPortal({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Portal>) {\n  return <MenubarPrimitive.Portal {...props} />\n}\n\nfunction MenubarRadioGroup({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.RadioGroup>) {\n  return <MenubarPrimitive.RadioGroup {...props} />\n}\n\nfunction MenubarSub({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Sub>) {\n  return <MenubarPrimitive.Sub data-slot=\"menubar-sub\" {...props} />\n}\n\nconst Menubar = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"flex h-10 items-center space-x-1 rounded-md border bg-background p-1\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubar.displayName = MenubarPrimitive.Root.displayName\n\nconst MenubarTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-3 py-1.5 text-sm font-medium outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarTrigger.displayName = MenubarPrimitive.Trigger.displayName\n\nconst MenubarSubTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <MenubarPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </MenubarPrimitive.SubTrigger>\n))\nMenubarSubTrigger.displayName = MenubarPrimitive.SubTrigger.displayName\n\nconst MenubarSubContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-menubar-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarSubContent.displayName = MenubarPrimitive.SubContent.displayName\n\nconst MenubarContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Content>\n>(\n  (\n    { className, align = \"start\", alignOffset = -4, sideOffset = 8, ...props },\n    ref\n  ) => (\n    <MenubarPrimitive.Portal>\n      <MenubarPrimitive.Content\n        ref={ref}\n        align={align}\n        alignOffset={alignOffset}\n        sideOffset={sideOffset}\n        className={cn(\n          \"z-50 min-w-[12rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-menubar-content-transform-origin]\",\n          className\n        )}\n        {...props}\n      />\n    </MenubarPrimitive.Portal>\n  )\n)\nMenubarContent.displayName = MenubarPrimitive.Content.displayName\n\nconst MenubarItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarItem.displayName = MenubarPrimitive.Item.displayName\n\nconst MenubarCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <MenubarPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.CheckboxItem>\n))\nMenubarCheckboxItem.displayName = MenubarPrimitive.CheckboxItem.displayName\n\nconst MenubarRadioItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <MenubarPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.RadioItem>\n))\nMenubarRadioItem.displayName = MenubarPrimitive.RadioItem.displayName\n\nconst MenubarLabel = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarLabel.displayName = MenubarPrimitive.Label.displayName\n\nconst MenubarSeparator = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nMenubarSeparator.displayName = MenubarPrimitive.Separator.displayName\n\nconst MenubarShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nMenubarShortcut.displayname = \"MenubarShortcut\"\n\nexport {\n  Menubar,\n  MenubarMenu,\n  MenubarTrigger,\n  MenubarContent,\n  MenubarItem,\n  MenubarSeparator,\n  MenubarLabel,\n  MenubarCheckboxItem,\n  MenubarRadioGroup,\n  MenubarRadioItem,\n  MenubarPortal,\n  MenubarSubContent,\n  MenubarSubTrigger,\n  MenubarGroup,\n  MenubarSub,\n  MenubarShortcut,\n}\n","path":null,"size_bytes":8605,"size_tokens":null},"client/src/components/ui/select.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Select = SelectPrimitive.Root\n\nconst SelectGroup = SelectPrimitive.Group\n\nconst SelectValue = SelectPrimitive.Value\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n))\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName\n\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronUp className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n))\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName\n\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n))\nSelectScrollDownButton.displayName =\n  SelectPrimitive.ScrollDownButton.displayName\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          \"p-1\",\n          position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\"\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n))\nSelectContent.displayName = SelectPrimitive.Content.displayName\n\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label\n    ref={ref}\n    className={cn(\"py-1.5 pl-8 pr-2 text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nSelectLabel.displayName = SelectPrimitive.Label.displayName\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n))\nSelectItem.displayName = SelectPrimitive.Item.displayName\n\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n}\n","path":null,"size_bytes":5741,"size_tokens":null},"drizzle.config.ts":{"content":"import { defineConfig } from \"drizzle-kit\";\n\nif (!process.env.DATABASE_URL) {\n  throw new Error(\"DATABASE_URL, ensure the database is provisioned\");\n}\n\nexport default defineConfig({\n  out: \"./migrations\",\n  schema: \"./shared/schema.ts\",\n  dialect: \"postgresql\",\n  dbCredentials: {\n    url: process.env.DATABASE_URL,\n  },\n});\n","path":null,"size_bytes":325,"size_tokens":null},"client/src/index.css":{"content":"@tailwind base;\n@tailwind components;\n@tailwind utilities;\n\n/* LIGHT MODE */\n:root {\n  --button-outline: rgba(0,0,0, .10);\n  --badge-outline: rgba(0,0,0, .05);\n  --opaque-button-border-intensity: -8;\n  --elevate-1: rgba(0,0,0, .05);\n  --elevate-2: rgba(0,0,0, .10);\n  --background: 220 35% 6%;\n  --foreground: 85 95% 70%;\n  --border: 85 60% 40%;\n  --card: 220 30% 10%;\n  --card-foreground: 85 95% 70%;\n  --card-border: 85 60% 35%;\n  --sidebar: 220 30% 10%;\n  --sidebar-foreground: 85 95% 70%;\n  --sidebar-border: 85 60% 40%;\n  --sidebar-primary: 85 95% 65%;\n  --sidebar-primary-foreground: 220 35% 6%;\n  --sidebar-accent: 220 25% 15%;\n  --sidebar-accent-foreground: 85 95% 70%;\n  --sidebar-ring: 85 95% 65%;\n  --popover: 220 30% 12%;\n  --popover-foreground: 85 95% 70%;\n  --popover-border: 85 60% 40%;\n  --primary: 85 95% 65%;\n  --primary-foreground: 220 35% 6%;\n  --secondary: 220 25% 20%;\n  --secondary-foreground: 85 90% 75%;\n  --muted: 220 20% 25%;\n  --muted-foreground: 85 60% 70%;\n  --accent: 45 90% 60%;\n  --accent-foreground: 220 35% 8%;\n  --destructive: 0 72% 50%;\n  --destructive-foreground: 0 0% 100%;\n  --input: 158 12% 32%;\n  --ring: 158 45% 45%;\n  --chart-1: 158 45% 55%;\n  --chart-2: 45 92% 65%;\n  --chart-3: 210 75% 62%;\n  --chart-4: 280 65% 70%;\n  --chart-5: 25 85% 68%;\n  --font-sans: Poppins, sans-serif;\n  --font-serif: Georgia, serif;\n  --font-mono: Menlo, monospace;\n  --radius: .5rem;\n  \n  /* Gamified effect colors */\n  --glow-primary: 180, 255, 100;\n  --glow-gold: 237, 207, 55;\n  --neon-green: 85 95% 65%;\n  --shadow-2xs: 0px 2px 0px 0px hsl(0 0% 0% / 0.00);\n  --shadow-xs: 0px 2px 0px 0px hsl(0 0% 0% / 0.00);\n  --shadow-sm: 0px 2px 0px 0px hsl(0 0% 0% / 0.00), 0px 1px 2px -1px hsl(0 0% 0% / 0.00);\n  --shadow: 0px 2px 0px 0px hsl(0 0% 0% / 0.00), 0px 1px 2px -1px hsl(0 0% 0% / 0.00);\n  --shadow-md: 0px 2px 0px 0px hsl(0 0% 0% / 0.00), 0px 2px 4px -1px hsl(0 0% 0% / 0.00);\n  --shadow-lg: 0px 2px 0px 0px hsl(0 0% 0% / 0.00), 0px 4px 6px -1px hsl(0 0% 0% / 0.00);\n  --shadow-xl: 0px 2px 0px 0px hsl(0 0% 0% / 0.00), 0px 8px 10px -1px hsl(0 0% 0% / 0.00);\n  --shadow-2xl: 0px 2px 0px 0px hsl(0 0% 0% / 0.00);\n  --tracking-normal: 0em;\n  --spacing: 0.25rem;\n\n/* Fallback for older browsers */\n  --sidebar-primary-border: hsl(var(--sidebar-primary));\n  --sidebar-primary-border: hsl(from hsl(var(--sidebar-primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --sidebar-accent-border: hsl(var(--sidebar-accent));\n  --sidebar-accent-border: hsl(from hsl(var(--sidebar-accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --primary-border: hsl(var(--primary));\n  --primary-border: hsl(from hsl(var(--primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --secondary-border: hsl(var(--secondary));\n  --secondary-border: hsl(from hsl(var(--secondary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --muted-border: hsl(var(--muted));\n  --muted-border: hsl(from hsl(var(--muted)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --accent-border: hsl(var(--accent));\n  --accent-border: hsl(from hsl(var(--accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --destructive-border: hsl(var(--destructive));\n  --destructive-border: hsl(from hsl(var(--destructive)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n}\n\n.dark {\n  --button-outline: rgba(255,255,255, .10);\n  --badge-outline: rgba(255,255,255, .05);\n  --opaque-button-border-intensity: 9;\n  --elevate-1: rgba(255,255,255, .06);\n  --elevate-2: rgba(255,255,255, .12);\n  --background: 220 35% 6%;\n  --foreground: 0 0% 100%;\n  --border: 85 60% 40%;\n  --card: 220 30% 10%;\n  --card-foreground: 0 0% 100%;\n  --card-border: 85 60% 35%;\n  --sidebar: 220 30% 10%;\n  --sidebar-foreground: 0 0% 100%;\n  --sidebar-border: 85 60% 40%;\n  --sidebar-primary: 85 95% 65%;\n  --sidebar-primary-foreground: 220 35% 6%;\n  --sidebar-accent: 220 25% 15%;\n  --sidebar-accent-foreground: 0 0% 100%;\n  --sidebar-ring: 85 95% 65%;\n  --popover: 220 30% 12%;\n  --popover-foreground: 0 0% 100%;\n  --popover-border: 85 60% 40%;\n  --primary: 85 95% 65%;\n  --primary-foreground: 220 35% 6%;\n  --secondary: 220 25% 20%;\n  --secondary-foreground: 0 0% 100%;\n  --muted: 220 20% 25%;\n  --muted-foreground: 220 10% 85%;\n  --accent: 45 90% 60%;\n  --accent-foreground: 220 35% 8%;\n  --destructive: 0 72% 50%;\n  --destructive-foreground: 0 0% 100%;\n  --input: 158 12% 32%;\n  --ring: 158 45% 45%;\n  --chart-1: 158 45% 55%;\n  --chart-2: 45 92% 65%;\n  --chart-3: 210 75% 62%;\n  --chart-4: 280 65% 70%;\n  --chart-5: 25 85% 68%;\n  --shadow-2xs: 0px 2px 0px 0px hsl(0 0% 0% / 0.00);\n  --shadow-xs: 0px 2px 0px 0px hsl(0 0% 0% / 0.00);\n  --shadow-sm: 0px 2px 0px 0px hsl(0 0% 0% / 0.00), 0px 1px 2px -1px hsl(0 0% 0% / 0.00);\n  --shadow: 0px 2px 0px 0px hsl(0 0% 0% / 0.00), 0px 1px 2px -1px hsl(0 0% 0% / 0.00);\n  --shadow-md: 0px 2px 0px 0px hsl(0 0% 0% / 0.00), 0px 2px 4px -1px hsl(0 0% 0% / 0.00);\n  --shadow-lg: 0px 2px 0px 0px hsl(0 0% 0% / 0.00), 0px 4px 6px -1px hsl(0 0% 0% / 0.00);\n  --shadow-xl: 0px 2px 0px 0px hsl(0 0% 0% / 0.00), 0px 8px 10px -1px hsl(0 0% 0% / 0.00);\n  --shadow-2xl: 0px 2px 0px 0px hsl(0 0% 0% / 0.00);\n\n/* Fallback for older browsers */\n  --sidebar-primary-border: hsl(var(--sidebar-primary));\n  --sidebar-primary-border: hsl(from hsl(var(--sidebar-primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --sidebar-accent-border: hsl(var(--sidebar-accent));\n  --sidebar-accent-border: hsl(from hsl(var(--sidebar-accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --primary-border: hsl(var(--primary));\n  --primary-border: hsl(from hsl(var(--primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --secondary-border: hsl(var(--secondary));\n  --secondary-border: hsl(from hsl(var(--secondary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --muted-border: hsl(var(--muted));\n  --muted-border: hsl(from hsl(var(--muted)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --accent-border: hsl(var(--accent));\n  --accent-border: hsl(from hsl(var(--accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --destructive-border: hsl(var(--destructive));\n  --destructive-border: hsl(from hsl(var(--destructive)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n}\n\n@layer base {\n  * {\n    @apply border-border;\n  }\n\n  body {\n    @apply font-sans antialiased bg-background text-foreground;\n  }\n}\n\n/* Custom animations for mystery box game */\n@keyframes boxGlow {\n  0%, 100% {\n    box-shadow: 0 0 20px rgba(63, 166, 130, 0.4), 0 0 40px rgba(63, 166, 130, 0.25);\n  }\n  50% {\n    box-shadow: 0 0 30px rgba(63, 166, 130, 0.6), 0 0 60px rgba(63, 166, 130, 0.4);\n  }\n}\n\n@keyframes lidOpen {\n  0% {\n    transform: rotateX(0deg) translateY(0px);\n  }\n  100% {\n    transform: rotateX(-120deg) translateY(-80px) translateZ(40px);\n  }\n}\n\n@keyframes prizeReveal {\n  0% {\n    transform: scale(0) translateY(0px);\n    opacity: 0;\n  }\n  60% {\n    transform: scale(1.1) translateY(-20px);\n  }\n  100% {\n    transform: scale(1) translateY(-30px);\n    opacity: 1;\n  }\n}\n\n@keyframes particleBurst {\n  0% {\n    transform: translate(0, 0) scale(1);\n    opacity: 1;\n  }\n  100% {\n    transform: translate(var(--tx), var(--ty)) scale(0);\n    opacity: 0;\n  }\n}\n\n@keyframes confettiFall {\n  0% {\n    transform: translateY(0) rotate(0deg);\n    opacity: 1;\n  }\n  100% {\n    transform: translateY(500px) rotate(360deg);\n    opacity: 0;\n  }\n}\n\n@keyframes goldGlow {\n  0%, 100% {\n    box-shadow: 0 0 20px rgba(255, 215, 0, 0.4), 0 0 40px rgba(255, 215, 0, 0.2);\n  }\n  50% {\n    box-shadow: 0 0 40px rgba(255, 215, 0, 0.6), 0 0 80px rgba(255, 215, 0, 0.4);\n  }\n}\n\n@keyframes pulseGlow {\n  0%, 100% {\n    transform: scale(1);\n    opacity: 0.6;\n  }\n  50% {\n    transform: scale(1.15);\n    opacity: 1;\n  }\n}\n\n@keyframes rainbowGlow {\n  0% {\n    filter: drop-shadow(0 0 10px rgba(63, 166, 130, 0.9));\n  }\n  50% {\n    filter: drop-shadow(0 0 25px rgba(63, 166, 130, 1)) drop-shadow(0 0 15px rgba(63, 166, 130, 0.7));\n  }\n  100% {\n    filter: drop-shadow(0 0 10px rgba(63, 166, 130, 0.9));\n  }\n}\n\n@keyframes scalePopIn {\n  0% {\n    transform: scale(0) rotate(-180deg);\n    opacity: 0;\n  }\n  60% {\n    transform: scale(1.2) rotate(20deg);\n  }\n  100% {\n    transform: scale(1) rotate(0deg);\n    opacity: 1;\n  }\n}\n\n@keyframes successFlash {\n  0% {\n    background: rgba(63, 166, 130, 0);\n  }\n  50% {\n    background: rgba(63, 166, 130, 0.4);\n  }\n  100% {\n    background: rgba(63, 166, 130, 0);\n  }\n}\n\n@keyframes prizeCardEmerge {\n  0% {\n    opacity: 0;\n    transform: scale(0.3) translateY(0) rotateX(90deg) rotateZ(-20deg);\n  }\n  40% {\n    opacity: 0.9;\n    transform: scale(0.9) translateY(-40px) rotateX(20deg) rotateZ(-5deg);\n  }\n  100% {\n    opacity: 1;\n    transform: scale(1) translateY(-80px) rotateX(0deg) rotateZ(0deg);\n  }\n}\n\n@keyframes twinkle {\n  0%, 100% {\n    opacity: 0.3;\n    transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    transform: scale(1.3);\n  }\n}\n\n@keyframes neonPulse {\n  15%, 100% {\n    text-shadow: \n      0 0 5px rgb(232, 79, 117, 0.8),\n      0 0 7px rgb(125, 195, 50, 0.6),\n      0 0 10px rgb(88, 78, 223, 0.4),\n      0 0 15px rgb(211, 146, 174, 0.2);\n  }\n  50% {\n    text-shadow: \n      0 0 8px rgba(180, 255, 100, 1),\n      0 0 10px rgb(227, 59, 157, 0.8),\n      0 0 15px rgb(141, 128, 203, 0.6),\n      0 0 25px rgb(99, 71, 235, 0.4);\n  }\n}\n\n/**\n * Using the elevate system.\n * Automatic contrast adjustment.\n *\n * <element className=\"hover-elevate\" />\n * <element className=\"active-elevate-2\" />\n *\n * // Using the tailwind utility when a data attribute is \"on\"\n * <element className=\"toggle-elevate data-[state=on]:toggle-elevated\" />\n * // Or manually controlling the toggle state\n * <element className=\"toggle-elevate toggle-elevated\" />\n *\n * Elevation systems have to handle many states.\n * - not-hovered, vs. hovered vs. active  (three mutually exclusive states)\n * - toggled or not\n * - focused or not (this is not handled with these utilities)\n *\n * Even without handling focused or not, this is six possible combinations that\n * need to be distinguished from eachother visually.\n */\n@layer utilities {\n\n  /* Hide ugly search cancel button in Chrome until we can style it properly */\n  input[type=\"search\"]::-webkit-search-cancel-button {\n    @apply hidden;\n  }\n\n  /* Placeholder styling for contentEditable div */\n  [contenteditable][data-placeholder]:empty::before {\n    content: attr(data-placeholder);\n    color: hsl(var(--muted-foreground));\n    pointer-events: none;\n  }\n\n  /* .no-default-hover-elevate/no-default-active-elevate is an escape hatch so consumers of\n   * buttons/badges can remove the automatic brightness adjustment on interactions\n   * and program their own. */\n  .no-default-hover-elevate {}\n\n  .no-default-active-elevate {}\n\n\n  /**\n   * Toggleable backgrounds go behind the content. Hoverable/active goes on top.\n   * This way they can stack/compound. Both will overlap the parent's borders!\n   * So borders will be automatically adjusted both on toggle, and hover/active,\n   * and they will be compounded.\n   */\n  .toggle-elevate::before,\n  .toggle-elevate-2::before {\n    content: \"\";\n    pointer-events: none;\n    position: absolute;\n    inset: 0px;\n    /*border-radius: inherit;   match rounded corners */\n    border-radius: inherit;\n    z-index: -1;\n    /* sits behind content but above backdrop */\n  }\n\n  .toggle-elevate.toggle-elevated::before {\n    background-color: var(--elevate-2);\n  }\n\n  /* If there's a 1px border, adjust the inset so that it covers that parent's border */\n  .border.toggle-elevate::before {\n    inset: -1px;\n  }\n\n  /* Does not work on elements with overflow:hidden! */\n  .hover-elevate:not(.no-default-hover-elevate),\n  .active-elevate:not(.no-default-active-elevate),\n  .hover-elevate-2:not(.no-default-hover-elevate),\n  .active-elevate-2:not(.no-default-active-elevate) {\n    position: relative;\n    z-index: 0;\n  }\n\n  .hover-elevate:not(.no-default-hover-elevate)::after,\n  .active-elevate:not(.no-default-active-elevate)::after,\n  .hover-elevate-2:not(.no-default-hover-elevate)::after,\n  .active-elevate-2:not(.no-default-active-elevate)::after {\n    content: \"\";\n    pointer-events: none;\n    position: absolute;\n    inset: 0px;\n    /*border-radius: inherit;   match rounded corners */\n    border-radius: inherit;\n    z-index: 999;\n    /* sits in front of content */\n  }\n\n  .hover-elevate:hover:not(.no-default-hover-elevate)::after,\n  .active-elevate:active:not(.no-default-active-elevate)::after {\n    background-color: var(--elevate-1);\n  }\n\n  .hover-elevate-2:hover:not(.no-default-hover-elevate)::after,\n  .active-elevate-2:active:not(.no-default-active-elevate)::after {\n    background-color: var(--elevate-2);\n  }\n\n  /* If there's a 1px border, adjust the inset so that it covers that parent's border */\n  .border.hover-elevate:not(.no-hover-interaction-elevate)::after,\n  .border.active-elevate:not(.no-active-interaction-elevate)::after,\n  .border.hover-elevate-2:not(.no-hover-interaction-elevate)::after,\n  .border.active-elevate-2:not(.no-active-interaction-elevate)::after,\n  .border.hover-elevate:not(.no-hover-interaction-elevate)::after {\n    inset: -1px;\n  }\n}\n\n/* === Particle Animations === */\n@keyframes particleBurst {\n  from { transform: translate(0,0) scale(1); opacity: 1; }\n  to { transform: translate(var(--tx), var(--ty)) scale(0.2); opacity: 0; }\n}\n\n@keyframes confettiFall {\n  from { transform: translate(0,0) rotate(0deg); opacity: 1; }\n  to { transform: translate(var(--tx), var(--ty)) rotate(720deg); opacity: 0; }\n}\n\n@keyframes starBurst {\n  0% { transform: translate(0,0) scale(0); opacity: 0; }\n  40% { transform: translate(var(--tx), var(--ty)) scale(1); opacity: 1; }\n  100% { transform: translate(var(--tx), var(--ty)) scale(0); opacity: 0; }\n}\n\n@keyframes ringExpand {\n  from { transform: translate(-50%,-50%) scale(0); opacity: 0.8; }\n  to { transform: translate(-50%,-50%) scale(3); opacity: 0; }\n}\n\n@keyframes sparkleBlink {\n  0% { opacity: 0; transform: scale(0); }\n  50% { opacity: 1; transform: scale(1); }\n  100% { opacity: 0; transform: scale(0); }\n}\n\n@keyframes boxBounce {\n  0%, 100% { transform: translateY(0); }\n  50% { transform: translateY(-15px); }\n}\n\n@keyframes breathingRing {\n  0%, 100% { \n    transform: translate(-50%, -50%) scale(1);\n    opacity: 0.3;\n  }\n  50% { \n    transform: translate(-50%, -50%) scale(1.15);\n    opacity: 0.6;\n  }\n}\n","path":null,"size_bytes":14906,"size_tokens":null},"client/src/components/ui/sheet.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as SheetPrimitive from \"@radix-ui/react-dialog\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Sheet = SheetPrimitive.Root\n\nconst SheetTrigger = SheetPrimitive.Trigger\n\nconst SheetClose = SheetPrimitive.Close\n\nconst SheetPortal = SheetPrimitive.Portal\n\nconst SheetOverlay = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nSheetOverlay.displayName = SheetPrimitive.Overlay.displayName\n\nconst sheetVariants = cva(\n  \"fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500\",\n  {\n    variants: {\n      side: {\n        top: \"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top\",\n        bottom:\n          \"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom\",\n        left: \"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm\",\n        right:\n          \"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm\",\n      },\n    },\n    defaultVariants: {\n      side: \"right\",\n    },\n  }\n)\n\ninterface SheetContentProps\n  extends React.ComponentPropsWithoutRef<typeof SheetPrimitive.Content>,\n    VariantProps<typeof sheetVariants> {}\n\nconst SheetContent = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Content>,\n  SheetContentProps\n>(({ side = \"right\", className, children, ...props }, ref) => (\n  <SheetPortal>\n    <SheetOverlay />\n    <SheetPrimitive.Content\n      ref={ref}\n      className={cn(sheetVariants({ side }), className)}\n      {...props}\n    >\n      {children}\n      <SheetPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </SheetPrimitive.Close>\n    </SheetPrimitive.Content>\n  </SheetPortal>\n))\nSheetContent.displayName = SheetPrimitive.Content.displayName\n\nconst SheetHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetHeader.displayName = \"SheetHeader\"\n\nconst SheetFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetFooter.displayName = \"SheetFooter\"\n\nconst SheetTitle = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold text-foreground\", className)}\n    {...props}\n  />\n))\nSheetTitle.displayName = SheetPrimitive.Title.displayName\n\nconst SheetDescription = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nSheetDescription.displayName = SheetPrimitive.Description.displayName\n\nexport {\n  Sheet,\n  SheetPortal,\n  SheetOverlay,\n  SheetTrigger,\n  SheetClose,\n  SheetContent,\n  SheetHeader,\n  SheetFooter,\n  SheetTitle,\n  SheetDescription,\n}\n","path":null,"size_bytes":4281,"size_tokens":null},"client/src/components/ui/tooltip.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst TooltipProvider = TooltipPrimitive.Provider\n\nconst Tooltip = TooltipPrimitive.Root\n\nconst TooltipTrigger = TooltipPrimitive.Trigger\n\nconst TooltipContent = React.forwardRef<\n  React.ElementRef<typeof TooltipPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <TooltipPrimitive.Content\n    ref={ref}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nTooltipContent.displayName = TooltipPrimitive.Content.displayName\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }\n","path":null,"size_bytes":1209,"size_tokens":null},"design_guidelines.md":{"content":"# Mystery Box Game - Design Guidelines\n\n## Design Approach\n**Reference-Based Approach**: Inspired by mobile game loot box interfaces and casino slot machine aesthetics, focusing on exciting reveal mechanics and celebratory animations.\n\n## Core Design Principles\n1. **Anticipation & Reward**: Build excitement through smooth animations and celebratory effects\n2. **Centered Focus**: Keep user attention on the mystery box interaction\n3. **Tactile Feedback**: Immediate visual response to all interactions\n4. **Celebration**: Amplify winning moments with particles and glowing effects\n\n## Typography\n- **Primary Font**: Poppins (via Google Fonts CDN)\n- **Weights**: Regular (400), Medium (500), Bold (700)\n- **Hierarchy**:\n  - Game Title: 3xl to 4xl, Bold\n  - Prize Names: 2xl, Medium\n  - UI Labels: base to lg, Regular\n  - Button Text: lg, Medium\n\n## Color Palette (Gamified Theme)\n- **Primary Green**: HSL(158 45% 45%) - Vibrant forest green for buttons, mystery box\n- **Light Green**: #5ba085 (highlights, hover states)\n- **Dark Green**: #2d5f4a (shadows, depth)\n- **Gold Accent**: HSL(45 85% 58%) - Bright gold for prizes, rewards, celebration effects\n- **Background**: HSL(220 18% 8%) - Deep blue-tinted dark for contrast\n- **Card/Surface**: HSL(220 15% 12%) - Slightly lighter than background\n- **Borders**: HSL(158 15% 25%) - Green-tinted borders for cohesion\n- **Text Primary**: HSL(158 25% 95%) - Bright, slightly green-tinted white\n- **Text Muted**: HSL(158 15% 75%) - Green-tinted gray for secondary text\n\n## Layout System\n- **Spacing**: Tailwind units of 4, 6, 8, 12, 16 for consistent rhythm\n- **Container**: Centered single-column layout, max-w-4xl\n- **Box Position**: Vertically and horizontally centered with generous spacing\n- **Responsive**: Full viewport height on desktop, adaptive on mobile\n\n## Component Library\n\n### Mystery Box Component\n- 3D isometric perspective matching reference image\n- Forest green (#41886e) as base color with darker shadows (#2d5f4a)\n- Golden accents (#ffd700) for lock, hinges, decorative elements\n- Rounded corners and soft shadows for depth\n- Glow effect in idle state using box-shadow\n- Lid animation: Smooth upward lift with rotation\n- Touch-friendly size: minimum 300px on mobile\n\n### Prize Display\n- Scale-up reveal animation from box center\n- Card-based design with gradient backgrounds\n- Rarity indicators: color-coded borders (common to legendary)\n- Prize icons prominently displayed above prize name\n- Golden glow effect for rare items\n\n### Celebration Effects\n- Particle burst: Radial explosion from box center\n- Confetti: Random colored particles falling with gravity\n- Golden rays: Emanating from winning prizes\n- Pulsing glow: Applied to prize cards\n- Duration: 2-3 seconds for full effect\n\n### Buttons\n- Primary: Forest green (#41886e) with rounded-lg\n- Hover: Light green (#5ba085) transition\n- Shadow: Subtle elevation with dark green (#2d5f4a)\n- Size: Generous padding (py-4 px-8) for touch targets\n- Text: White (#ffffff), medium weight\n\n### Icons\nUse Font Awesome CDN for:\n- Gift box icon for mystery box decoration\n- Star icons for rarity indicators\n- Sparkle effects for particles\n- Trophy/crown for legendary prizes\n\n## Animations (Essential)\n- **Box Opening**: 0.8s ease-out lid rotation and translation\n- **Prize Reveal**: 0.5s scale from 0 to 1 with bounce easing\n- **Particle Effects**: 2s with fade-out and physics-based movement\n- **Glow Pulse**: Continuous 1.5s infinite loop for idle state\n- **Hover States**: 0.2s smooth transitions\n\n## Audio Integration\nUse Web Audio API or HTML5 Audio with these sound moments:\n- Box click: Short anticipatory sound\n- Lid opening: Creaking/magical reveal sound\n- Prize reveal: Chime or fanfare based on rarity\n- Celebration: Triumphant music snippet for rare wins\n\n## Accessibility\n- High contrast between text (#ffffff) and backgrounds (#1a1a1a)\n- Generous touch targets (minimum 44px)\n- Clear focus states on interactive elements\n- Reduced motion option for accessibility\n\n## Images\n**Mystery Box Visualization**: The primary box should replicate the 3D isometric style from the reference image - a gift box with visible lid, lock/clasp detail, and decorative elements. No external images needed; render with CSS/Canvas for performance.\n\n**Prize Icons**: Use icon library (Font Awesome) rather than images for coins, gems, power-ups to maintain crisp rendering at all sizes.","path":null,"size_bytes":4391,"size_tokens":null},"client/src/components/ui/popover.tsx":{"content":"import * as React from \"react\"\nimport * as PopoverPrimitive from \"@radix-ui/react-popover\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Popover = PopoverPrimitive.Root\n\nconst PopoverTrigger = PopoverPrimitive.Trigger\n\nconst PopoverContent = React.forwardRef<\n  React.ElementRef<typeof PopoverPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof PopoverPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <PopoverPrimitive.Portal>\n    <PopoverPrimitive.Content\n      ref={ref}\n      align={align}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </PopoverPrimitive.Portal>\n))\nPopoverContent.displayName = PopoverPrimitive.Content.displayName\n\nexport { Popover, PopoverTrigger, PopoverContent }\n","path":null,"size_bytes":1280,"size_tokens":null},"client/src/components/examples/MysteryBox.tsx":{"content":"import { useState } from 'react';\nimport MysteryBox from '../MysteryBox';\n\nexport default function MysteryBoxExample() {\n  const [isOpening, setIsOpening] = useState(false);\n  const [isOpened, setIsOpened] = useState(false);\n\n  const handleOpen = () => {\n    console.log('Opening mystery box...');\n    setIsOpening(true);\n    setTimeout(() => {\n      setIsOpening(false);\n      setIsOpened(true);\n      console.log('Box opened!');\n    }, 800);\n  };\n\n  return (\n    <div className=\"flex items-center justify-center min-h-screen bg-background\">\n      <MysteryBox onOpen={handleOpen} isOpening={isOpening} isOpened={isOpened} />\n    </div>\n  );\n}\n","path":null,"size_bytes":644,"size_tokens":null},"client/src/components/ui/tabs.tsx":{"content":"import * as React from \"react\"\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Tabs = TabsPrimitive.Root\n\nconst TabsList = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.List\n    ref={ref}\n    className={cn(\n      \"inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsList.displayName = TabsPrimitive.List.displayName\n\nconst TabsTrigger = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName\n\nconst TabsContent = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsContent.displayName = TabsPrimitive.Content.displayName\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n","path":null,"size_bytes":1883,"size_tokens":null},"server/googleSheets.ts":{"content":"import { normalizeVehicleNumber, validateVehicleNumber } from \"@shared/schema\";\n\nconst WEBHOOK_URL = \"https://script.google.com/macros/s/AKfycbzXq3up_wE6fjX2goRcPBfWqdWkYLIBFxoDhzREVuvJHivBmp2hLDvqPRXSQcvQUq4/exec\";\n\nexport interface SheetCustomer {\n  name: string;\n  number: string;\n  prize: number | null;\n  vehicleNumber: string;\n  timestamp: string;\n  verified?: boolean;\n  amount?: number; // Employee-entered payout amount during verification\n}\n\nexport interface TransactionLog {\n  vehicleNumber: string;\n  customerName: string;\n  phoneNumber: string;\n  amount: number;\n  transactionId: string;\n  referenceId: string;\n  upi?: string;\n  paymentMode?: string;\n  beneficiaryName?: string;\n  bulkpeStatus?: string;\n  bulkpeMessage?: string;\n  status: 'success' | 'failed';\n  errorMessage?: string;\n  timestamp: string;\n  // VPA Response Fields\n  vpaAddress?: string;\n  vpaAccountHolderName?: string;\n  vpaTransactionId?: string;\n  vpaReferenceId?: string;\n  vpaStatus?: string;\n  vpaMessage?: string;\n}\n\nexport class GoogleSheetsNotConfiguredError extends Error {\n  constructor() {\n    super(\"Google Sheets webhook is not configured. Please set up the Apps Script code.\");\n    this.name = \"GoogleSheetsNotConfiguredError\";\n  }\n}\n\nexport class GoogleSheetsService {\n  private webhookUrl: string;\n  private isConfigured: boolean | null = null;\n\n  constructor() {\n    this.webhookUrl = WEBHOOK_URL;\n  }\n\n  private async checkResponse(response: Response): Promise<string> {\n    if (!response.ok) {\n      throw new Error(`Google Sheets webhook error: ${response.status} ${response.statusText}`);\n    }\n\n    const text = await response.text();\n    \n    // Check if response is HTML (Apps Script not set up)\n    if (text.trim().startsWith('<')) {\n      this.isConfigured = false;\n      throw new GoogleSheetsNotConfiguredError();\n    }\n\n    this.isConfigured = true;\n    return text;\n  }\n\n  async healthCheck(): Promise<boolean> {\n    try {\n      const response = await fetch(`${this.webhookUrl}?action=getVerifiedCount`, {\n        method: 'GET',\n      });\n\n      const text = await this.checkResponse(response);\n      JSON.parse(text); // Verify it's valid JSON\n      \n      this.isConfigured = true;\n      return true;\n    } catch (error) {\n      if (error instanceof GoogleSheetsNotConfiguredError) {\n        this.isConfigured = false;\n        return false;\n      }\n      console.error('Google Sheets health check failed:', error);\n      return false;\n    }\n  }\n\n  async addCustomer(customer: SheetCustomer): Promise<void> {\n    const response = await fetch(this.webhookUrl, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        action: 'add',\n        ...customer,\n      }),\n    });\n\n    await this.checkResponse(response);\n  }\n\n  async getAllCustomers(): Promise<SheetCustomer[]> {\n    const response = await fetch(`${this.webhookUrl}?action=getAll`, {\n      method: 'GET',\n    });\n\n    const text = await this.checkResponse(response);\n    const data = JSON.parse(text);\n    return data.customers || [];\n  }\n\n  async getCustomerByVehicle(vehicleNumber: string): Promise<SheetCustomer | null> {\n    const normalized = normalizeVehicleNumber(vehicleNumber);\n    const response = await fetch(`${this.webhookUrl}?action=getByVehicle&vehicleNumber=${encodeURIComponent(normalized)}`, {\n      method: 'GET',\n    });\n\n    const text = await this.checkResponse(response);\n    const data = JSON.parse(text);\n    return data.customer || null;\n  }\n\n  async getTodaysCustomerByVehicle(vehicleNumber: string): Promise<SheetCustomer | null> {\n    const normalized = normalizeVehicleNumber(vehicleNumber);\n    const response = await fetch(`${this.webhookUrl}?action=getTodayByVehicle&vehicleNumber=${encodeURIComponent(normalized)}`, {\n      method: 'GET',\n    });\n\n    const text = await this.checkResponse(response);\n    const data = JSON.parse(text);\n    return data.customer || null;\n  }\n\n  async updateReward(vehicleNumber: string, rewardAmount: number): Promise<void> {\n    const normalized = normalizeVehicleNumber(vehicleNumber);\n    const response = await fetch(this.webhookUrl, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        action: 'updateReward',\n        vehicleNumber: normalized,\n        prize: rewardAmount,\n      }),\n    });\n\n    await this.checkResponse(response);\n  }\n\n  async verifyReward(vehicleNumber: string, payoutAmount?: number, verifierName?: string): Promise<void> {\n    const normalized = normalizeVehicleNumber(vehicleNumber);\n    const response = await fetch(this.webhookUrl, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        action: 'verifyAndSetAmount',\n        vehicleNumber: normalized,\n        amount: payoutAmount,\n        verifierName: verifierName || 'Unknown',\n      }),\n    });\n\n    await this.checkResponse(response);\n  }\n\n  async removeFromVerification(vehicleNumber: string): Promise<void> {\n    const normalized = normalizeVehicleNumber(vehicleNumber);\n    const response = await fetch(this.webhookUrl, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        action: 'updateReward',\n        vehicleNumber: normalized,\n        prize: 0, // Use 0 as a marker for removed entries\n      }),\n    });\n\n    await this.checkResponse(response);\n  }\n\n  async getVerifiedRewardsCount(): Promise<number> {\n    const response = await fetch(`${this.webhookUrl}?action=getVerifiedCount`, {\n      method: 'GET',\n    });\n\n    const text = await this.checkResponse(response);\n    const data = JSON.parse(text);\n    return data.count || 0;\n  }\n\n  async getTotalVerifiedAmountByVehicle(vehicleNumber: string): Promise<number> {\n    const normalized = normalizeVehicleNumber(vehicleNumber);\n    const response = await fetch(`${this.webhookUrl}?action=getTotalVerifiedAmount&vehicleNumber=${encodeURIComponent(normalized)}`, {\n      method: 'GET',\n    });\n\n    const text = await this.checkResponse(response);\n    const data = JSON.parse(text);\n    return data.totalAmount || 0;\n  }\n\n  async logTransaction(transaction: TransactionLog): Promise<void> {\n    console.log(\"[GOOGLE SHEETS] Calling logTransaction webhook with data:\", JSON.stringify({\n      action: 'logTransaction',\n      ...transaction,\n    }, null, 2));\n    \n    const response = await fetch(this.webhookUrl, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        action: 'logTransaction',\n        ...transaction,\n      }),\n    });\n\n    console.log(\"[GOOGLE SHEETS] logTransaction response status:\", response.status);\n    const responseText = await response.text();\n    console.log(\"[GOOGLE SHEETS] logTransaction response body:\", responseText);\n    \n    // Check response without calling checkResponse which might throw\n    if (!response.ok) {\n      throw new Error(`Google Sheets webhook error: ${response.status} ${response.statusText}`);\n    }\n    \n    // Check if response is HTML (Apps Script not set up)\n    if (responseText.trim().startsWith('<')) {\n      throw new Error(\"Google Sheets Apps Script not properly deployed - received HTML instead of JSON\");\n    }\n    \n    try {\n      JSON.parse(responseText);\n    } catch (e) {\n      throw new Error(`Invalid JSON response from Google Sheets: ${responseText}`);\n    }\n  }\n\n  async getTransactionByPhone(phoneNumber: string): Promise<{ vpa: string; accountHolderName?: string } | null> {\n    try {\n      const response = await fetch(`${this.webhookUrl}?action=getTransactionByPhone&phone=${encodeURIComponent(phoneNumber)}`, {\n        method: 'GET',\n      });\n\n      const text = await this.checkResponse(response);\n      const data = JSON.parse(text);\n      \n      if (data.found && data.vpa) {\n        console.log(`[GOOGLE SHEETS] Found cached VPA for ${phoneNumber}: ${data.vpa}`);\n        return {\n          vpa: data.vpa,\n          accountHolderName: data.accountHolderName\n        };\n      }\n      \n      console.log(`[GOOGLE SHEETS] No cached VPA found for ${phoneNumber} in Transactions sheet`);\n      return null;\n    } catch (error) {\n      console.log(\"[GOOGLE SHEETS] Transaction lookup error:\", error);\n      return null;\n    }\n  }\n\n  getIsConfigured(): boolean | null {\n    return this.isConfigured;\n  }\n}\n\nexport const googleSheetsService = new GoogleSheetsService();\n","path":null,"size_bytes":8503,"size_tokens":null},"client/src/main.tsx":{"content":"import { createRoot } from \"react-dom/client\";\nimport App from \"./App\";\nimport \"./index.css\";\n\ncreateRoot(document.getElementById(\"root\")!).render(<App />);\n","path":null,"size_bytes":157,"size_tokens":null},"client/src/components/ui/carousel.tsx":{"content":"import * as React from \"react\"\nimport useEmblaCarousel, {\n  type UseEmblaCarouselType,\n} from \"embla-carousel-react\"\nimport { ArrowLeft, ArrowRight } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\n\ntype CarouselApi = UseEmblaCarouselType[1]\ntype UseCarouselParameters = Parameters<typeof useEmblaCarousel>\ntype CarouselOptions = UseCarouselParameters[0]\ntype CarouselPlugin = UseCarouselParameters[1]\n\ntype CarouselProps = {\n  opts?: CarouselOptions\n  plugins?: CarouselPlugin\n  orientation?: \"horizontal\" | \"vertical\"\n  setApi?: (api: CarouselApi) => void\n}\n\ntype CarouselContextProps = {\n  carouselRef: ReturnType<typeof useEmblaCarousel>[0]\n  api: ReturnType<typeof useEmblaCarousel>[1]\n  scrollPrev: () => void\n  scrollNext: () => void\n  canScrollPrev: boolean\n  canScrollNext: boolean\n} & CarouselProps\n\nconst CarouselContext = React.createContext<CarouselContextProps | null>(null)\n\nfunction useCarousel() {\n  const context = React.useContext(CarouselContext)\n\n  if (!context) {\n    throw new Error(\"useCarousel must be used within a <Carousel />\")\n  }\n\n  return context\n}\n\nconst Carousel = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & CarouselProps\n>(\n  (\n    {\n      orientation = \"horizontal\",\n      opts,\n      setApi,\n      plugins,\n      className,\n      children,\n      ...props\n    },\n    ref\n  ) => {\n    const [carouselRef, api] = useEmblaCarousel(\n      {\n        ...opts,\n        axis: orientation === \"horizontal\" ? \"x\" : \"y\",\n      },\n      plugins\n    )\n    const [canScrollPrev, setCanScrollPrev] = React.useState(false)\n    const [canScrollNext, setCanScrollNext] = React.useState(false)\n\n    const onSelect = React.useCallback((api: CarouselApi) => {\n      if (!api) {\n        return\n      }\n\n      setCanScrollPrev(api.canScrollPrev())\n      setCanScrollNext(api.canScrollNext())\n    }, [])\n\n    const scrollPrev = React.useCallback(() => {\n      api?.scrollPrev()\n    }, [api])\n\n    const scrollNext = React.useCallback(() => {\n      api?.scrollNext()\n    }, [api])\n\n    const handleKeyDown = React.useCallback(\n      (event: React.KeyboardEvent<HTMLDivElement>) => {\n        if (event.key === \"ArrowLeft\") {\n          event.preventDefault()\n          scrollPrev()\n        } else if (event.key === \"ArrowRight\") {\n          event.preventDefault()\n          scrollNext()\n        }\n      },\n      [scrollPrev, scrollNext]\n    )\n\n    React.useEffect(() => {\n      if (!api || !setApi) {\n        return\n      }\n\n      setApi(api)\n    }, [api, setApi])\n\n    React.useEffect(() => {\n      if (!api) {\n        return\n      }\n\n      onSelect(api)\n      api.on(\"reInit\", onSelect)\n      api.on(\"select\", onSelect)\n\n      return () => {\n        api?.off(\"select\", onSelect)\n      }\n    }, [api, onSelect])\n\n    return (\n      <CarouselContext.Provider\n        value={{\n          carouselRef,\n          api: api,\n          opts,\n          orientation:\n            orientation || (opts?.axis === \"y\" ? \"vertical\" : \"horizontal\"),\n          scrollPrev,\n          scrollNext,\n          canScrollPrev,\n          canScrollNext,\n        }}\n      >\n        <div\n          ref={ref}\n          onKeyDownCapture={handleKeyDown}\n          className={cn(\"relative\", className)}\n          role=\"region\"\n          aria-roledescription=\"carousel\"\n          {...props}\n        >\n          {children}\n        </div>\n      </CarouselContext.Provider>\n    )\n  }\n)\nCarousel.displayName = \"Carousel\"\n\nconst CarouselContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { carouselRef, orientation } = useCarousel()\n\n  return (\n    <div ref={carouselRef} className=\"overflow-hidden\">\n      <div\n        ref={ref}\n        className={cn(\n          \"flex\",\n          orientation === \"horizontal\" ? \"-ml-4\" : \"-mt-4 flex-col\",\n          className\n        )}\n        {...props}\n      />\n    </div>\n  )\n})\nCarouselContent.displayName = \"CarouselContent\"\n\nconst CarouselItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { orientation } = useCarousel()\n\n  return (\n    <div\n      ref={ref}\n      role=\"group\"\n      aria-roledescription=\"slide\"\n      className={cn(\n        \"min-w-0 shrink-0 grow-0 basis-full\",\n        orientation === \"horizontal\" ? \"pl-4\" : \"pt-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nCarouselItem.displayName = \"CarouselItem\"\n\nconst CarouselPrevious = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollPrev, canScrollPrev } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute  h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-left-12 top-1/2 -translate-y-1/2\"\n          : \"-top-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollPrev}\n      onClick={scrollPrev}\n      {...props}\n    >\n      <ArrowLeft className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Previous slide</span>\n    </Button>\n  )\n})\nCarouselPrevious.displayName = \"CarouselPrevious\"\n\nconst CarouselNext = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollNext, canScrollNext } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-right-12 top-1/2 -translate-y-1/2\"\n          : \"-bottom-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollNext}\n      onClick={scrollNext}\n      {...props}\n    >\n      <ArrowRight className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Next slide</span>\n    </Button>\n  )\n})\nCarouselNext.displayName = \"CarouselNext\"\n\nexport {\n  type CarouselApi,\n  Carousel,\n  CarouselContent,\n  CarouselItem,\n  CarouselPrevious,\n  CarouselNext,\n}\n","path":null,"size_bytes":6210,"size_tokens":null},"server/routes.ts":{"content":"import type { Express } from \"express\";\nimport { createServer, type Server } from \"http\";\nimport { storage } from \"./storage\";\nimport { insertCustomerSchema, employeeLoginSchema, normalizeVehicleNumber, validateVehicleNumber } from \"@shared/schema\";\nimport { googleSheetsService, GoogleSheetsNotConfiguredError, type TransactionLog } from \"./googleSheets\";\nimport { getBulkPEService } from \"./bulkpe\";\n\nexport async function registerRoutes(app: Express): Promise<Server> {\n  // Health check for Google Sheets\n  app.get(\"/api/health\", async (req, res) => {\n    try {\n      const isConfigured = await googleSheetsService.healthCheck();\n      res.json({ \n        googleSheets: isConfigured,\n        message: isConfigured \n          ? \"Google Sheets is configured and working\" \n          : \"Google Sheets is not configured. Please set up the Apps Script code.\"\n      });\n    } catch (error: any) {\n      res.status(503).json({ \n        googleSheets: false,\n        message: \"Google Sheets health check failed\",\n        error: error.message \n      });\n    }\n  });\n\n  // Validate customer registration\n  app.post(\"/api/customers/validate\", async (req, res) => {\n    try {\n      const { phoneNumber, vehicleNumber } = req.body;\n\n      // Normalize and validate vehicle number\n      const normalized = normalizeVehicleNumber(vehicleNumber);\n      const validation = validateVehicleNumber(normalized);\n      \n      if (!validation.isValid) {\n        return res.status(400).json({\n          error: \"invalid_vehicle_number\",\n          message: validation.error,\n        });\n      }\n\n      // Check if vehicle exists in Google Sheets\n      const existingCustomer = await googleSheetsService.getCustomerByVehicle(normalized);\n\n      if (existingCustomer) {\n        // Vehicle exists - check if phone matches\n        const phoneMatch = existingCustomer.number === phoneNumber;\n\n        if (!phoneMatch) {\n          return res.status(400).json({\n            error: \"vehicle_exists\",\n            message: \"This vehicle number is already registered with a different phone number. Please use the same phone number, or use a different vehicle number.\",\n          });\n        }\n\n        // Check if customer already played today\n        const todayEntry = await googleSheetsService.getTodaysCustomerByVehicle(normalized);\n        if (todayEntry) {\n          return res.status(400).json({\n            error: \"already_played_today\",\n            message: \"You have already played today. Come back tomorrow!\",\n          });\n        }\n      }\n\n      // Validation passed\n      res.json({ valid: true });\n    } catch (error: any) {\n      console.error(\"Validation error:\", error);\n      \n      if (error instanceof GoogleSheetsNotConfiguredError) {\n        return res.status(503).json({ \n          error: \"google_sheets_not_configured\",\n          message: \"Google Sheets is not configured. Please complete the setup first.\" \n        });\n      }\n      \n      res.status(500).json({ error: error.message });\n    }\n  });\n\n  // Create customer entry\n  app.post(\"/api/customers\", async (req, res) => {\n    try {\n      const validatedData = insertCustomerSchema.parse(req.body);\n\n      // Normalize and validate vehicle number\n      const normalized = normalizeVehicleNumber(validatedData.vehicleNumber);\n      const validation = validateVehicleNumber(normalized);\n      \n      if (!validation.isValid) {\n        return res.status(400).json({\n          error: \"invalid_vehicle_number\",\n          message: validation.error,\n        });\n      }\n\n      // Validate against Google Sheets\n      let alreadyPlayedToday = false;\n      const existingCustomer = await googleSheetsService.getCustomerByVehicle(normalized);\n      if (existingCustomer) {\n        // Normalize strings for comparison (trim whitespace, handle null/undefined)\n        const existingPhoneNormalized = String(existingCustomer.number || '').trim();\n        const incomingPhoneNormalized = String(validatedData.phoneNumber || '').trim();\n\n        const phoneMatch = existingPhoneNormalized === incomingPhoneNormalized;\n\n        if (!phoneMatch) {\n          return res.status(400).json({\n            error: \"This vehicle number is already registered with a different phone number. Please use the same phone number, or use a different vehicle number.\",\n          });\n        }\n\n        // Same details - check if already played today\n        const todayEntry = await googleSheetsService.getTodaysCustomerByVehicle(normalized);\n        if (todayEntry) {\n          // Same vehicle, same details, but already played today - allow registration but mark as already played\n          alreadyPlayedToday = true;\n        }\n      }\n\n      // Create in local storage with normalized vehicle number\n      const customer = await storage.createCustomer({\n        ...validatedData,\n        vehicleNumber: normalized,\n      });\n      \n      // Mark as already played if applicable\n      let finalCustomer = customer;\n      if (alreadyPlayedToday) {\n        finalCustomer = await storage.markAlreadyPlayedToday(customer.id);\n      }\n\n      // Add to Google Sheets with normalized vehicle number\n      await googleSheetsService.addCustomer({\n        name: validatedData.name,\n        number: validatedData.phoneNumber,\n        prize: null,\n        vehicleNumber: normalized,\n        timestamp: new Date().toISOString(),\n        verified: false,\n      });\n\n      res.json(finalCustomer);\n    } catch (error: any) {\n      console.error(\"Create customer error:\", error);\n      \n      if (error instanceof GoogleSheetsNotConfiguredError) {\n        return res.status(503).json({ \n          error: \"Google Sheets is not configured. Please complete the setup first.\" \n        });\n      }\n      \n      res.status(400).json({ error: error.message });\n    }\n  });\n\n  // Get customer by ID\n  app.get(\"/api/customers/:id\", async (req, res) => {\n    try {\n      const customer = await storage.getCustomer(req.params.id);\n      if (!customer) {\n        return res.status(404).json({ error: \"Customer not found\" });\n      }\n      res.json(customer);\n    } catch (error: any) {\n      res.status(500).json({ error: error.message });\n    }\n  });\n\n  // Get total verified amount for a customer by vehicle number\n  app.get(\"/api/vehicles/:vehicleNumber/total-verified-amount\", async (req, res) => {\n    try {\n      const totalAmount = await googleSheetsService.getTotalVerifiedAmountByVehicle(req.params.vehicleNumber);\n      res.json({ totalAmount });\n    } catch (error: any) {\n      console.error(\"Get total verified amount error:\", error);\n      res.status(500).json({ error: error.message });\n    }\n  });\n\n  // Update customer with reward (1-5 rupees)\n  app.patch(\"/api/customers/:id/reward\", async (req, res) => {\n    try {\n      const { rewardAmount } = req.body;\n      \n      if (!rewardAmount || rewardAmount < 1 || rewardAmount > 5) {\n        return res.status(400).json({ error: \"Reward amount must be between 1 and 5 rupees\" });\n      }\n\n      const customer = await storage.getCustomer(req.params.id);\n      if (!customer) {\n        return res.status(404).json({ error: \"Customer not found\" });\n      }\n\n      // Update in local storage\n      const updatedCustomer = await storage.updateCustomerReward(\n        req.params.id,\n        rewardAmount\n      );\n\n      // Update in Google Sheets\n      await googleSheetsService.updateReward(customer.vehicleNumber, rewardAmount);\n\n      res.json(updatedCustomer);\n    } catch (error: any) {\n      console.error(\"Update reward error:\", error);\n      \n      if (error instanceof GoogleSheetsNotConfiguredError) {\n        return res.status(503).json({ \n          error: \"Google Sheets is not configured. Please complete the setup first.\" \n        });\n      }\n      \n      res.status(500).json({ error: error.message });\n    }\n  });\n\n  // Verify reward\n  app.patch(\"/api/customers/:id/verify\", async (req, res) => {\n    try {\n      const customer = await storage.getCustomer(req.params.id);\n      if (!customer) {\n        return res.status(404).json({ error: \"Customer not found\" });\n      }\n\n      // Update in local storage\n      const updatedCustomer = await storage.verifyCustomerReward(req.params.id);\n\n      // Update in Google Sheets\n      await googleSheetsService.verifyReward(customer.vehicleNumber);\n\n      res.json(updatedCustomer);\n    } catch (error: any) {\n      console.error(\"Verify reward error:\", error);\n      \n      if (error instanceof GoogleSheetsNotConfiguredError) {\n        return res.status(503).json({ \n          error: \"Google Sheets is not configured. Please complete the setup first.\" \n        });\n      }\n      \n      res.status(500).json({ error: error.message });\n    }\n  });\n\n  // Get stats\n  app.get(\"/api/stats\", async (req, res) => {\n    try {\n      // Get verified rewards count from Google Sheets\n      const verifiedCount = await googleSheetsService.getVerifiedRewardsCount();\n      res.json({ totalVerifiedRewards: verifiedCount });\n    } catch (error: any) {\n      console.error(\"Get stats error:\", error);\n      \n      if (error instanceof GoogleSheetsNotConfiguredError) {\n        // Return 0 when not configured (setup screen will be shown)\n        return res.json({ totalVerifiedRewards: 0 });\n      }\n      \n      res.status(500).json({ error: error.message });\n    }\n  });\n\n  // Employee login\n  app.post(\"/api/employee/login\", async (req, res) => {\n    try {\n      const { username, password } = employeeLoginSchema.parse(req.body);\n      \n      const employee = await storage.getEmployeeByUsername(username);\n      \n      if (!employee || employee.password !== password) {\n        return res.status(401).json({ error: \"Invalid username or password\" });\n      }\n      \n      res.json({ \n        id: employee.id, \n        username: employee.username, \n        name: employee.name \n      });\n    } catch (error: any) {\n      console.error(\"Employee login error:\", error);\n      res.status(400).json({ error: error.message });\n    }\n  });\n\n  // Get today's unverified customers from Google Sheets\n  app.get(\"/api/employee/unverified-customers\", async (req, res) => {\n    try {\n      const allCustomers = await googleSheetsService.getAllCustomers();\n      \n      // Filter for today's date and unverified customers with prizes\n      const today = new Date().toISOString().split('T')[0];\n      const unverifiedCustomers = allCustomers.filter((customer) => {\n        const customerDate = customer.timestamp.split('T')[0];\n        // Ensure prize is a valid number greater than 0\n        const prize = Number(customer.prize);\n        const hasValidPrize = !isNaN(prize) && prize > 0;\n        \n        return customerDate === today && \n               customer.verified !== true && \n               hasValidPrize;\n      }).reverse(); // Reverse to show most recent first\n      \n      res.json({ customers: unverifiedCustomers });\n    } catch (error: any) {\n      console.error(\"Get unverified customers error:\", error);\n      \n      if (error instanceof GoogleSheetsNotConfiguredError) {\n        return res.status(503).json({ \n          error: \"Google Sheets is not configured. Please complete the setup first.\" \n        });\n      }\n      \n      res.status(500).json({ error: error.message });\n    }\n  });\n\n  // Employee verify a customer by vehicle number\n  app.post(\"/api/employee/verify/:vehicleNumber\", async (req, res) => {\n    try {\n      const { vehicleNumber } = req.params;\n      const { amount, verifierName } = req.body;\n      \n      // Normalize vehicle number\n      const normalized = normalizeVehicleNumber(vehicleNumber);\n      \n      // Get customer details from Google Sheets before verifying\n      const customerEntry = await googleSheetsService.getTodaysCustomerByVehicle(normalized);\n      \n      if (!customerEntry) {\n        return res.status(404).json({ error: \"Customer not found\" });\n      }\n      \n      // Verify in Google Sheets with verifier name\n      await googleSheetsService.verifyReward(normalized, amount, verifierName);\n      \n      // Also update in local storage if exists\n      const allCustomers = await storage.getAllCustomers();\n      const customer = allCustomers.find(c => normalizeVehicleNumber(c.vehicleNumber) === normalized);\n      if (customer) {\n        await storage.verifyCustomerReward(customer.id);\n      }\n      \n      // Initiate payout via BulkPE\n      let payoutResult = null;\n      let payoutError = null;\n      const bulkpe = getBulkPEService();\n      // Always use actual prize/reward amount for BulkPE payout (this is the actual winning amount)\n      // The employee-entered amount is just for tracking/recording\n      const prizeAmount = Number(customerEntry.prize);\n      const referenceId = `FUELRUSH-${normalized}-${Date.now()}`;\n      \n      if (bulkpe && Number.isFinite(prizeAmount) && prizeAmount > 0 && customerEntry.number) {\n        try {\n          const phoneStr = String(customerEntry.number).trim();\n          \n          // Step 1: Check if VPA exists in Transactions sheet from previous transaction\n          console.log(`[PAYOUT] Step 1: Checking Transactions sheet for cached VPA for ${phoneStr}`);\n          let cachedVPA = null;\n          try {\n            cachedVPA = await googleSheetsService.getTransactionByPhone(phoneStr);\n            if (cachedVPA) {\n              console.log(`[PAYOUT] Found cached VPA: ${cachedVPA.vpa}, Account Holder: ${cachedVPA.accountHolderName}`);\n            } else {\n              console.log(`[PAYOUT] No cached VPA found, will call getVPA API`);\n            }\n          } catch (cacheErr: any) {\n            console.log(`[PAYOUT] Error checking Transactions sheet:`, cacheErr.message);\n          }\n          \n          payoutResult = await bulkpe.initiatePayout({\n            amount: prizeAmount,\n            phoneNumber: phoneStr,\n            beneficiaryName: customerEntry.name || `Customer-${phoneStr.slice(-4)}`,\n            referenceId,\n            note: `FUEL RUSH Cashback - Rs.${prizeAmount}`,\n            cachedVPA: cachedVPA || undefined\n          });\n          console.log(\"Payout initiated successfully:\", JSON.stringify(payoutResult, null, 2));\n          \n          // Log successful transaction to Google Sheets\n          // Extract all VPA response fields\n          const responseUpi = (payoutResult as any).vpaUsed || 'N/A';\n          const finalBeneficiaryName = (payoutResult as any).accountHolderNameFromVpa || customerEntry.name || `Customer-${phoneStr.slice(-4)}`;\n          const txnId = payoutResult.data?.transaction_id || (payoutResult.data as any)?.transcation_id || 'N/A';\n          \n          const transaction: TransactionLog = {\n            vehicleNumber: normalized,\n            customerName: customerEntry.name || 'N/A',\n            phoneNumber: customerEntry.number,\n            amount: prizeAmount,\n            transactionId: txnId,\n            referenceId,\n            upi: responseUpi,\n            paymentMode: 'UPI',\n            beneficiaryName: finalBeneficiaryName,\n            bulkpeStatus: payoutResult.data?.status || 'SUCCESS',\n            bulkpeMessage: payoutResult.data?.message || 'Transaction Success',\n            status: 'success',\n            timestamp: new Date().toISOString(),\n            // Store all VPA response fields separately\n            vpaAddress: (payoutResult as any).vpaUsed || 'N/A',\n            vpaAccountHolderName: (payoutResult as any).accountHolderNameFromVpa || 'N/A',\n            vpaTransactionId: payoutResult.data?.transaction_id || (payoutResult.data as any)?.transcation_id || 'N/A',\n            vpaReferenceId: payoutResult.data?.reference_id || 'N/A',\n            vpaStatus: payoutResult.data?.status || 'SUCCESS',\n            vpaMessage: payoutResult.data?.message || 'Transaction Success',\n          };\n          \n          try {\n            console.log(\"[TRANSACTION LOG] Attempting to log successful transaction:\", JSON.stringify(transaction, null, 2));\n            await googleSheetsService.logTransaction(transaction);\n            console.log(\"[TRANSACTION LOG] Successfully logged transaction to Google Sheets\");\n            // Store in local storage too\n            await storage.setPaymentStatus(customerEntry.number, 'success', transaction.transactionId);\n          } catch (sheetErr: any) {\n            console.error(\"[TRANSACTION LOG ERROR] Failed to log transaction to Google Sheets:\", sheetErr);\n          }\n        } catch (err: any) {\n          payoutError = err.message;\n          console.error(`[PAYOUT FAILED] Vehicle: ${vehicleNumber}, Phone: ${customerEntry.number}, Amount: ${prizeAmount}, Error: ${err.message}`);\n          \n          // Log failed transaction to Google Sheets\n          const finalBeneficiaryNameFailed = customerEntry.name || `Customer-${customerEntry.number.slice(-4)}`;\n          const transaction: TransactionLog = {\n            vehicleNumber: normalized,\n            customerName: customerEntry.name || 'N/A',\n            phoneNumber: customerEntry.number,\n            amount: prizeAmount,\n            transactionId: 'FAILED',\n            referenceId,\n            paymentMode: 'UPI',\n            beneficiaryName: finalBeneficiaryNameFailed,\n            bulkpeStatus: 'FAILED',\n            status: 'failed',\n            errorMessage: payoutError,\n            bulkpeMessage: payoutError,\n            timestamp: new Date().toISOString(),\n            // Store empty/N/A for VPA fields when transaction fails\n            vpaAddress: 'N/A',\n            vpaAccountHolderName: 'N/A',\n            vpaTransactionId: 'N/A',\n            vpaReferenceId: 'N/A',\n            vpaStatus: 'FAILED',\n            vpaMessage: payoutError,\n          };\n          \n          try {\n            console.log(\"[TRANSACTION LOG] Attempting to log failed transaction:\", JSON.stringify(transaction, null, 2));\n            await googleSheetsService.logTransaction(transaction);\n            console.log(\"[TRANSACTION LOG] Successfully logged failed transaction to Google Sheets\");\n            // Store in local storage too\n            await storage.setPaymentStatus(customerEntry.number, 'failed', 'FAILED');\n          } catch (sheetErr: any) {\n            console.error(\"[TRANSACTION LOG ERROR] Failed to log failed transaction to Google Sheets:\", sheetErr);\n          }\n        }\n      } else if (!bulkpe) {\n        console.warn(\"[PAYOUT SKIPPED] BulkPE service not configured\");\n      } else {\n        console.warn(`[PAYOUT SKIPPED] Invalid data - Prize: ${customerEntry.prize}, Phone: ${customerEntry.number}`);\n      }\n      \n      res.json({ \n        success: true, \n        vehicleNumber: normalized, \n        payout: payoutResult,\n        paymentStatus: payoutResult ? 'success' : 'no_payout',\n        errorMessage: payoutError \n      });\n    } catch (error: any) {\n      console.error(\"Employee verify error:\", error);\n      \n      if (error instanceof GoogleSheetsNotConfiguredError) {\n        return res.status(503).json({ \n          error: \"Google Sheets is not configured. Please complete the setup first.\" \n        });\n      }\n      \n      res.status(500).json({ error: error.message });\n    }\n  });\n\n  // Employee remove a customer from verification list (without verifying)\n  app.post(\"/api/employee/remove/:vehicleNumber\", async (req, res) => {\n    try {\n      const { vehicleNumber } = req.params;\n      \n      // Normalize vehicle number\n      const normalized = normalizeVehicleNumber(vehicleNumber);\n      \n      // Remove from verification list in Google Sheets\n      await googleSheetsService.removeFromVerification(normalized);\n      \n      res.json({ success: true, vehicleNumber: normalized });\n    } catch (error: any) {\n      console.error(\"Employee remove error:\", error);\n      \n      if (error instanceof GoogleSheetsNotConfiguredError) {\n        return res.status(503).json({ \n          error: \"Google Sheets is not configured. Please complete the setup first.\" \n        });\n      }\n      \n      res.status(500).json({ error: error.message });\n    }\n  });\n\n  // Check verification status for a customer by vehicle number\n  app.get(\"/api/customers/verification-status/:vehicleNumber\", async (req, res) => {\n    try {\n      const { vehicleNumber } = req.params;\n      \n      // Normalize vehicle number\n      const normalized = normalizeVehicleNumber(vehicleNumber);\n      \n      const todayEntry = await googleSheetsService.getTodaysCustomerByVehicle(normalized);\n      \n      if (!todayEntry) {\n        return res.status(404).json({ error: \"Customer not found\" });\n      }\n      \n      res.json({ \n        verified: todayEntry.verified === true,\n        vehicleNumber: normalized,\n        prize: todayEntry.prize\n      });\n    } catch (error: any) {\n      console.error(\"Check verification status error:\", error);\n      \n      if (error instanceof GoogleSheetsNotConfiguredError) {\n        return res.status(503).json({ \n          error: \"Google Sheets is not configured. Please complete the setup first.\" \n        });\n      }\n      \n      res.status(500).json({ error: error.message });\n    }\n  });\n\n  // Get payment status for a customer\n  app.get(\"/api/customers/:customerId/payment-status\", async (req, res) => {\n    try {\n      const { customerId } = req.params;\n      const paymentStatus = await storage.getPaymentStatus(customerId);\n      res.json({ \n        paymentStatus: paymentStatus.status,\n        transactionId: paymentStatus.transactionId\n      });\n    } catch (error: any) {\n      console.error(\"Get payment status error:\", error);\n      res.status(500).json({ error: error.message });\n    }\n  });\n\n  const httpServer = createServer(app);\n\n  return httpServer;\n}\n","path":null,"size_bytes":21506,"size_tokens":null},"client/src/components/CustomerForm.tsx":{"content":"import { useForm } from 'react-hook-form';\nimport { zodResolver } from '@hookform/resolvers/zod';\nimport { z } from 'zod';\nimport { Button } from '@/components/ui/button';\nimport {\n  Form,\n  FormControl,\n  FormField,\n  FormItem,\n  FormLabel,\n  FormMessage,\n} from '@/components/ui/form';\nimport { Input } from '@/components/ui/input';\nimport { Card } from '@/components/ui/card';\nimport { Phone, Car } from 'lucide-react';\nimport fuelRushLogo from '@assets/Gemini_Generated_Image_qj35yaqj35yaqj35-removebg-preview_1764680847950.png';\n\nconst formSchema = z.object({\n  phoneNumber: z.string().min(10, \"Phone number must be at least 10 digits\"),\n  vehicleNumber: z.string().min(2, \"Vehicle number is required\"),\n});\n\ntype FormData = z.infer<typeof formSchema>;\n\ninterface CustomerFormProps {\n  onSubmit: (data: FormData) => void;\n  isSubmitting: boolean;\n}\n\nexport default function CustomerForm({ onSubmit, isSubmitting }: CustomerFormProps) {\n  const form = useForm<FormData>({\n    resolver: zodResolver(formSchema),\n    defaultValues: {\n      phoneNumber: '',\n      vehicleNumber: '',\n    },\n  });\n  \n\n  return (\n    <div className=\"w-full max-w-sm space-y-2\">\n      <img \n        src={fuelRushLogo} \n        alt=\"FUEL RUSH Logo\" \n        className=\"w-200 h-30 mx-auto -mt-4\"\n      />\n\n      <div className=\"text-center space-y-4\">\n        \n        <h2 className=\"text-xl font-bold text-white\" data-testid=\"text-form-title\">\n          Enter Contest\n        </h2>\n        <h2 className=\"text-sm text-white\" data-testid=\"text-form-title\">\n          Payment will be sent to your UPI account  \n        </h2>\n      </div>\n\n      <Form {...form}>\n        <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-5\">\n          <FormField\n            control={form.control}\n            name=\"phoneNumber\"\n            render={({ field }) => (\n              <FormItem>\n                <FormControl>\n                  <div className=\"relative\">\n                    <Phone className=\"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-yellow-400\" />\n                    <Input\n                      placeholder=\"Phone Number\"\n                      className=\"\n                        pl-12 py-3 w-full\n                        bg-transparent\n                        text-white\n                        placeholder:text-yellow-200/70\n\n                        rounded-xl\n                        border-2 border-[#e8c253]\n\n                        shadow-[0_0_12px_rgba(255,215,0,0.4),inset_0_0_8px_rgba(255,215,0,0.25)]\n\n                        relative\n                        before:content-['']\n                        before:absolute before:left-0 before:right-0 before:top-1/2 before:h-[1px]\n                        before:bg-yellow-300/40\n                        before:blur-sm\n\n                        focus:outline-none\n                        focus:border-yellow-300\n                        focus:shadow-[0_0_15px_rgba(255,230,150,0.7),inset_0_0_10px_rgba(255,230,150,0.5)]\n                      \"\n\n                      data-testid=\"input-phone\"\n                      aria-label=\"Phone Number\"\n                      {...field}\n                    />\n                  </div>\n                </FormControl>\n                <FormMessage />\n              </FormItem>\n            )}\n          />\n      \n          <FormField\n            control={form.control}\n            name=\"vehicleNumber\"\n            render={({ field }) => (\n              <FormItem>\n                <FormControl>\n                  <div className=\"relative\">\n                    <Car className=\"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-yellow-400\" />\n                    <Input\n                      placeholder=\"Vehicle Number\"\n                      className=\"\n                        pl-12 py-3 w-full\n                        bg-transparent\n                        text-white\n                        placeholder:text-yellow-200/70\n\n                        rounded-xl\n                        border-2 border-[#e8c253]\n\n                        shadow-[0_0_12px_rgba(255,215,0,0.4),inset_0_0_8px_rgba(255,215,0,0.25)]\n\n                        relative\n                        before:content-['']\n                        before:absolute before:left-0 before:right-0 before:top-1/2 before:h-[1px]\n                        before:bg-yellow-300/40\n                        before:blur-sm\n\n                        focus:outline-none\n                        focus:border-yellow-300\n                        focus:shadow-[0_0_15px_rgba(255,230,150,0.7),inset_0_0_10px_rgba(255,230,150,0.5)]\n                      \"\n\n                      data-testid=\"input-vehicle\"\n                      aria-label=\"Vehicle Number\"\n                      {...field}\n                    />\n                  </div>\n                </FormControl>\n                <FormMessage />\n              </FormItem>\n            )}\n          />\n\n          <Button\n            type=\"submit\"\n            disabled={isSubmitting}\n            data-testid=\"button-submit-form\"\n            className=\"\n              w-full\n              py-3\n              text-l\n              font-extrabold\n              text-black\n              rounded-3xl\n              relative\n              bg-gradient-to-b from-[#ffe28a] to-[#d19c00]\n              border border-[#f8e7a0]\n              shadow-[0_6px_0_#b68600,0_12px_22px_rgba(0,0,0,0.45)]\n              overflow-hidden\n              mt-8\n            \"\n          >\n            {/* Glossy shine */}\n            <span\n              className=\"\n                absolute inset-0\n                rounded-2xl\n                bg-gradient-to-b from-white/50 to-transparent\n                pointer-events-none\n              \"\n            />\n\n            <span className=\"relative z-10\">\n              {isSubmitting ? \"Submitting...\" : \"ENTER CONTEST\"}\n            </span>\n          </Button>\n\n        </form>\n      </Form>\n    </div>\n  );\n}\n","path":null,"size_bytes":5906,"size_tokens":null},"client/src/components/ui/hover-card.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as HoverCardPrimitive from \"@radix-ui/react-hover-card\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst HoverCard = HoverCardPrimitive.Root\n\nconst HoverCardTrigger = HoverCardPrimitive.Trigger\n\nconst HoverCardContent = React.forwardRef<\n  React.ElementRef<typeof HoverCardPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof HoverCardPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <HoverCardPrimitive.Content\n    ref={ref}\n    align={align}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-hover-card-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nHoverCardContent.displayName = HoverCardPrimitive.Content.displayName\n\nexport { HoverCard, HoverCardTrigger, HoverCardContent }\n","path":null,"size_bytes":1251,"size_tokens":null},"server/storage.ts":{"content":"import { type User, type InsertUser, type Customer, type InsertCustomer, type Employee, type InsertEmployee } from \"@shared/schema\";\nimport { randomUUID } from \"crypto\";\n\nexport interface IStorage {\n  getUser(id: string): Promise<User | undefined>;\n  getUserByUsername(username: string): Promise<User | undefined>;\n  createUser(user: InsertUser): Promise<User>;\n  \n  createCustomer(customer: InsertCustomer): Promise<Customer>;\n  getCustomer(id: string): Promise<Customer | undefined>;\n  updateCustomerReward(id: string, rewardAmount: number): Promise<Customer>;\n  verifyCustomerReward(id: string): Promise<Customer>;\n  markAlreadyPlayedToday(id: string): Promise<Customer>;\n  getTotalVerifiedRewards(): Promise<number>;\n  getAllCustomers(): Promise<Customer[]>;\n  getUnverifiedCustomers(): Promise<Customer[]>;\n  \n  getEmployee(id: string): Promise<Employee | undefined>;\n  getEmployeeByUsername(username: string): Promise<Employee | undefined>;\n  createEmployee(employee: InsertEmployee): Promise<Employee>;\n  \n  setPaymentStatus(customerId: string, status: 'success' | 'failed', transactionId?: string): Promise<void>;\n  getPaymentStatus(customerId: string): Promise<{ status: 'success' | 'failed' | null; transactionId: string | null }>;\n}\n\nexport class MemStorage implements IStorage {\n  private users: Map<string, User>;\n  private customers: Map<string, Customer>;\n  private employees: Map<string, Employee>;\n  private paymentStatus: Map<string, { status: 'success' | 'failed'; transactionId: string | null }>;\n\n  constructor() {\n    this.users = new Map();\n    this.customers = new Map();\n    this.employees = new Map();\n    this.paymentStatus = new Map();\n    \n    this.initDefaultEmployee();\n  }\n  \n  private initDefaultEmployee() {\n    const employees: Employee[] = [\n      {\n        id: randomUUID(),\n        username: \"jhulesh\",\n        password: \"Brcjhuleshwar1543\",\n        name: \"JHULESH VERMA\",\n      },\n      {\n        id: randomUUID(),\n        username: \"dev kumar\",\n        password: \"BRCdev6785\",\n        name: \"DEV KUMAR\",\n      },\n      {\n        id: randomUUID(),\n        username: \"khilendra\",\n        password: \"BRCkhilendra3316\",\n        name: \"KHILENDRA VERMA\",\n      },\n      {\n        id: randomUUID(),\n        username: \"rajendra\",\n        password: \"BRCrajendra2313\",\n        name: \"RAJENDRA\",\n      },\n      {\n        id: randomUUID(),\n        username: \"yashwantsahu\",\n        password: \"BRCyashwant23463\",\n        name: \"YASHWANT SAHU\",\n      },\n      {\n        id: randomUUID(),\n        username: \"khileshwar\",\n        password: \"BRCkhileshwar11233\",\n        name: \"KHILESHWAR DEWANGAN\",\n      },\n      {\n        id: randomUUID(),\n        username: \"yashwant\",\n        password: \"yashwant3492\",\n        name: \"YASHWANT VERMA\",\n      },\n      {\n        id: randomUUID(),\n        username: \"khomlal\",\n        password: \"khomlalsahu3492\",\n        name: \"KHOMLAL SAHU\",\n      },\n      {\n        id: randomUUID(),\n        username: \"gaurav\",\n        password: \"gaurav38792\",\n        name: \"GOURAV MISHRA\",\n      },\n      {\n        id: randomUUID(),\n        username: \"jyoti\",\n        password: \"BRCjyoti235\",\n        name: \"JYOTI VERMA\",\n      },\n    ];\n    \n    employees.forEach(emp => this.employees.set(emp.id, emp));\n  }\n\n  async getUser(id: string): Promise<User | undefined> {\n    return this.users.get(id);\n  }\n\n  async getUserByUsername(username: string): Promise<User | undefined> {\n    return Array.from(this.users.values()).find(\n      (user) => user.username === username,\n    );\n  }\n\n  async createUser(insertUser: InsertUser): Promise<User> {\n    const id = randomUUID();\n    const user: User = { ...insertUser, id };\n    this.users.set(id, user);\n    return user;\n  }\n\n  async createCustomer(insertCustomer: InsertCustomer): Promise<Customer> {\n    const id = randomUUID();\n    const customer: Customer = {\n      ...insertCustomer,\n      id,\n      rewardAmount: null,\n      verified: false,\n      alreadyPlayedToday: false,\n      createdAt: new Date(),\n    };\n    this.customers.set(id, customer);\n    return customer;\n  }\n\n  async getCustomer(id: string): Promise<Customer | undefined> {\n    return this.customers.get(id);\n  }\n\n  async updateCustomerReward(id: string, rewardAmount: number): Promise<Customer> {\n    const customer = this.customers.get(id);\n    if (!customer) {\n      throw new Error(\"Customer not found\");\n    }\n    const updated = { ...customer, rewardAmount };\n    this.customers.set(id, updated);\n    return updated;\n  }\n\n  async verifyCustomerReward(id: string): Promise<Customer> {\n    const customer = this.customers.get(id);\n    if (!customer) {\n      throw new Error(\"Customer not found\");\n    }\n    const updated = { ...customer, verified: true };\n    this.customers.set(id, updated);\n    return updated;\n  }\n\n  async markAlreadyPlayedToday(id: string): Promise<Customer> {\n    const customer = this.customers.get(id);\n    if (!customer) {\n      throw new Error(\"Customer not found\");\n    }\n    const updated = { ...customer, alreadyPlayedToday: true };\n    this.customers.set(id, updated);\n    return updated;\n  }\n\n  async getTotalVerifiedRewards(): Promise<number> {\n    return Array.from(this.customers.values()).filter(\n      (customer) => customer.verified === true && customer.rewardAmount !== null\n    ).length;\n  }\n\n  async getAllCustomers(): Promise<Customer[]> {\n    return Array.from(this.customers.values());\n  }\n  \n  async getUnverifiedCustomers(): Promise<Customer[]> {\n    return Array.from(this.customers.values()).filter(\n      (customer) => customer.verified === false && customer.rewardAmount !== null\n    );\n  }\n  \n  async getEmployee(id: string): Promise<Employee | undefined> {\n    return this.employees.get(id);\n  }\n  \n  async getEmployeeByUsername(username: string): Promise<Employee | undefined> {\n    return Array.from(this.employees.values()).find(\n      (employee) => employee.username === username,\n    );\n  }\n  \n  async createEmployee(insertEmployee: InsertEmployee): Promise<Employee> {\n    const id = randomUUID();\n    const employee: Employee = { ...insertEmployee, id };\n    this.employees.set(id, employee);\n    return employee;\n  }\n  \n  async setPaymentStatus(customerId: string, status: 'success' | 'failed', transactionId?: string): Promise<void> {\n    this.paymentStatus.set(customerId, { status, transactionId: transactionId || null });\n  }\n  \n  async getPaymentStatus(customerId: string): Promise<{ status: 'success' | 'failed' | null; transactionId: string | null }> {\n    const payment = this.paymentStatus.get(customerId);\n    return payment || { status: null, transactionId: null };\n  }\n}\n\nexport const storage = new MemStorage();\n","path":null,"size_bytes":6649,"size_tokens":null},"client/src/components/ui/scroll-area.tsx":{"content":"import * as React from \"react\"\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ScrollArea = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <ScrollAreaPrimitive.Root\n    ref={ref}\n    className={cn(\"relative overflow-hidden\", className)}\n    {...props}\n  >\n    <ScrollAreaPrimitive.Viewport className=\"h-full w-full rounded-[inherit]\">\n      {children}\n    </ScrollAreaPrimitive.Viewport>\n    <ScrollBar />\n    <ScrollAreaPrimitive.Corner />\n  </ScrollAreaPrimitive.Root>\n))\nScrollArea.displayName = ScrollAreaPrimitive.Root.displayName\n\nconst ScrollBar = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>\n>(({ className, orientation = \"vertical\", ...props }, ref) => (\n  <ScrollAreaPrimitive.ScrollAreaScrollbar\n    ref={ref}\n    orientation={orientation}\n    className={cn(\n      \"flex touch-none select-none transition-colors\",\n      orientation === \"vertical\" &&\n        \"h-full w-2.5 border-l border-l-transparent p-[1px]\",\n      orientation === \"horizontal\" &&\n        \"h-2.5 flex-col border-t border-t-transparent p-[1px]\",\n      className\n    )}\n    {...props}\n  >\n    <ScrollAreaPrimitive.ScrollAreaThumb className=\"relative flex-1 rounded-full bg-border\" />\n  </ScrollAreaPrimitive.ScrollAreaScrollbar>\n))\nScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName\n\nexport { ScrollArea, ScrollBar }\n","path":null,"size_bytes":1642,"size_tokens":null},"client/src/pages/not-found.tsx":{"content":"import { Card, CardContent } from \"@/components/ui/card\";\nimport { AlertCircle } from \"lucide-react\";\n\nexport default function NotFound() {\n  return (\n    <div className=\"min-h-screen w-full flex items-center justify-center bg-gray-50\">\n      <Card className=\"w-full max-w-md mx-4\">\n        <CardContent className=\"pt-6\">\n          <div className=\"flex mb-4 gap-2\">\n            <AlertCircle className=\"h-8 w-8 text-red-500\" />\n            <h1 className=\"text-2xl font-bold text-gray-900\">404 Page Not Found</h1>\n          </div>\n\n          <p className=\"mt-4 text-sm text-gray-600\">\n            Did you forget to add the page to the router?\n          </p>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","path":null,"size_bytes":711,"size_tokens":null},"client/src/components/ui/progress.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as ProgressPrimitive from \"@radix-ui/react-progress\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Progress = React.forwardRef<\n  React.ElementRef<typeof ProgressPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ProgressPrimitive.Root>\n>(({ className, value, ...props }, ref) => (\n  <ProgressPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative h-4 w-full overflow-hidden rounded-full bg-secondary\",\n      className\n    )}\n    {...props}\n  >\n    <ProgressPrimitive.Indicator\n      className=\"h-full w-full flex-1 bg-primary transition-all\"\n      style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\n    />\n  </ProgressPrimitive.Root>\n))\nProgress.displayName = ProgressPrimitive.Root.displayName\n\nexport { Progress }\n","path":null,"size_bytes":791,"size_tokens":null},"client/src/components/examples/StatsHeader.tsx":{"content":"import StatsHeader from '../StatsHeader';\n\nexport default function StatsHeaderExample() {\n  return (\n    <div className=\"min-h-screen bg-background\">\n      <StatsHeader totalWinners={42} />\n      <div className=\"flex items-center justify-center h-[calc(100vh-64px)]\">\n        <p className=\"text-muted-foreground\">Rest of the page content...</p>\n      </div>\n    </div>\n  );\n}\n","path":null,"size_bytes":376,"size_tokens":null},"client/src/components/ui/form.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport {\n  Controller,\n  FormProvider,\n  useFormContext,\n  type ControllerProps,\n  type FieldPath,\n  type FieldValues,\n} from \"react-hook-form\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Label } from \"@/components/ui/label\"\n\nconst Form = FormProvider\n\ntype FormFieldContextValue<\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n> = {\n  name: TName\n}\n\nconst FormFieldContext = React.createContext<FormFieldContextValue>(\n  {} as FormFieldContextValue\n)\n\nconst FormField = <\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n>({\n  ...props\n}: ControllerProps<TFieldValues, TName>) => {\n  return (\n    <FormFieldContext.Provider value={{ name: props.name }}>\n      <Controller {...props} />\n    </FormFieldContext.Provider>\n  )\n}\n\nconst useFormField = () => {\n  const fieldContext = React.useContext(FormFieldContext)\n  const itemContext = React.useContext(FormItemContext)\n  const { getFieldState, formState } = useFormContext()\n\n  const fieldState = getFieldState(fieldContext.name, formState)\n\n  if (!fieldContext) {\n    throw new Error(\"useFormField should be used within <FormField>\")\n  }\n\n  const { id } = itemContext\n\n  return {\n    id,\n    name: fieldContext.name,\n    formItemId: `${id}-form-item`,\n    formDescriptionId: `${id}-form-item-description`,\n    formMessageId: `${id}-form-item-message`,\n    ...fieldState,\n  }\n}\n\ntype FormItemContextValue = {\n  id: string\n}\n\nconst FormItemContext = React.createContext<FormItemContextValue>(\n  {} as FormItemContextValue\n)\n\nconst FormItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const id = React.useId()\n\n  return (\n    <FormItemContext.Provider value={{ id }}>\n      <div ref={ref} className={cn(\"space-y-2\", className)} {...props} />\n    </FormItemContext.Provider>\n  )\n})\nFormItem.displayName = \"FormItem\"\n\nconst FormLabel = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  const { error, formItemId } = useFormField()\n\n  return (\n    <Label\n      ref={ref}\n      className={cn(error && \"text-destructive\", className)}\n      htmlFor={formItemId}\n      {...props}\n    />\n  )\n})\nFormLabel.displayName = \"FormLabel\"\n\nconst FormControl = React.forwardRef<\n  React.ElementRef<typeof Slot>,\n  React.ComponentPropsWithoutRef<typeof Slot>\n>(({ ...props }, ref) => {\n  const { error, formItemId, formDescriptionId, formMessageId } = useFormField()\n\n  return (\n    <Slot\n      ref={ref}\n      id={formItemId}\n      aria-describedby={\n        !error\n          ? `${formDescriptionId}`\n          : `${formDescriptionId} ${formMessageId}`\n      }\n      aria-invalid={!!error}\n      {...props}\n    />\n  )\n})\nFormControl.displayName = \"FormControl\"\n\nconst FormDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => {\n  const { formDescriptionId } = useFormField()\n\n  return (\n    <p\n      ref={ref}\n      id={formDescriptionId}\n      className={cn(\"text-sm text-muted-foreground\", className)}\n      {...props}\n    />\n  )\n})\nFormDescription.displayName = \"FormDescription\"\n\nconst FormMessage = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, children, ...props }, ref) => {\n  const { error, formMessageId } = useFormField()\n  const body = error ? String(error?.message ?? \"\") : children\n\n  if (!body) {\n    return null\n  }\n\n  return (\n    <p\n      ref={ref}\n      id={formMessageId}\n      className={cn(\"text-sm font-medium text-destructive\", className)}\n      {...props}\n    >\n      {body}\n    </p>\n  )\n})\nFormMessage.displayName = \"FormMessage\"\n\nexport {\n  useFormField,\n  Form,\n  FormItem,\n  FormLabel,\n  FormControl,\n  FormDescription,\n  FormMessage,\n  FormField,\n}\n","path":null,"size_bytes":4120,"size_tokens":null},"client/src/pages/home.tsx":{"content":"import React, { useState, useEffect, useCallback } from 'react';\nimport { useMutation, useQuery } from '@tanstack/react-query';\nimport { Link } from 'wouter';\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\nimport { Card } from '@/components/ui/card';\nimport { Alert, AlertDescription, AlertTitle } from '@/components/ui/alert';\nimport { Dialog, DialogContent } from '@/components/ui/dialog';\nimport MysteryBox from '@/components/MysteryBox';\nimport Sparkles from '@/components/Sparkles';\nimport ParticleEffect from '@/components/ParticleEffect';\nimport CustomerForm from '@/components/CustomerForm';\nimport StatsHeader from '@/components/StatsHeader';\nimport { RotateCcw, IndianRupee, CheckCircle, AlertCircle, AlertTriangle, Clock, MessageCircle, Upload, LogIn } from 'lucide-react';\nimport { queryClient } from '@/lib/queryClient';\nimport { useToast } from '@/hooks/use-toast';\nimport bgImage from '@assets/Gemini_Generated_Image_mnpedumnpedumnpe_1764676809813.png';\nimport mysteryBoxImg from '@assets/Gemini_Generated_Image_2rmhxj2rmhxj2rmh-Photoroom_1764679645336.png';\n// @ts-ignore - canvas-confetti doesn't have TypeScript types but works fine\nimport confetti from 'canvas-confetti';\n\ninterface Customer {\n  id: string;\n  name: string;\n  phoneNumber: string;\n  vehicleNumber: string;\n  rewardAmount: number | null;\n  isVerified: boolean;\n  alreadyPlayedToday: boolean;\n}\n\nexport default function Home() {\n  const { toast } = useToast();\n  const [customerId, setCustomerId] = useState<string | null>(null);\n  const [showFormModal, setShowFormModal] = useState(false);\n  const [isOpening, setIsOpening] = useState(false);\n  const [isOpened, setIsOpened] = useState(false);\n  const [rewardAmount, setRewardAmount] = useState<number | null>(null);\n  const [isVerified, setIsVerified] = useState(false);\n  const [showReward, setShowReward] = useState(false);\n  const [particleTrigger, setParticleTrigger] = useState(0);\n  const [confettiTrigger, setConfettiTrigger] = useState(0);\n  const [verificationTimeLeft, setVerificationTimeLeft] = useState<number | null>(null);\n  const [prizeCardSparkles, setPrizeCardSparkles] = useState(false);\n  const [timeExpired, setTimeExpired] = useState(false);\n  const [showWhatsAppFlow, setShowWhatsAppFlow] = useState(false);\n  const [payoutStatus, setPayoutStatus] = useState<'pending' | 'success' | 'failed' | null>(null);\n  const [payoutTransactionId, setPayoutTransactionId] = useState<string | null>(null);\n\n  const WHATSAPP_NUMBER = \"+918817828153\";\n  \n  // Audio references\n  const bgMusicRef = React.useRef<HTMLAudioElement | null>(null);\n  const boxOpeningSoundRef = React.useRef<HTMLAudioElement | null>(null);\n  const [audioInitialized, setAudioInitialized] = useState(false);\n  \n  // Initialize audio elements on mount\n  useEffect(() => {\n    // Create background music element\n    if (!bgMusicRef.current) {\n      const bgAudio = new Audio('https://files.catbox.moe/p1pum1.mp3');\n      bgAudio.loop = true;\n      bgAudio.volume = 0.3;\n      bgMusicRef.current = bgAudio;\n    }\n    \n    // Create box opening sound element\n    if (!boxOpeningSoundRef.current) {\n      const openSound = new Audio('https://files.catbox.moe/bhtmen.mp3');\n      openSound.volume = 0.5;\n      boxOpeningSoundRef.current = openSound;\n    }\n    \n    return () => {\n      // Cleanup\n      if (bgMusicRef.current) {\n        bgMusicRef.current.pause();\n      }\n    };\n  }, []);\n  \n  // Start background music on first user interaction\n  useEffect(() => {\n    const startAudio = () => {\n      if (bgMusicRef.current && !audioInitialized) {\n        bgMusicRef.current.play().catch(() => {\n          // Audio playback might be blocked by browser\n        });\n        setAudioInitialized(true);\n      }\n    };\n    \n    window.addEventListener('click', startAudio);\n    window.addEventListener('touchstart', startAudio);\n    \n    return () => {\n      window.removeEventListener('click', startAudio);\n      window.removeEventListener('touchstart', startAudio);\n    };\n  }, [audioInitialized]);\n\n  // Health check for Google Sheets\n  const { data: healthData } = useQuery<{ googleSheets: boolean; message: string }>({\n    queryKey: ['/api/health'],\n    refetchInterval: false,\n  });\n\n  // Fetch stats\n  const { data: stats } = useQuery<{ totalVerifiedRewards: number }>({\n    queryKey: ['/api/stats'],\n  });\n\n  // Fetch current customer data\n  const { data: customerData } = useQuery<Customer>({\n    queryKey: ['/api/customers', customerId],\n    enabled: !!customerId,\n    staleTime: Infinity, // Don't refetch automatically\n  });\n\n  // Fetch customer's total verified cashback\n  const { data: customerVerifiedData } = useQuery<{ totalAmount: number }>({\n    queryKey: ['/api/vehicles', customerData?.vehicleNumber, 'total-verified-amount'],\n    enabled: !!customerData?.vehicleNumber,\n    staleTime: 0, // Always fresh when invalidated\n  });\n\n  // Poll for verification status every 2 seconds while waiting (continue polling even after timeout for a short grace period)\n  const { data: verificationStatus } = useQuery<{ verified: boolean; vehicleNumber: string; prize: number | null }>({\n    queryKey: ['/api/customers/verification-status', customerData?.vehicleNumber],\n    enabled: !!customerData?.vehicleNumber && showReward && !isVerified,\n    refetchInterval: 2000,\n  });\n\n  // Update verification status when polling returns verified\n  useEffect(() => {\n    if (verificationStatus?.verified && !isVerified) {\n      setIsVerified(true);\n      setTimeExpired(false);\n      setShowWhatsAppFlow(false);\n      // Mark payment as being processed\n      setPayoutStatus('pending');\n      toast({\n        title: \"Reward Verified!\",\n        description: \"Your cashback payment is being processed...\",\n      });\n      queryClient.invalidateQueries({ queryKey: ['/api/stats'] });\n      if (customerData?.vehicleNumber) {\n        queryClient.invalidateQueries({ queryKey: ['/api/vehicles', customerData.vehicleNumber, 'total-verified-amount'] });\n      }\n      \n      // Fetch actual payment status from backend after a short delay\n      setTimeout(async () => {\n        try {\n          const res = await fetch(`/api/customers/${customerId}/payment-status`);\n          if (res.ok) {\n            const data = await res.json();\n            if (data.paymentStatus === 'success') {\n              setPayoutStatus('success');\n              setPayoutTransactionId(data.transactionId || `TXN-${Date.now()}`);\n            } else {\n              setPayoutStatus('failed');\n            }\n          } else {\n            // Default to success if endpoint not available (backward compatibility)\n            setPayoutStatus('success');\n            setPayoutTransactionId(`TXN-${Date.now()}`);\n          }\n        } catch (error) {\n          console.error('Failed to fetch payment status:', error);\n          setPayoutStatus('success');\n          setPayoutTransactionId(`TXN-${Date.now()}`);\n        }\n      }, 500);\n    }\n  }, [verificationStatus?.verified, isVerified, customerData?.vehicleNumber, customerId, toast]);\n\n  // Trigger sparkles when reward card appears\n  useEffect(() => {\n    if (showReward) {\n      setPrizeCardSparkles(true);\n      const timeout = setTimeout(() => {\n        setPrizeCardSparkles(false);\n      }, 2000);\n      return () => clearTimeout(timeout);\n    }\n  }, [showReward]);\n\n  // Trigger confetti when prize card appears\n  useEffect(() => {\n    if (showReward) {\n      const duration = 3000;\n      const end = Date.now() + duration;\n\n      const frame = () => {\n        confetti({\n          particleCount: 2,\n          angle: 60,\n          spread: 55,\n          origin: { x: 0 },\n          colors: ['#ffd700', '#B4FF64', '#ffffff']\n        });\n        confetti({\n          particleCount: 2,\n          angle: 120,\n          spread: 55,\n          origin: { x: 1 },\n          colors: ['#ffd700', '#B4FF64', '#ffffff']\n        });\n\n        if (Date.now() < end) {\n          requestAnimationFrame(frame);\n        }\n      };\n\n      frame();\n    }\n  }, [showReward]);\n\n\n  // Create customer mutation\n  const createCustomerMutation = useMutation({\n    mutationFn: async (data: { name: string; phoneNumber: string; vehicleNumber: string }) => {\n      const res = await fetch('/api/customers', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(data),\n        credentials: 'include',\n      });\n\n      if (!res.ok) {\n        const error = await res.json();\n        throw new Error(error.error || 'Failed to register');\n      }\n\n      return await res.json();\n    },\n    onSuccess: (data) => {\n      // Update with real ID from backend\n      setCustomerId(data.id);\n      // Only show success toast for new customers, not for existing ones\n      if (!data.alreadyPlayedToday) {\n        toast({\n          title: \"Registration Successful!\",\n          description: \"Click the mystery box to reveal your reward!\",\n        });\n      }\n    },\n    onError: (error: Error) => {\n      toast({\n        title: \"Registration Failed\",\n        description: error.message,\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  // Update reward mutation\n  const updateRewardMutation = useMutation({\n    mutationFn: async ({ customerId, rewardAmount }: { customerId: string; rewardAmount: number }) => {\n      const res = await fetch(`/api/customers/${customerId}/reward`, {\n        method: 'PATCH',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ rewardAmount }),\n        credentials: 'include',\n      });\n\n      if (!res.ok) {\n        const error = await res.json();\n        throw new Error(error.error || 'Failed to update reward');\n      }\n\n      return await res.json();\n    },\n    onError: (error: Error) => {\n      toast({\n        title: \"Error\",\n        description: error.message,\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  // Verify reward mutation\n  const verifyRewardMutation = useMutation({\n    mutationFn: async (customerId: string) => {\n      const res = await fetch(`/api/customers/${customerId}/verify`, {\n        method: 'PATCH',\n        credentials: 'include',\n      });\n\n      if (!res.ok) {\n        const error = await res.json();\n        throw new Error(error.error || 'Failed to verify reward');\n      }\n\n      return await res.json();\n    },\n    onSuccess: () => {\n      setIsVerified(true);\n      queryClient.invalidateQueries({ queryKey: ['/api/stats'] });\n      if (customerData?.vehicleNumber) {\n        queryClient.invalidateQueries({ queryKey: ['/api/vehicles', customerData.vehicleNumber, 'total-verified-amount'] });\n      }\n      toast({\n        title: \"Reward Verified!\",\n        description: \"Your cashback has been confirmed.\",\n      });\n    },\n    onError: (error: Error) => {\n      toast({\n        title: \"Verification Failed\",\n        description: error.message,\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const handleFormSubmit = (data: { phoneNumber: string; vehicleNumber: string }) => {\n    // Generate a default name based on phone number for backend compatibility\n    const defaultName = `Customer-${data.phoneNumber.slice(-4)}`;\n    \n    // Show mystery box immediately with a temporary ID\n    const tempId = `temp-${Date.now()}`;\n    setCustomerId(tempId);\n    setShowFormModal(false);\n    \n    // Make the API call in the background\n    createCustomerMutation.mutate({\n      name: defaultName,\n      ...data,\n    });\n  };\n\n  const handleClickToOpen = () => {\n    setShowFormModal(true);\n  };\n\n  // Play box opening sound with background music pause/resume\n  const playBoxOpeningSound = () => {\n    if (bgMusicRef.current) {\n      bgMusicRef.current.pause();\n    }\n    \n    if (boxOpeningSoundRef.current) {\n      boxOpeningSoundRef.current.currentTime = 0;\n      boxOpeningSoundRef.current.play().catch(() => {\n        // Sound playback failed\n      });\n      \n      // Resume background music after box opening sound finishes\n      const soundDuration = 2000; // Approximate duration in ms\n      setTimeout(() => {\n        if (bgMusicRef.current) {\n          bgMusicRef.current.play().catch(() => {\n            // Audio playback might be blocked by browser\n          });\n        }\n      }, soundDuration);\n    }\n  };\n\n  const handleOpen = () => {\n    // Prevent opening with temp ID\n    if (!customerId || customerId.startsWith('temp-')) {\n      toast({\n        title: \"Loading...\",\n        description: \"Please wait for registration to complete.\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    setIsOpening(true);\n\n    // Play box opening sound with background music pause/resume\n    try {\n      playBoxOpeningSound();\n    } catch (e) {\n      // Audio playback might fail\n    }\n\n    // Generate random reward amount (1-5 rupees)\n    const reward = Math.floor(Math.random() * 5) + 1;\n    setRewardAmount(reward);\n\n    // Update customer with reward\n    if (customerId) {\n      updateRewardMutation.mutate({\n        customerId,\n        rewardAmount: reward,\n      });\n    }\n\n    // Lid opening animation\n    setTimeout(() => {\n      setIsOpening(false);\n      setIsOpened(true);\n      setParticleTrigger((prev) => prev + 1);\n\n      // Show reward after all celebration animations complete\n      setTimeout(() => {\n        setShowReward(true);\n        setConfettiTrigger((prev) => prev + 1);\n      }, 1200);\n    }, 1600);\n  };\n\n  const handleVerify = () => {\n    if (customerId) {\n      verifyRewardMutation.mutate(customerId);\n    }\n  };\n\n  const handleReset = () => {\n    setCustomerId(null);\n    setIsOpened(false);\n    setShowReward(false);\n    setRewardAmount(null);\n    setIsVerified(false);\n    setVerificationTimeLeft(null);\n    setTimeExpired(false);\n    setShowWhatsAppFlow(false);\n    setPayoutStatus(null);\n    setPayoutTransactionId(null);\n  };\n\n  const handleWhatsAppUpload = () => {\n    if (!customerData) return;\n    \n    const timestamp = new Date().toLocaleString('en-IN', {\n      timeZone: 'Asia/Kolkata',\n      day: '2-digit',\n      month: '2-digit',\n      year: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit',\n    });\n    \n    const message = `Vehicle Number: ${customerData.vehicleNumber}%0ATimestamp: ${timestamp}%0A%0APlease find my bill photo attached for verification.`;\n    \n    const whatsappUrl = `https://wa.me/${WHATSAPP_NUMBER.replace('+', '')}?text=${message}`;\n    window.open(whatsappUrl, '_blank');\n    \n    setShowWhatsAppFlow(false);\n    toast({\n      title: \"WhatsApp Opened\",\n      description: \"Please upload your bill photo and send the message. You will receive your reward in the evening.\",\n    });\n  };\n\n  // 45-second verification timeout\n  useEffect(() => {\n    if (!showReward || isVerified || timeExpired) {\n      return;\n    }\n\n    setVerificationTimeLeft(45);\n    \n    const interval = setInterval(() => {\n      setVerificationTimeLeft((prev) => {\n        if (prev === null || prev <= 1) {\n          setTimeExpired(true);\n          return 0;\n        }\n        return prev - 1;\n      });\n    }, 1000);\n\n    return () => clearInterval(interval);\n  }, [showReward, isVerified, timeExpired]);\n\n  const isGoogleSheetsConfigured = healthData?.googleSheets ?? true;\n\n  return (\n    <div \n      className=\" min-h-screen flex flex-col relative overflow-x-hidden mx-auto\"\n      style={{\n        backgroundImage: `url(${bgImage})`,\n        backgroundSize: 'cover',\n        backgroundPosition: 'center',\n        backgroundAttachment: 'fixed',\n      }}\n    >\n      {/* Google Sheets Setup Banner */}\n      {!isGoogleSheetsConfigured && (\n        <Alert className=\"rounded-none border-x-0 border-t-0 bg-yellow-500/10 border-yellow-500/20\">\n          <AlertTriangle className=\"h-4 w-4 text-yellow-500\" />\n          <AlertTitle className=\"text-yellow-500\">Google Sheets Not Configured</AlertTitle>\n          <AlertDescription className=\"text-yellow-500/90 text-xs\">\n            To use this contest, please set up Google Sheets integration. See{\" \"}\n            <code className=\"bg-yellow-500/20 px-1 py-0.5 rounded text-xs\">GOOGLE_SHEETS_SETUP.md</code> for instructions.\n          </AlertDescription>\n        </Alert>\n      )}\n      {/* Main Content */}\n      <div className=\"relative w-full z-10 px-7 pt-[0px] pb-[0px] pl-[34px] pr-[40px]\">\n        {!customerId ? (\n          // Splash Screen with Mystery Box Image and CLICK TO OPEN button\n          (<div \n            className=\"max-h-screen flex flex-col items-center justify-center relative z-9\"\n            style={{\n              backgroundImage: `url(${bgImage})`,\n              backgroundSize: 'cover',\n              backgroundPosition: 'center',\n              backgroundAttachment: 'fixed',\n            }}\n          >\n            {/* Mystery Box Image */}\n            <img \n              src={mysteryBoxImg} \n              alt=\"Mystery Box\" \n              className=\"w-37 h-50 object-contain mb-12\"\n            />\n            \n            {/* CLICK TO OPEN Button */}\n            <Button\n              onClick={handleClickToOpen}\n              className=\"w-[70%] max-w-xs text-black font-extrabold text-lg py-4 px-6 rounded-2xl bg-gradient-to-b from-yellow-300 to-yellow-500 shadow-[0_6px_0_#caa335,0_10px_20px_rgba(0,0,0,0.35)] border border-yellow-200 relative overflow-hidden mx-auto pt-[12px] pb-[12px] ml-[50px] mr-[50px] hover:shadow-[0_4px_0_#caa335,0_8px_15px_rgba(0,0,0,0.3)] active:shadow-[0_2px_0_#caa335,0_4px_8px_rgba(0,0,0,0.2)]\"\n              data-testid=\"button-click-to-open\"\n            >\n              <span className=\"absolute inset-0 rounded-2xl bg-gradient-to-b from-white/40 to-transparent pointer-events-none\" />\n              <span className=\"relative z-10\">CLICK TO OPEN</span>\n            </Button>\n\n            {/* Employee Login Link - Bottom Right */}\n            <div className=\"fixed bottom-8 right-8 z-50\">\n              <Link href=\"/employee\">\n                <Button \n                  variant=\"outline\" \n                  size=\"sm\"\n                  className=\"gap-2 text-xs font-medium\"\n                  data-testid=\"button-employee-login\"\n                >\n                  <LogIn className=\"w-4 h-4\" />\n                  Employee Login\n                </Button>\n              </Link>\n            </div>\n\n            {/* Form Modal */}\n            <Dialog open={showFormModal} onOpenChange={setShowFormModal}>\n              <DialogContent className=\"\n                 max-w-sm\n                p-8 rounded-2xl\n                overflow-hidden\n                shadow-[0_0_40px_rgba(0,0,0,0.7)]\n                bg-[#0b3b2a] \n                border-[5px] border-[#f5d67a]\n\">\n                <CustomerForm\n                  onSubmit={handleFormSubmit}\n                  isSubmitting={createCustomerMutation.isPending}\n                />\n              </DialogContent>\n            </Dialog>\n          </div>)\n        ) : (\n          // Game Screen\n          (<>\n            {/* Customer's Total Verified Rewards - Only on mystery box screen */}\n            {!showReward && customerVerifiedData && customerVerifiedData.totalAmount > 0 && (\n            <div className=\"w-full py-0 px-0 mb-10 mt-6\">  \n              <div \n                className=\"w-full mx-auto rounded-2xl shadow-lg py-2 px-6 flex items-center justify-center gap-2\"\n                style={{\n                  background: \"linear-gradient(180deg, #F6E27A 4%, #D4A631 100%)\",\n                  border: \"3px solid #E5C45A\",\n                  boxShadow: \"0px 4px 15px rgba(0,0,0,0.35), inset 0px 0px 10px rgba(255,255,255,0.4)\",\n                  borderRadius: \"16px\",\n                }}\n              >\n                <p className=\"text-l font-bold text-black tracking-wide\">\n                    Your Total Verified Cashback:\n                  </p>\n                <span\n                  className=\"text-2xl font-extrabold text-golden-yellow\"\n                  style={{\n                    textShadow: \"0px 2px 4px rgba(0,0,0,0.4)\"\n                  }}\n                >\n                  {customerVerifiedData.totalAmount}\n                </span>\n                </div>\n              </div>\n            )}\n            <div className=\"text-center mb-12 space-y-4 relative z-10\">\n             \n              {customerData?.alreadyPlayedToday && (\n                <Alert className=\"bg-yellow-500/10 border-yellow-500/20\">\n                  <AlertCircle className=\"h-4 w-4 text-yellow-500\" />\n                  <AlertTitle className=\"text-yellow-500\">Already Played Today</AlertTitle>\n                  <AlertDescription className=\"text-yellow-500/90\">\n                    You can enter the contest again tomorrow.\n                  </AlertDescription>\n                </Alert>\n              )}\n            </div>\n            <div className=\"relative flex items-center justify-center min-h-[400px] pl-[36px] pr-[36px] pt-[25px] pb-[25px]\">\n              {!showReward ? (\n                <MysteryBox onOpen={handleOpen} isOpening={isOpening} isOpened={isOpened} disabled={customerData?.alreadyPlayedToday || createCustomerMutation.isPending} />\n              ) : rewardAmount ? (\n                <div \n                  className=\"relative\"\n                  style={{\n                    animation: 'prizeCardEmerge 0.8s cubic-bezier(0.34, 1.56, 0.64, 1)',\n                  }}\n                >\n                  {/* Sparkles for prize card */}\n                  <Sparkles \n                    trigger={prizeCardSparkles} \n                    count={80} \n                    scale={5} \n                    size={7} \n                    speed={0.3} \n                    opacity={0.6} \n                    color=\"#B4FF64\"\n                  />\n                  <Sparkles \n                    trigger={prizeCardSparkles} \n                    count={50} \n                    scale={3.5} \n                    size={9} \n                    speed={0.2} \n                    opacity={0.4} \n                    color=\"#B4FF64\"\n                    noise={0.4}\n                  />\n                    <div className=\"relative flex justify-center w-full\">\n                    {/* Reward Card */}\n                        <div\n                          className=\"\n                            relative\n                            w-full max-w-sm\n                            p-8 rounded-3xl\n                            overflow-hidden\n                            shadow-[0_0_40px_rgba(0,0,0,0.7)]\n                            bg-[#0b3b2a] \n                            border-[5px] border-[#f5d67a]\n                          \"\n                          style={{\n                            backgroundImage:\n                              \"radial-gradient(circle at top 20%, rgba(15,66,42,0.95), rgba(5,25,17,0.85))\",\n                          }}\n                        >\n                          \n                      {/* Card background shimmer */}\n                      <div className=\"absolute inset-0 rounded-4xl pointer-events-none\"\n                        style={{\n                          background:\n                          'radial-gradient(circle at 50% 20%, rgba(255,223,120,0.25) 0%, rgba(0,0,0,0) 65%)',\n\n                        }}\n                      />\n                      <div className=\"relative z-10 text-center space-y-6\">\n                        {/* Congratulations text */}\n                        <div>\n                          <p className=\"text-2xl font-bold text-white uppercase tracking-wide\">\n                            CONGRATULATIONS!\n                          </p>\n                          <p className=\"text-lg text-white/90 mt-1\">\n                            You won\n                          </p>\n                        </div>\n                         {/* Amount */}\n                         <div>\n                           <p className=\"text-4xl font-bold text-[#ffe38a] drop-shadow-[0_0_10px_rgba(255,215,0,0.6)]\">\n                             {rewardAmount} Cashback\n                           </p>\n                         </div>\n\n                        {/* Rupee Icon */}\n                        <div className=\"relative flex justify-center py-6\">\n                          {/* Outer radiant sunburst glow */}\n                          <div\n                            className=\"absolute w-56 h-36 rounded-full pointer-events-none\"\n                            style={{\n                              background:\n                                \"radial-gradient(circle, rgba(255,225,120,0.65) 0%, rgba(255,210,80,0.25) 40%, rgba(255,180,0,0) 70%)\",\n                              filter: \"blur(10px)\",\n                              transform: \"scale(1.1)\",\n                            }}\n                          />\n\n                          {/* Sun rays */}\n                          <div\n                            className=\"absolute w-35 h-35 rounded-full pointer-events-none\"\n                            style={{\n                              background:\n                                \"conic-gradient(from 0deg, rgba(255,240,150,0.7), rgba(255,200,50,0) 30%, rgba(255,240,150,0.7) 60%, rgba(255,200,50,0) 90%)\",\n                              filter: \"blur(10px)\",\n                              opacity: 3,\n                            }}\n                          />\n\n                          {/* Gold Coin */}\n                          <div\n                            className=\"\n                              relative z-10\n                              w-28 h-28\n                              rounded-full\n                              flex items-center justify-center\n                              shadow-[0_0_40px_rgba(255,215,0,0.9)]\n                              border-[6px] border-[#f9d25c]\n                              bg-[radial-gradient(circle_at_50%_35%,#fff8cc_0%,#f9d25c_45%,#c89722_100%)]\n                            \"\n                            style={{\n                              boxShadow:\n                                \"inset 0 0 0 8px #be8f2e, 0 0 40px rgba(190, 143, 46,0.9)\" \n                                  //  inner border (same gold shade)\n                                  // second value = your original glow\n                            }}\n                          >\n                            <IndianRupee className=\"w-14 h-14 text-[#be8f2e]\" />\n                          </div>\n                        </div>\n\n                        \n                        {/* Verification Status */}\n                        <div className=\"pt-4 space-y-3\">\n                          {isVerified ? (\n                            <div className=\"space-y-3\">\n                                <Badge\n                                  className=\"\n                                    bg-[rgba(255,215,120,0.15)]\n                                    text-[#f6d878]\n                                    border-[#f6d878]\n                                    px-4 py-2 text-base tracking-wide\n                                    shadow-[0_0_12px_rgba(255,215,120,0.3)]\n                                  \"\n                                  data-testid=\"badge-verified\"\n                                >\n                                  <CheckCircle className=\"w-4 h-4 mr-2 text-[#f6d878]\" />\n                                    Verified\n                                  </Badge>\n                              \n                              {/* Payment Status */}\n                              <div className=\"mt-4 p-4 rounded-lg bg-[#0b3c2a] border border-[#1a5c3d]\">\n                                {payoutStatus === 'success' ? (\n                                  <div className=\"space-y-2\">\n                                    <p className=\"text-sm font-semibold text-[#7eff5e] flex items-center justify-center gap-2\">\n                                      <CheckCircle className=\"w-4 h-4\" />\n                                      Payment Sent Successfully\n                                    </p>\n                                    {payoutTransactionId && (\n                                      <p className=\"text-xs text-[#a8d5a8] text-center break-all\">\n                                        TXN ID: {payoutTransactionId}\n                                      </p>\n                                    )}\n                                    <p className=\"text-xs text-[#8d9b8a] text-center\">\n                                      Check your UPI app for the cashback transfer\n                                    </p>\n                                  </div>\n                                ) : payoutStatus === 'pending' ? (\n                                  <div className=\"space-y-2\">\n                                    <p className=\"text-sm font-semibold text-[#f6d878] flex items-center justify-center gap-2\">\n                                      <Clock className=\"w-4 h-4 animate-spin\" />\n                                      Processing Payment...\n                                    </p>\n                                    <p className=\"text-xs text-[#c9d3c2] text-center\">\n                                      Sending your cashback to your UPI account\n                                    </p>\n                                  </div>\n                                ) : (\n                                  <p className=\"text-sm text-center text-[#c9d3c2]\">\n                                    You will shortly receive the payment in your UPI account.\n                                  </p>\n                                )}\n                              </div>\n                            </div>\n                          ) : timeExpired ? (\n                            <div className=\"space-y-3\">\n                              <Badge\n                                className=\"\n                                  bg-[rgba(255,165,90,0.15)]\n                                  text-[#ffae73]\n                                  border-[#ffae73]\n                                  px-4 py-2 text-base tracking-wide\n                                  shadow-[0_0_12px_rgba(255,165,90,0.3)]\n                                \"\n                              >\n                                <Clock className=\"w-4 h-4 mr-2 text-[#ffae73]\" />\n                                Verification Time Expired\n                              </Badge>\n                              {!showWhatsAppFlow ? (\n                                <Button\n                                  onClick={() => setShowWhatsAppFlow(true)}\n                                  className=\"\n                                    w-[90%]                /* smaller width */\n                                    text-black font-bold text-sm\n                                    py-3 px-4             /* smaller height */\n                                    rounded-2xl\n                                    bg-gradient-to-b from-yellow-300 to-yellow-500\n                                    shadow-[0_6px_0_#caa335,0_10px_20px_rgba(0,0,0,0.35)]\n                                    border border-yellow-200\n                                    relative\n                                    overflow-hidden\n                                    mx-auto               /* center the button */\n                                  \"\n                                  data-testid=\"button-manual-verify\"\n                                  >\n                                  {/* Shine */}\n                                  <span className=\"\n                                    absolute inset-0\n                                    rounded-2xl\n                                    bg-gradient-to-b from-white/40 to-transparent\n                                    pointer-events-none\n                                  \" />\n                                   Upload Bill for Verification\n                                </Button>\n                              ) : (\n                              <div className=\"space-y-3 p-4 bg-[#0b221a] rounded-lg border border-[#1a3c2d] shadow-lg\">\n                                <p className=\"text-sm text-center text-[#d5e2cd]\">\n                                    Send your bill photo to WhatsApp number:\n                                  </p>\n                                  <p className=\"text-lg font-bold text-[#f6d878] text-center\" data-testid=\"text-whatsapp-number\">\n                                    {WHATSAPP_NUMBER}\n                                  </p>\n                                  <Button\n                                    onClick={handleWhatsAppUpload}\n                                    className=\"w-full gap-2\n                                    bg-[#0f3d2e]\n                                    hover:bg-[#12523c]\n                                    text-[#f6d878]\n                                    shadow-[0_0_18px_rgba(255,215,120,0.2)]\n                                    border border-[#f6d87840]\"\n                                    data-testid=\"button-open-whatsapp\"\n                                  >\n                                    <MessageCircle className=\"w-4 h-4\" />\n                                    Open WhatsApp & Send\n                                  </Button>\n                                  <p className=\"text-xs text-center text-[#8d9b8a]\">\n                                    After sending, you will receive your reward in the evening.\n                                  </p>\n                                </div>\n                              )}\n                            </div>\n                          ) : (\n                            <>\n                              <Badge className=\"bg-[rgba(255,215,120,0.15)]\n                                text-[#f6d878]\n                                border-[#f6d878]\n                                px-4 py-2 text-base tracking-wide\n                                shadow-[0_0_12px_rgba(255,215,120,0.3)]\" data-testid=\"badge-pending\">\n                                <Clock className=\"w-4 h-4 mr-2 animate-pulse text-[#f6d878]\" />\n                                Waiting for Verification\n                              </Badge>\n                              {verificationTimeLeft !== null && (\n                                <div className=\"text-center\">\n                                  <p className=\"text-sm font-medium text-[#b9c5b6] mb-1\">Time Remaining:</p>\n                                  <p className=\"text-3xl font-bold text-primary\" data-testid=\"text-verification-timer\">\n                                    {verificationTimeLeft}s\n                                  </p>\n                                  <p className=\"text-xs text-[#8d9b8a] mt-2\">\n                                    Please wait while an employee verifies your reward.\n                                  </p>\n                                </div>\n                              )}\n                            </>\n                          )}\n                        </div>\n                      </div>\n                    </div>\n\n                    {/* Golden glow effect */}\n                    <div\n                      className=\"absolute inset-0 rounded-3xl pointer-events-none\"\n                      style={{\n                        background: 'radial-gradient(circle, rgba(255, 215, 0, 0.3) 0%, transparent 70%)',\n                        filter: 'blur(40px)',\n                        transform: 'scale(1.2)',\n                      }}\n                    />\n                  </div>\n                </div>\n              ) : null}\n\n              {/* Particle Effects */}\n              <ParticleEffect\n                trigger={particleTrigger > 0}\n                type=\"burst\"\n                key={`burst-${particleTrigger}`}\n              />\n              <ParticleEffect\n                trigger={confettiTrigger > 0}\n                type=\"confetti\"\n                key={`confetti-${confettiTrigger}`}\n              />\n            </div>\n            {/* Action Buttons */}\n            {showReward && (isVerified || timeExpired) && (\n              <div className=\"mt-12 flex gap-4 animate-in fade-in slide-in-from-bottom-4 duration-500\">\n                <Button\n                  onClick={handleReset}\n                  size=\"lg\"\n                  variant=\"outline\"\n                  className=\"gap-2 px-8 py-6 text-lg font-medium pl-[0px] pr-[0px] ml-[0px] mr-[0px] pt-[0px] pb-[0px]\"\n                  data-testid=\"button-try-again\"\n                >\n                  <RotateCcw className=\"w-3 h-4\" />\n                  Try Again\n                </Button>\n              </div>\n            )}\n          </>)\n        )}\n\n        {/* Decorative Background Glow */}\n        <div className=\"absolute inset-0 pointer-events-none overflow-hidden\">\n          <div\n            className=\"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] rounded-full\"\n            style={{\n              background: 'radial-gradient(circle, rgba(63, 166, 130, 0.15) 0%, transparent 70%)',\n              filter: 'blur(60px)',\n            }}\n          />\n        </div>\n      </div>\n    </div>\n  );\n}\n","path":null,"size_bytes":36900,"size_tokens":null},"client/src/hooks/use-toast.ts":{"content":"import * as React from \"react\"\n\nimport type {\n  ToastActionElement,\n  ToastProps,\n} from \"@/components/ui/toast\"\n\nconst TOAST_LIMIT = 1\nconst TOAST_REMOVE_DELAY = 1000000\n\ntype ToasterToast = ToastProps & {\n  id: string\n  title?: React.ReactNode\n  description?: React.ReactNode\n  action?: ToastActionElement\n}\n\nconst actionTypes = {\n  ADD_TOAST: \"ADD_TOAST\",\n  UPDATE_TOAST: \"UPDATE_TOAST\",\n  DISMISS_TOAST: \"DISMISS_TOAST\",\n  REMOVE_TOAST: \"REMOVE_TOAST\",\n} as const\n\nlet count = 0\n\nfunction genId() {\n  count = (count + 1) % Number.MAX_SAFE_INTEGER\n  return count.toString()\n}\n\ntype ActionType = typeof actionTypes\n\ntype Action =\n  | {\n      type: ActionType[\"ADD_TOAST\"]\n      toast: ToasterToast\n    }\n  | {\n      type: ActionType[\"UPDATE_TOAST\"]\n      toast: Partial<ToasterToast>\n    }\n  | {\n      type: ActionType[\"DISMISS_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n  | {\n      type: ActionType[\"REMOVE_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n\ninterface State {\n  toasts: ToasterToast[]\n}\n\nconst toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>()\n\nconst addToRemoveQueue = (toastId: string) => {\n  if (toastTimeouts.has(toastId)) {\n    return\n  }\n\n  const timeout = setTimeout(() => {\n    toastTimeouts.delete(toastId)\n    dispatch({\n      type: \"REMOVE_TOAST\",\n      toastId: toastId,\n    })\n  }, TOAST_REMOVE_DELAY)\n\n  toastTimeouts.set(toastId, timeout)\n}\n\nexport const reducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case \"ADD_TOAST\":\n      return {\n        ...state,\n        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\n      }\n\n    case \"UPDATE_TOAST\":\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === action.toast.id ? { ...t, ...action.toast } : t\n        ),\n      }\n\n    case \"DISMISS_TOAST\": {\n      const { toastId } = action\n\n      // ! Side effects ! - This could be extracted into a dismissToast() action,\n      // but I'll keep it here for simplicity\n      if (toastId) {\n        addToRemoveQueue(toastId)\n      } else {\n        state.toasts.forEach((toast) => {\n          addToRemoveQueue(toast.id)\n        })\n      }\n\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === toastId || toastId === undefined\n            ? {\n                ...t,\n                open: false,\n              }\n            : t\n        ),\n      }\n    }\n    case \"REMOVE_TOAST\":\n      if (action.toastId === undefined) {\n        return {\n          ...state,\n          toasts: [],\n        }\n      }\n      return {\n        ...state,\n        toasts: state.toasts.filter((t) => t.id !== action.toastId),\n      }\n  }\n}\n\nconst listeners: Array<(state: State) => void> = []\n\nlet memoryState: State = { toasts: [] }\n\nfunction dispatch(action: Action) {\n  memoryState = reducer(memoryState, action)\n  listeners.forEach((listener) => {\n    listener(memoryState)\n  })\n}\n\ntype Toast = Omit<ToasterToast, \"id\">\n\nfunction toast({ ...props }: Toast) {\n  const id = genId()\n\n  const update = (props: ToasterToast) =>\n    dispatch({\n      type: \"UPDATE_TOAST\",\n      toast: { ...props, id },\n    })\n  const dismiss = () => dispatch({ type: \"DISMISS_TOAST\", toastId: id })\n\n  dispatch({\n    type: \"ADD_TOAST\",\n    toast: {\n      ...props,\n      id,\n      open: true,\n      onOpenChange: (open) => {\n        if (!open) dismiss()\n      },\n    },\n  })\n\n  return {\n    id: id,\n    dismiss,\n    update,\n  }\n}\n\nfunction useToast() {\n  const [state, setState] = React.useState<State>(memoryState)\n\n  React.useEffect(() => {\n    listeners.push(setState)\n    return () => {\n      const index = listeners.indexOf(setState)\n      if (index > -1) {\n        listeners.splice(index, 1)\n      }\n    }\n  }, [state])\n\n  return {\n    ...state,\n    toast,\n    dismiss: (toastId?: string) => dispatch({ type: \"DISMISS_TOAST\", toastId }),\n  }\n}\n\nexport { useToast, toast }\n","path":null,"size_bytes":3895,"size_tokens":null},"client/src/components/ui/radio-group.tsx":{"content":"import * as React from \"react\"\nimport * as RadioGroupPrimitive from \"@radix-ui/react-radio-group\"\nimport { Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst RadioGroup = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Root\n      className={cn(\"grid gap-2\", className)}\n      {...props}\n      ref={ref}\n    />\n  )\n})\nRadioGroup.displayName = RadioGroupPrimitive.Root.displayName\n\nconst RadioGroupItem = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Item>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        \"aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    >\n      <RadioGroupPrimitive.Indicator className=\"flex items-center justify-center\">\n        <Circle className=\"h-2.5 w-2.5 fill-current text-current\" />\n      </RadioGroupPrimitive.Indicator>\n    </RadioGroupPrimitive.Item>\n  )\n})\nRadioGroupItem.displayName = RadioGroupPrimitive.Item.displayName\n\nexport { RadioGroup, RadioGroupItem }\n","path":null,"size_bytes":1467,"size_tokens":null},"client/src/components/ui/breadcrumb.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Breadcrumb = React.forwardRef<\n  HTMLElement,\n  React.ComponentPropsWithoutRef<\"nav\"> & {\n    separator?: React.ReactNode\n  }\n>(({ ...props }, ref) => <nav ref={ref} aria-label=\"breadcrumb\" {...props} />)\nBreadcrumb.displayName = \"Breadcrumb\"\n\nconst BreadcrumbList = React.forwardRef<\n  HTMLOListElement,\n  React.ComponentPropsWithoutRef<\"ol\">\n>(({ className, ...props }, ref) => (\n  <ol\n    ref={ref}\n    className={cn(\n      \"flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5\",\n      className\n    )}\n    {...props}\n  />\n))\nBreadcrumbList.displayName = \"BreadcrumbList\"\n\nconst BreadcrumbItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentPropsWithoutRef<\"li\">\n>(({ className, ...props }, ref) => (\n  <li\n    ref={ref}\n    className={cn(\"inline-flex items-center gap-1.5\", className)}\n    {...props}\n  />\n))\nBreadcrumbItem.displayName = \"BreadcrumbItem\"\n\nconst BreadcrumbLink = React.forwardRef<\n  HTMLAnchorElement,\n  React.ComponentPropsWithoutRef<\"a\"> & {\n    asChild?: boolean\n  }\n>(({ asChild, className, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"a\"\n\n  return (\n    <Comp\n      ref={ref}\n      className={cn(\"transition-colors hover:text-foreground\", className)}\n      {...props}\n    />\n  )\n})\nBreadcrumbLink.displayName = \"BreadcrumbLink\"\n\nconst BreadcrumbPage = React.forwardRef<\n  HTMLSpanElement,\n  React.ComponentPropsWithoutRef<\"span\">\n>(({ className, ...props }, ref) => (\n  <span\n    ref={ref}\n    role=\"link\"\n    aria-disabled=\"true\"\n    aria-current=\"page\"\n    className={cn(\"font-normal text-foreground\", className)}\n    {...props}\n  />\n))\nBreadcrumbPage.displayName = \"BreadcrumbPage\"\n\nconst BreadcrumbSeparator = ({\n  children,\n  className,\n  ...props\n}: React.ComponentProps<\"li\">) => (\n  <li\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"[&>svg]:w-3.5 [&>svg]:h-3.5\", className)}\n    {...props}\n  >\n    {children ?? <ChevronRight />}\n  </li>\n)\nBreadcrumbSeparator.displayName = \"BreadcrumbSeparator\"\n\nconst BreadcrumbEllipsis = ({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) => (\n  <span\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More</span>\n  </span>\n)\nBreadcrumbEllipsis.displayName = \"BreadcrumbElipssis\"\n\nexport {\n  Breadcrumb,\n  BreadcrumbList,\n  BreadcrumbItem,\n  BreadcrumbLink,\n  BreadcrumbPage,\n  BreadcrumbSeparator,\n  BreadcrumbEllipsis,\n}\n","path":null,"size_bytes":2712,"size_tokens":null},"client/src/components/ui/pagination.tsx":{"content":"import * as React from \"react\"\nimport { ChevronLeft, ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { ButtonProps, buttonVariants } from \"@/components/ui/button\"\n\nconst Pagination = ({ className, ...props }: React.ComponentProps<\"nav\">) => (\n  <nav\n    role=\"navigation\"\n    aria-label=\"pagination\"\n    className={cn(\"mx-auto flex w-full justify-center\", className)}\n    {...props}\n  />\n)\nPagination.displayName = \"Pagination\"\n\nconst PaginationContent = React.forwardRef<\n  HTMLUListElement,\n  React.ComponentProps<\"ul\">\n>(({ className, ...props }, ref) => (\n  <ul\n    ref={ref}\n    className={cn(\"flex flex-row items-center gap-1\", className)}\n    {...props}\n  />\n))\nPaginationContent.displayName = \"PaginationContent\"\n\nconst PaginationItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentProps<\"li\">\n>(({ className, ...props }, ref) => (\n  <li ref={ref} className={cn(\"\", className)} {...props} />\n))\nPaginationItem.displayName = \"PaginationItem\"\n\ntype PaginationLinkProps = {\n  isActive?: boolean\n} & Pick<ButtonProps, \"size\"> &\n  React.ComponentProps<\"a\">\n\nconst PaginationLink = ({\n  className,\n  isActive,\n  size = \"icon\",\n  ...props\n}: PaginationLinkProps) => (\n  <a\n    aria-current={isActive ? \"page\" : undefined}\n    className={cn(\n      buttonVariants({\n        variant: isActive ? \"outline\" : \"ghost\",\n        size,\n      }),\n      className\n    )}\n    {...props}\n  />\n)\nPaginationLink.displayName = \"PaginationLink\"\n\nconst PaginationPrevious = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink\n    aria-label=\"Go to previous page\"\n    size=\"default\"\n    className={cn(\"gap-1 pl-2.5\", className)}\n    {...props}\n  >\n    <ChevronLeft className=\"h-4 w-4\" />\n    <span>Previous</span>\n  </PaginationLink>\n)\nPaginationPrevious.displayName = \"PaginationPrevious\"\n\nconst PaginationNext = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink\n    aria-label=\"Go to next page\"\n    size=\"default\"\n    className={cn(\"gap-1 pr-2.5\", className)}\n    {...props}\n  >\n    <span>Next</span>\n    <ChevronRight className=\"h-4 w-4\" />\n  </PaginationLink>\n)\nPaginationNext.displayName = \"PaginationNext\"\n\nconst PaginationEllipsis = ({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) => (\n  <span\n    aria-hidden\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More pages</span>\n  </span>\n)\nPaginationEllipsis.displayName = \"PaginationEllipsis\"\n\nexport {\n  Pagination,\n  PaginationContent,\n  PaginationEllipsis,\n  PaginationItem,\n  PaginationLink,\n  PaginationNext,\n  PaginationPrevious,\n}\n","path":null,"size_bytes":2751,"size_tokens":null},"vite.config.ts":{"content":"import { defineConfig } from \"vite\";\nimport react from \"@vitejs/plugin-react\";\nimport path from \"path\";\nimport runtimeErrorOverlay from \"@replit/vite-plugin-runtime-error-modal\";\n\nexport default defineConfig({\n  plugins: [\n    react(),\n    runtimeErrorOverlay(),\n    ...(process.env.NODE_ENV !== \"production\" &&\n    process.env.REPL_ID !== undefined\n      ? [\n          await import(\"@replit/vite-plugin-cartographer\").then((m) =>\n            m.cartographer(),\n          ),\n          await import(\"@replit/vite-plugin-dev-banner\").then((m) =>\n            m.devBanner(),\n          ),\n        ]\n      : []),\n  ],\n  resolve: {\n    alias: {\n      \"@\": path.resolve(import.meta.dirname, \"client\", \"src\"),\n      \"@shared\": path.resolve(import.meta.dirname, \"shared\"),\n      \"@assets\": path.resolve(import.meta.dirname, \"attached_assets\"),\n    },\n  },\n  root: path.resolve(import.meta.dirname, \"client\"),\n  build: {\n    outDir: path.resolve(import.meta.dirname, \"dist/public\"),\n    emptyOutDir: true,\n  },\n  server: {\n    fs: {\n      strict: true,\n      deny: [\"**/.*\"],\n    },\n  },\n});\n","path":null,"size_bytes":1080,"size_tokens":null},"client/src/components/ui/accordion.tsx":{"content":"import * as React from \"react\"\nimport * as AccordionPrimitive from \"@radix-ui/react-accordion\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Accordion = AccordionPrimitive.Root\n\nconst AccordionItem = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <AccordionPrimitive.Item\n    ref={ref}\n    className={cn(\"border-b\", className)}\n    {...props}\n  />\n))\nAccordionItem.displayName = \"AccordionItem\"\n\nconst AccordionTrigger = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Header className=\"flex\">\n    <AccordionPrimitive.Trigger\n      ref={ref}\n      className={cn(\n        \"flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <ChevronDown className=\"h-4 w-4 shrink-0 transition-transform duration-200\" />\n    </AccordionPrimitive.Trigger>\n  </AccordionPrimitive.Header>\n))\nAccordionTrigger.displayName = AccordionPrimitive.Trigger.displayName\n\nconst AccordionContent = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Content\n    ref={ref}\n    className=\"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down\"\n    {...props}\n  >\n    <div className={cn(\"pb-4 pt-0\", className)}>{children}</div>\n  </AccordionPrimitive.Content>\n))\n\nAccordionContent.displayName = AccordionPrimitive.Content.displayName\n\nexport { Accordion, AccordionItem, AccordionTrigger, AccordionContent }\n","path":null,"size_bytes":1977,"size_tokens":null},"client/src/lib/queryClient.ts":{"content":"import { QueryClient, QueryFunction } from \"@tanstack/react-query\";\n\nasync function throwIfResNotOk(res: Response) {\n  if (!res.ok) {\n    const text = (await res.text()) || res.statusText;\n    throw new Error(`${res.status}: ${text}`);\n  }\n}\n\nexport async function apiRequest(\n  method: string,\n  url: string,\n  data?: unknown | undefined,\n): Promise<Response> {\n  const res = await fetch(url, {\n    method,\n    headers: data ? { \"Content-Type\": \"application/json\" } : {},\n    body: data ? JSON.stringify(data) : undefined,\n    credentials: \"include\",\n  });\n\n  await throwIfResNotOk(res);\n  return res;\n}\n\ntype UnauthorizedBehavior = \"returnNull\" | \"throw\";\nexport const getQueryFn: <T>(options: {\n  on401: UnauthorizedBehavior;\n}) => QueryFunction<T> =\n  ({ on401: unauthorizedBehavior }) =>\n  async ({ queryKey }) => {\n    const res = await fetch(queryKey.join(\"/\") as string, {\n      credentials: \"include\",\n    });\n\n    if (unauthorizedBehavior === \"returnNull\" && res.status === 401) {\n      return null;\n    }\n\n    await throwIfResNotOk(res);\n    return await res.json();\n  };\n\nexport const queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      queryFn: getQueryFn({ on401: \"throw\" }),\n      refetchInterval: false,\n      refetchOnWindowFocus: false,\n      staleTime: Infinity,\n      retry: false,\n    },\n    mutations: {\n      retry: false,\n    },\n  },\n});\n","path":null,"size_bytes":1383,"size_tokens":null},"client/src/components/ui/input.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\n  ({ className, type, ...props }, ref) => {\n    // h-9 to match icon buttons and default buttons.\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n","path":null,"size_bytes":844,"size_tokens":null},"client/src/components/ui/toggle-group.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as ToggleGroupPrimitive from \"@radix-ui/react-toggle-group\"\nimport { type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\nimport { toggleVariants } from \"@/components/ui/toggle\"\n\nconst ToggleGroupContext = React.createContext<\n  VariantProps<typeof toggleVariants>\n>({\n  size: \"default\",\n  variant: \"default\",\n})\n\nconst ToggleGroup = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, children, ...props }, ref) => (\n  <ToggleGroupPrimitive.Root\n    ref={ref}\n    className={cn(\"flex items-center justify-center gap-1\", className)}\n    {...props}\n  >\n    <ToggleGroupContext.Provider value={{ variant, size }}>\n      {children}\n    </ToggleGroupContext.Provider>\n  </ToggleGroupPrimitive.Root>\n))\n\nToggleGroup.displayName = ToggleGroupPrimitive.Root.displayName\n\nconst ToggleGroupItem = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Item> &\n    VariantProps<typeof toggleVariants>\n>(({ className, children, variant, size, ...props }, ref) => {\n  const context = React.useContext(ToggleGroupContext)\n\n  return (\n    <ToggleGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        toggleVariants({\n          variant: context.variant || variant,\n          size: context.size || size,\n        }),\n        className\n      )}\n      {...props}\n    >\n      {children}\n    </ToggleGroupPrimitive.Item>\n  )\n})\n\nToggleGroupItem.displayName = ToggleGroupPrimitive.Item.displayName\n\nexport { ToggleGroup, ToggleGroupItem }\n","path":null,"size_bytes":1753,"size_tokens":null},"client/src/components/ui/calendar.tsx":{"content":"import * as React from \"react\"\nimport { ChevronLeft, ChevronRight } from \"lucide-react\"\nimport { DayPicker } from \"react-day-picker\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nexport type CalendarProps = React.ComponentProps<typeof DayPicker>\n\nfunction Calendar({\n  className,\n  classNames,\n  showOutsideDays = true,\n  ...props\n}: CalendarProps) {\n  return (\n    <DayPicker\n      showOutsideDays={showOutsideDays}\n      className={cn(\"p-3\", className)}\n      classNames={{\n        months: \"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0\",\n        month: \"space-y-4\",\n        caption: \"flex justify-center pt-1 relative items-center\",\n        caption_label: \"text-sm font-medium\",\n        nav: \"space-x-1 flex items-center\",\n        nav_button: cn(\n          buttonVariants({ variant: \"outline\" }),\n          \"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100\"\n        ),\n        nav_button_previous: \"absolute left-1\",\n        nav_button_next: \"absolute right-1\",\n        table: \"w-full border-collapse space-y-1\",\n        head_row: \"flex\",\n        head_cell:\n          \"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]\",\n        row: \"flex w-full mt-2\",\n        cell: \"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20\",\n        day: cn(\n          buttonVariants({ variant: \"ghost\" }),\n          \"h-9 w-9 p-0 font-normal aria-selected:opacity-100\"\n        ),\n        day_range_end: \"day-range-end\",\n        day_selected:\n          \"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground\",\n        day_today: \"bg-accent text-accent-foreground\",\n        day_outside:\n          \"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground\",\n        day_disabled: \"text-muted-foreground opacity-50\",\n        day_range_middle:\n          \"aria-selected:bg-accent aria-selected:text-accent-foreground\",\n        day_hidden: \"invisible\",\n        ...classNames,\n      }}\n      components={{\n        IconLeft: ({ className, ...props }) => (\n          <ChevronLeft className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n        IconRight: ({ className, ...props }) => (\n          <ChevronRight className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n      }}\n      {...props}\n    />\n  )\n}\nCalendar.displayName = \"Calendar\"\n\nexport { Calendar }\n","path":null,"size_bytes":2695,"size_tokens":null},"client/src/components/ui/input-otp.tsx":{"content":"import * as React from \"react\"\nimport { OTPInput, OTPInputContext } from \"input-otp\"\nimport { Dot } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst InputOTP = React.forwardRef<\n  React.ElementRef<typeof OTPInput>,\n  React.ComponentPropsWithoutRef<typeof OTPInput>\n>(({ className, containerClassName, ...props }, ref) => (\n  <OTPInput\n    ref={ref}\n    containerClassName={cn(\n      \"flex items-center gap-2 has-[:disabled]:opacity-50\",\n      containerClassName\n    )}\n    className={cn(\"disabled:cursor-not-allowed\", className)}\n    {...props}\n  />\n))\nInputOTP.displayName = \"InputOTP\"\n\nconst InputOTPGroup = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\">\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"flex items-center\", className)} {...props} />\n))\nInputOTPGroup.displayName = \"InputOTPGroup\"\n\nconst InputOTPSlot = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\"> & { index: number }\n>(({ index, className, ...props }, ref) => {\n  const inputOTPContext = React.useContext(OTPInputContext)\n  const { char, hasFakeCaret, isActive } = inputOTPContext.slots[index]\n\n  return (\n    <div\n      ref={ref}\n      className={cn(\n        \"relative flex h-10 w-10 items-center justify-center border-y border-r border-input text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md\",\n        isActive && \"z-10 ring-2 ring-ring ring-offset-background\",\n        className\n      )}\n      {...props}\n    >\n      {char}\n      {hasFakeCaret && (\n        <div className=\"pointer-events-none absolute inset-0 flex items-center justify-center\">\n          <div className=\"h-4 w-px animate-caret-blink bg-foreground duration-1000\" />\n        </div>\n      )}\n    </div>\n  )\n})\nInputOTPSlot.displayName = \"InputOTPSlot\"\n\nconst InputOTPSeparator = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\">\n>(({ ...props }, ref) => (\n  <div ref={ref} role=\"separator\" {...props}>\n    <Dot />\n  </div>\n))\nInputOTPSeparator.displayName = \"InputOTPSeparator\"\n\nexport { InputOTP, InputOTPGroup, InputOTPSlot, InputOTPSeparator }\n","path":null,"size_bytes":2154,"size_tokens":null},"client/src/components/examples/ParticleEffect.tsx":{"content":"import { useState } from 'react';\nimport ParticleEffect from '../ParticleEffect';\nimport { Button } from '@/components/ui/button';\n\nexport default function ParticleEffectExample() {\n  const [burstTrigger, setBurstTrigger] = useState(false);\n  const [confettiTrigger, setConfettiTrigger] = useState(false);\n\n  const triggerBurst = () => {\n    setBurstTrigger(false);\n    setTimeout(() => setBurstTrigger(true), 10);\n  };\n\n  const triggerConfetti = () => {\n    setConfettiTrigger(false);\n    setTimeout(() => setConfettiTrigger(true), 10);\n  };\n\n  return (\n    <div className=\"relative flex flex-col items-center justify-center min-h-screen bg-background gap-6\">\n      <Button onClick={triggerBurst} data-testid=\"button-trigger-burst\">\n        Trigger Burst\n      </Button>\n      <Button onClick={triggerConfetti} data-testid=\"button-trigger-confetti\">\n        Trigger Confetti\n      </Button>\n      \n      <ParticleEffect trigger={burstTrigger} type=\"burst\" />\n      <ParticleEffect trigger={confettiTrigger} type=\"confetti\" />\n    </div>\n  );\n}\n","path":null,"size_bytes":1045,"size_tokens":null},"client/src/components/ui/label.tsx":{"content":"import * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n","path":null,"size_bytes":710,"size_tokens":null},"client/src/components/examples/CustomerForm.tsx":{"content":"import { useState } from 'react';\nimport CustomerForm from '../CustomerForm';\n\nexport default function CustomerFormExample() {\n  const [isSubmitting, setIsSubmitting] = useState(false);\n\n  const handleSubmit = (data: any) => {\n    console.log('Form submitted:', data);\n    setIsSubmitting(true);\n    setTimeout(() => {\n      setIsSubmitting(false);\n      console.log('Submission complete');\n    }, 1500);\n  };\n\n  return (\n    <div className=\"flex items-center justify-center min-h-screen bg-background p-8\">\n      <CustomerForm onSubmit={handleSubmit} isSubmitting={isSubmitting} />\n    </div>\n  );\n}\n","path":null,"size_bytes":601,"size_tokens":null},"client/src/components/ui/dropdown-menu.tsx":{"content":"import * as React from \"react\"\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst DropdownMenu = DropdownMenuPrimitive.Root\n\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger\n\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group\n\nconst DropdownMenuPortal = DropdownMenuPrimitive.Portal\n\nconst DropdownMenuSub = DropdownMenuPrimitive.Sub\n\nconst DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup\n\nconst DropdownMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto\" />\n  </DropdownMenuPrimitive.SubTrigger>\n))\nDropdownMenuSubTrigger.displayName =\n  DropdownMenuPrimitive.SubTrigger.displayName\n\nconst DropdownMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuSubContent.displayName =\n  DropdownMenuPrimitive.SubContent.displayName\n\nconst DropdownMenuContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <DropdownMenuPrimitive.Portal>\n    <DropdownMenuPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </DropdownMenuPrimitive.Portal>\n))\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName\n\nconst DropdownMenuItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName\n\nconst DropdownMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <DropdownMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.CheckboxItem>\n))\nDropdownMenuCheckboxItem.displayName =\n  DropdownMenuPrimitive.CheckboxItem.displayName\n\nconst DropdownMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.RadioItem>\n))\nDropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName\n\nconst DropdownMenuLabel = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName\n\nconst DropdownMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nDropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName\n\nconst DropdownMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\"ml-auto text-xs tracking-widest opacity-60\", className)}\n      {...props}\n    />\n  )\n}\nDropdownMenuShortcut.displayName = \"DropdownMenuShortcut\"\n\nexport {\n  DropdownMenu,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuGroup,\n  DropdownMenuPortal,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuRadioGroup,\n}\n","path":null,"size_bytes":7609,"size_tokens":null},"client/src/components/examples/PrizeCard.tsx":{"content":"import { useState, useEffect } from 'react';\nimport PrizeCard from '../PrizeCard';\n\nexport default function PrizeCardExample() {\n  const [isRevealing, setIsRevealing] = useState(false);\n\n  useEffect(() => {\n    setIsRevealing(true);\n  }, []);\n\n  const prize = {\n    id: '1',\n    name: 'Golden Crown',\n    description: 'A legendary prize worthy of royalty!',\n    rarity: 'legendary' as const,\n    icon: 'crown' as const,\n    amount: 10000,\n  };\n\n  return (\n    <div className=\"flex items-center justify-center min-h-screen bg-background\">\n      <PrizeCard prize={prize} isRevealing={isRevealing} />\n    </div>\n  );\n}\n","path":null,"size_bytes":616,"size_tokens":null},"server/index-dev.ts":{"content":"import fs from \"node:fs\";\nimport path from \"node:path\";\nimport { type Server } from \"node:http\";\n\nimport { nanoid } from \"nanoid\";\nimport { type Express } from \"express\";\nimport { createServer as createViteServer, createLogger } from \"vite\";\n\nimport viteConfig from \"../vite.config\";\nimport runApp from \"./app\";\n\nexport async function setupVite(app: Express, server: Server) {\n  const viteLogger = createLogger();\n  const serverOptions = {\n    middlewareMode: true,\n    hmr: { server },\n    allowedHosts: true as const,\n  };\n\n  const vite = await createViteServer({\n    ...viteConfig,\n    configFile: false,\n    customLogger: {\n      ...viteLogger,\n      error: (msg, options) => {\n        viteLogger.error(msg, options);\n        process.exit(1);\n      },\n    },\n    server: serverOptions,\n    appType: \"custom\",\n  });\n\n  app.use(vite.middlewares);\n  app.use(\"*\", async (req, res, next) => {\n    const url = req.originalUrl;\n\n    try {\n      const clientTemplate = path.resolve(\n        import.meta.dirname,\n        \"..\",\n        \"client\",\n        \"index.html\",\n      );\n\n      // always reload the index.html file from disk incase it changes\n      let template = await fs.promises.readFile(clientTemplate, \"utf-8\");\n      template = template.replace(\n        `src=\"/src/main.tsx\"`,\n        `src=\"/src/main.tsx?v=${nanoid()}\"`,\n      );\n      const page = await vite.transformIndexHtml(url, template);\n      res.status(200).set({ \"Content-Type\": \"text/html\" }).end(page);\n    } catch (e) {\n      vite.ssrFixStacktrace(e as Error);\n      next(e);\n    }\n  });\n}\n\n(async () => {\n  await runApp(setupVite);\n})();\n","path":null,"size_bytes":1609,"size_tokens":null},"shared/schema.ts":{"content":"import { sql } from \"drizzle-orm\";\nimport { pgTable, text, varchar, timestamp, integer, boolean } from \"drizzle-orm/pg-core\";\nimport { createInsertSchema } from \"drizzle-zod\";\nimport { z } from \"zod\";\n\nexport const users = pgTable(\"users\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  username: text(\"username\").notNull().unique(),\n  password: text(\"password\").notNull(),\n});\n\nexport const insertUserSchema = createInsertSchema(users).pick({\n  username: true,\n  password: true,\n});\n\nexport type InsertUser = z.infer<typeof insertUserSchema>;\nexport type User = typeof users.$inferSelect;\n\nexport const employees = pgTable(\"employees\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  username: text(\"username\").notNull().unique(),\n  password: text(\"password\").notNull(),\n  name: text(\"name\").notNull(),\n});\n\nexport const insertEmployeeSchema = createInsertSchema(employees).pick({\n  username: true,\n  password: true,\n  name: true,\n});\n\nexport const employeeLoginSchema = z.object({\n  username: z.string().min(1, \"Username is required\"),\n  password: z.string().min(1, \"Password is required\"),\n});\n\nexport type InsertEmployee = z.infer<typeof insertEmployeeSchema>;\nexport type Employee = typeof employees.$inferSelect;\nexport type EmployeeLogin = z.infer<typeof employeeLoginSchema>;\n\nexport const customers = pgTable(\"customers\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  name: text(\"name\").notNull(),\n  phoneNumber: text(\"phone_number\").notNull(),\n  vehicleNumber: text(\"vehicle_number\").notNull(),\n  rewardAmount: integer(\"reward_amount\"),\n  verified: boolean(\"verified\").default(false),\n  alreadyPlayedToday: boolean(\"already_played_today\").default(false),\n  createdAt: timestamp(\"created_at\").defaultNow().notNull(),\n});\n\nexport const insertCustomerSchema = createInsertSchema(customers).pick({\n  name: true,\n  phoneNumber: true,\n  vehicleNumber: true,\n}).extend({\n  name: z.string().min(2, \"Name must be at least 2 characters\"),\n  phoneNumber: z.string().min(10, \"Phone number must be at least 10 digits\"),\n  vehicleNumber: z.string().min(2, \"Vehicle number is required\"),\n});\n\nexport type InsertCustomer = z.infer<typeof insertCustomerSchema>;\nexport type Customer = typeof customers.$inferSelect;\n\n// Vehicle number normalization function\nexport function normalizeVehicleNumber(vehicleNumber: string): string {\n  // Remove all spaces and convert to uppercase\n  return vehicleNumber.replace(/\\s+/g, '').toUpperCase();\n}\n\n// Validation function for vehicle number\nexport function validateVehicleNumber(vehicleNumber: string): { isValid: boolean; error?: string } {\n  if (!vehicleNumber || typeof vehicleNumber !== 'string') {\n    return { isValid: false, error: 'Vehicle number is required' };\n  }\n\n  const normalized = normalizeVehicleNumber(vehicleNumber);\n\n  if (normalized.length > 10) {\n    return { isValid: false, error: 'Vehicle number must not be more than 10 characters' };\n  }\n\n  if (normalized.length < 2) {\n    return { isValid: false, error: 'Vehicle number must be at least 2 characters' };\n  }\n\n  if (/\\s{2,}/.test(vehicleNumber)) {\n    return { isValid: false, error: 'Vehicle number should not have wide spaces between characters' };\n  }\n\n  return { isValid: true };\n}\n","path":null,"size_bytes":3266,"size_tokens":null},"client/src/components/ui/button.tsx":{"content":"import * as React from \"react\";\nimport { Slot } from \"@radix-ui/react-slot\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"bg-primary text-primary-foreground border border-primary-border\",\n        destructive:\n          \"bg-destructive text-destructive-foreground border border-destructive-border\",\n        outline:\n          \"border [border-color:var(--button-outline)] shadow-xs active:shadow-none\",\n        secondary:\n          \"border bg-secondary text-secondary-foreground border border-secondary-border\",\n        ghost: \"border border-transparent\",\n\n        //  NEW GOLD BUTTON VARIANT\n        gold: `\n          relative\n          flex items-center justify-center\n          rounded-3xl\n          px-6 py-5\n          text-xl font-extrabold text-black\n          bg-gradient-to-b from-[#ffe28a] to-[#d19c00]\n          shadow-[0_6px_0_#b68600,0_12px_22px_rgba(0,0,0,0.45)]\n          border border-[#f8e7a0]\n          overflow-hidden\n          !rounded-3xl\n          !text-xl !font-extrabold\n          !leading-none\n        `,\n\n      },\n\n      size: {\n        default: \"min-h-9 px-4 py-2\",\n        sm: \"min-h-8 rounded-md px-3 text-xs\",\n        lg: \"min-h-10 rounded-md px-8\",\n        icon: \"h-9 w-9\",\n\n        // Bigger size for gold button\n        gold: \"py-5 px-8 text-xl rounded-2xl\",\n      },\n    },\n\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  },\n);\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean;\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, children, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\";\n\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      >\n        {/* Glossy top shine for gold variant */}\n        {variant === \"gold\" && (\n          <span\n            className=\"\n              absolute inset-0\n              rounded-xl\n              bg-gradient-to-b from-white/40 to-transparent\n              pointer-events-none\n            \"\n          />\n        )}\n\n        <span className=\"relative z-10\">{children}</span>\n      </Comp>\n    );\n  },\n);\n\nButton.displayName = \"Button\";\n\nexport { Button, buttonVariants };\n","path":null,"size_bytes":2778,"size_tokens":null},"server/app.ts":{"content":"import { type Server } from \"node:http\";\n\nimport express, {\n  type Express,\n  type Request,\n  Response,\n  NextFunction,\n} from \"express\";\nimport { registerRoutes } from \"./routes\";\n\nexport function log(message: string, source = \"express\") {\n  const formattedTime = new Date().toLocaleTimeString(\"en-US\", {\n    hour: \"numeric\",\n    minute: \"2-digit\",\n    second: \"2-digit\",\n    hour12: true,\n  });\n\n  console.log(`${formattedTime} [${source}] ${message}`);\n}\n\nexport const app = express();\n\ndeclare module 'http' {\n  interface IncomingMessage {\n    rawBody: unknown\n  }\n}\napp.use(express.json({\n  verify: (req, _res, buf) => {\n    req.rawBody = buf;\n  }\n}));\napp.use(express.urlencoded({ extended: false }));\n\napp.use((req, res, next) => {\n  const start = Date.now();\n  const path = req.path;\n  let capturedJsonResponse: Record<string, any> | undefined = undefined;\n\n  const originalResJson = res.json;\n  res.json = function (bodyJson, ...args) {\n    capturedJsonResponse = bodyJson;\n    return originalResJson.apply(res, [bodyJson, ...args]);\n  };\n\n  res.on(\"finish\", () => {\n    const duration = Date.now() - start;\n    if (path.startsWith(\"/api\")) {\n      let logLine = `${req.method} ${path} ${res.statusCode} in ${duration}ms`;\n      if (capturedJsonResponse) {\n        logLine += ` :: ${JSON.stringify(capturedJsonResponse)}`;\n      }\n\n      if (logLine.length > 80) {\n        logLine = logLine.slice(0, 79) + \"\";\n      }\n\n      log(logLine);\n    }\n  });\n\n  next();\n});\n\nexport default async function runApp(\n  setup: (app: Express, server: Server) => Promise<void>,\n) {\n  const server = await registerRoutes(app);\n\n  app.use((err: any, _req: Request, res: Response, _next: NextFunction) => {\n    const status = err.status || err.statusCode || 500;\n    const message = err.message || \"Internal Server Error\";\n\n    res.status(status).json({ message });\n    throw err;\n  });\n\n  // importantly run the final setup after setting up all the other routes so\n  // the catch-all route doesn't interfere with the other routes\n  await setup(app, server);\n\n  // ALWAYS serve the app on the port specified in the environment variable PORT\n  // Other ports are firewalled. Default to 5000 if not specified.\n  // this serves both the API and the client.\n  // It is the only port that is not firewalled.\n  const port = parseInt(process.env.PORT || '5000', 10);\n  server.listen({\n    port,\n    host: \"0.0.0.0\",\n    reusePort: true,\n  }, () => {\n    log(`serving on port ${port}`);\n  });\n}\n","path":null,"size_bytes":2481,"size_tokens":null},"client/src/components/ui/skeleton.tsx":{"content":"import { cn } from \"@/lib/utils\"\n\nfunction Skeleton({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) {\n  return (\n    <div\n      className={cn(\"animate-pulse rounded-md bg-muted\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Skeleton }\n","path":null,"size_bytes":261,"size_tokens":null},"client/src/components/ui/separator.tsx":{"content":"import * as React from \"react\"\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Separator = React.forwardRef<\n  React.ElementRef<typeof SeparatorPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>\n>(\n  (\n    { className, orientation = \"horizontal\", decorative = true, ...props },\n    ref\n  ) => (\n    <SeparatorPrimitive.Root\n      ref={ref}\n      decorative={decorative}\n      orientation={orientation}\n      className={cn(\n        \"shrink-0 bg-border\",\n        orientation === \"horizontal\" ? \"h-[1px] w-full\" : \"h-full w-[1px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n)\nSeparator.displayName = SeparatorPrimitive.Root.displayName\n\nexport { Separator }\n","path":null,"size_bytes":756,"size_tokens":null},"client/src/components/ui/context-menu.tsx":{"content":"import * as React from \"react\"\nimport * as ContextMenuPrimitive from \"@radix-ui/react-context-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ContextMenu = ContextMenuPrimitive.Root\n\nconst ContextMenuTrigger = ContextMenuPrimitive.Trigger\n\nconst ContextMenuGroup = ContextMenuPrimitive.Group\n\nconst ContextMenuPortal = ContextMenuPrimitive.Portal\n\nconst ContextMenuSub = ContextMenuPrimitive.Sub\n\nconst ContextMenuRadioGroup = ContextMenuPrimitive.RadioGroup\n\nconst ContextMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <ContextMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </ContextMenuPrimitive.SubTrigger>\n))\nContextMenuSubTrigger.displayName = ContextMenuPrimitive.SubTrigger.displayName\n\nconst ContextMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuSubContent.displayName = ContextMenuPrimitive.SubContent.displayName\n\nconst ContextMenuContent = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Portal>\n    <ContextMenuPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"z-50 max-h-[--radix-context-menu-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in fade-in-80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </ContextMenuPrimitive.Portal>\n))\nContextMenuContent.displayName = ContextMenuPrimitive.Content.displayName\n\nconst ContextMenuItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuItem.displayName = ContextMenuPrimitive.Item.displayName\n\nconst ContextMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <ContextMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.CheckboxItem>\n))\nContextMenuCheckboxItem.displayName =\n  ContextMenuPrimitive.CheckboxItem.displayName\n\nconst ContextMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <ContextMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.RadioItem>\n))\nContextMenuRadioItem.displayName = ContextMenuPrimitive.RadioItem.displayName\n\nconst ContextMenuLabel = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold text-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuLabel.displayName = ContextMenuPrimitive.Label.displayName\n\nconst ContextMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-border\", className)}\n    {...props}\n  />\n))\nContextMenuSeparator.displayName = ContextMenuPrimitive.Separator.displayName\n\nconst ContextMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nContextMenuShortcut.displayName = \"ContextMenuShortcut\"\n\nexport {\n  ContextMenu,\n  ContextMenuTrigger,\n  ContextMenuContent,\n  ContextMenuItem,\n  ContextMenuCheckboxItem,\n  ContextMenuRadioItem,\n  ContextMenuLabel,\n  ContextMenuSeparator,\n  ContextMenuShortcut,\n  ContextMenuGroup,\n  ContextMenuPortal,\n  ContextMenuSub,\n  ContextMenuSubContent,\n  ContextMenuSubTrigger,\n  ContextMenuRadioGroup,\n}\n","path":null,"size_bytes":7428,"size_tokens":null},"postcss.config.js":{"content":"export default {\n  plugins: {\n    tailwindcss: {},\n    autoprefixer: {},\n  },\n}\n","path":null,"size_bytes":80,"size_tokens":null},"client/src/components/ui/toggle.tsx":{"content":"import * as React from \"react\"\nimport * as TogglePrimitive from \"@radix-ui/react-toggle\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst toggleVariants = cva(\n  \"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 gap-2\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-transparent\",\n        outline:\n          \"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground\",\n      },\n      size: {\n        default: \"h-10 px-3 min-w-10\",\n        sm: \"h-9 px-2.5 min-w-9\",\n        lg: \"h-11 px-5 min-w-11\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nconst Toggle = React.forwardRef<\n  React.ElementRef<typeof TogglePrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof TogglePrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, ...props }, ref) => (\n  <TogglePrimitive.Root\n    ref={ref}\n    className={cn(toggleVariants({ variant, size, className }))}\n    {...props}\n  />\n))\n\nToggle.displayName = TogglePrimitive.Root.displayName\n\nexport { Toggle, toggleVariants }\n","path":null,"size_bytes":1527,"size_tokens":null},"client/src/components/Sparkles.tsx":{"content":"import { useEffect, useState } from 'react';\n\ninterface Sparkle {\n  id: number;\n  x: number;\n  y: number;\n  size: number;\n  duration: number;\n  delay: number;\n}\n\ninterface SparklesProps {\n  trigger: boolean;\n  count?: number;\n  scale?: number | number[];\n  size?: number;\n  speed?: number;\n  opacity?: number;\n  color?: string;\n  position?: [number, number, number];\n  noise?: number;\n}\n\nexport default function Sparkles({\n  trigger,\n  count = 60,\n  scale = 4,\n  size = 6,\n  speed = 0.4,\n  opacity = 0.5,\n  color = '#5ba085',\n  noise = 0,\n}: SparklesProps) {\n  const [sparkles, setSparkles] = useState<Sparkle[]>([]);\n  const [boxCenterX, setBoxCenterX] = useState(0);\n  const [boxCenterY, setBoxCenterY] = useState(0);\n\n  useEffect(() => {\n    if (!trigger) return;\n\n    // Get box position\n    const boxElement = document.querySelector('[data-testid=\"button-mystery-box\"]') as HTMLElement;\n    if (boxElement) {\n      const rect = boxElement.getBoundingClientRect();\n      setBoxCenterX(rect.left + rect.width / 2);\n      setBoxCenterY(rect.top + rect.height / 2);\n    }\n\n    const newSparkles: Sparkle[] = [];\n    const duration = 1 / (speed + 0.1) * 1000;\n\n    for (let i = 0; i < count; i++) {\n      const angle = (Math.PI * 2 * i) / count;\n      const randomNoise = noise > 0 ? (Math.random() - 0.5) * noise : 0;\n      const spreadScale = typeof scale === 'number' ? scale : scale[0];\n\n      newSparkles.push({\n        id: i,\n        x: Math.cos(angle + randomNoise) * spreadScale * 100,\n        y: Math.sin(angle + randomNoise) * spreadScale * 100,\n        size: size + (Math.random() - 0.5) * size * 0.3,\n        duration: duration,\n        delay: Math.random() * 100,\n      });\n    }\n\n    setSparkles(newSparkles);\n\n    const timeout = setTimeout(() => {\n      setSparkles([]);\n    }, duration + 500);\n\n    return () => clearTimeout(timeout);\n  }, [trigger, count, scale, size, speed, noise]);\n\n  if (sparkles.length === 0) return null;\n\n  return (\n    <div \n      className=\"fixed pointer-events-none overflow-visible\"\n      style={{\n        top: 0,\n        left: 0,\n        width: '100%',\n        height: '100%',\n        zIndex: 9999,\n      }}\n    >\n      {sparkles.map((sparkle) => (\n        <div\n          key={sparkle.id}\n          className=\"absolute\"\n          style={{\n            width: `${sparkle.size}px`,\n            height: `${sparkle.size}px`,\n            left: `${boxCenterX}px`,\n            top: `${boxCenterY}px`,\n            marginLeft: `${-sparkle.size / 2}px`,\n            marginTop: `${-sparkle.size / 2}px`,\n            borderRadius: '50%',\n            backgroundColor: color,\n            boxShadow: `0 0 ${sparkle.size * 1.5}px ${color}, 0 0 ${sparkle.size * 2.5}px ${color}aa`,\n            filter: `drop-shadow(0 0 ${sparkle.size}px ${color})`,\n            animation: `sparkleShoot ${sparkle.duration}ms ease-out forwards`,\n            animationDelay: `${sparkle.delay}ms`,\n            // @ts-ignore\n            '--tx': `${sparkle.x}px`,\n            '--ty': `${sparkle.y}px`,\n          }}\n        />\n      ))}\n      <style>{`\n        @keyframes sparkleShoot {\n          0% {\n            transform: translate(0, 0) scale(1);\n            opacity: 1;\n          }\n          50% {\n            opacity: 0.8;\n          }\n          100% {\n            transform: translate(var(--tx), var(--ty)) scale(0.1);\n            opacity: 0;\n          }\n        }\n      `}</style>\n    </div>\n  );\n}\n","path":null,"size_bytes":3412,"size_tokens":null},"client/src/components/BackgroundStars.tsx":{"content":"import { useEffect, useState } from 'react';\n\ninterface Star {\n  id: number;\n  x: number;\n  y: number;\n  size: number;\n  duration: number;\n  delay: number;\n}\n\nexport default function BackgroundStars() {\n  const [stars, setStars] = useState<Star[]>([]);\n\n  useEffect(() => {\n    const starCount = 100;\n    const newStars: Star[] = [];\n    \n    for (let i = 0; i < starCount; i++) {\n      newStars.push({\n        id: i,\n        x: Math.random() * 100,\n        y: Math.random() * 100,\n        size: Math.random() * 3 + 1,\n        duration: Math.random() * 3 + 2,\n        delay: Math.random() * 5,\n      });\n    }\n    \n    setStars(newStars);\n  }, []);\n\n  return (\n    <div className=\"fixed inset-0 pointer-events-none overflow-hidden\">\n      {stars.map((star) => (\n        <div\n          key={star.id}\n          className=\"absolute rounded-full\"\n          style={{\n            left: `${star.x}%`,\n            top: `${star.y}%`,\n            width: `${star.size}px`,\n            height: `${star.size}px`,\n            background: star.size > 2 ? '#F4D03F' : '#FFFFFF',\n            boxShadow: star.size > 2 \n              ? '0 0 4px #F4D03F, 0 0 8px #F4D03F' \n              : '0 0 2px #FFFFFF',\n            animation: `twinkle ${star.duration}s ease-in-out ${star.delay}s infinite`,\n          }}\n        />\n      ))}\n    </div>\n  );\n}\n","path":null,"size_bytes":1328,"size_tokens":null},"client/src/pages/employee-dashboard.tsx":{"content":"import { useEffect, useState } from 'react';\nimport { useQuery, useMutation } from '@tanstack/react-query';\nimport { useLocation } from 'wouter';\nimport { Button } from '@/components/ui/button';\nimport bgImage from '@assets/Gemini_Generated_Image_mnpedumnpedumnpe_1764676809813.png';\nimport { Card } from '@/components/ui/card';\nimport { Checkbox } from '@/components/ui/checkbox';\nimport { Badge } from '@/components/ui/badge';\nimport { Input } from '@/components/ui/input';\nimport { useToast } from '@/hooks/use-toast';\nimport { queryClient } from '@/lib/queryClient';\nimport { LogOut, RefreshCw, IndianRupee, User, Car, Phone, Trash2 } from 'lucide-react';\n\ninterface SheetCustomer {\n  name: string;\n  number: string;\n  prize: number | null;\n  vehicleNumber: string;\n  timestamp: string;\n  verified?: boolean;\n}\n\ninterface EmployeeData {\n  id: string;\n  username: string;\n  name: string;\n}\n\nexport default function EmployeeDashboard() {\n  const { toast } = useToast();\n  const [, setLocation] = useLocation();\n  const [employee, setEmployee] = useState<EmployeeData | null>(null);\n  const [verifyingVehicles, setVerifyingVehicles] = useState<Set<string>>(new Set());\n  const [amountInputs, setAmountInputs] = useState<Record<string, string>>({});\n\n  useEffect(() => {\n    const storedEmployee = localStorage.getItem('employee');\n    if (!storedEmployee) {\n      setLocation('/employee');\n      return;\n    }\n    setEmployee(JSON.parse(storedEmployee));\n  }, [setLocation]);\n\n  const { data: customersData, isLoading, refetch } = useQuery<{ customers: SheetCustomer[] }>({\n    queryKey: ['/api/employee/unverified-customers'],\n    refetchInterval: 3000,\n    enabled: !!employee,\n  });\n\n  const verifyMutation = useMutation({\n    mutationFn: async ({ vehicleNumber, amount }: { vehicleNumber: string; amount: string }) => {\n      const res = await fetch(`/api/employee/verify/${encodeURIComponent(vehicleNumber)}`, {\n        method: 'POST',\n        credentials: 'include',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ \n          amount: amount ? parseInt(amount) : undefined,\n          verifierName: employee?.name,\n        }),\n      });\n\n      if (!res.ok) {\n        const error = await res.json();\n        throw new Error(error.error || 'Verification failed');\n      }\n\n      return await res.json();\n    },\n    onSuccess: (_, variables) => {\n      setVerifyingVehicles(prev => {\n        const newSet = new Set(prev);\n        newSet.delete(variables.vehicleNumber);\n        return newSet;\n      });\n      setAmountInputs(prev => {\n        const newInputs = { ...prev };\n        delete newInputs[variables.vehicleNumber];\n        return newInputs;\n      });\n      queryClient.invalidateQueries({ queryKey: ['/api/employee/unverified-customers'] });\n      toast({\n        title: \"Customer Verified!\",\n        description: `Vehicle ${variables.vehicleNumber} has been verified successfully.`,\n      });\n    },\n    onError: (error: Error, variables) => {\n      setVerifyingVehicles(prev => {\n        const newSet = new Set(prev);\n        newSet.delete(variables.vehicleNumber);\n        return newSet;\n      });\n      toast({\n        title: \"Verification Failed\",\n        description: error.message,\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const removeMutation = useMutation({\n    mutationFn: async (vehicleNumber: string) => {\n      const res = await fetch(`/api/employee/remove/${encodeURIComponent(vehicleNumber)}`, {\n        method: 'POST',\n        credentials: 'include',\n      });\n\n      if (!res.ok) {\n        const error = await res.json();\n        throw new Error(error.error || 'Removal failed');\n      }\n\n      return await res.json();\n    },\n    onSuccess: (_, vehicleNumber) => {\n      queryClient.invalidateQueries({ queryKey: ['/api/employee/unverified-customers'] });\n      toast({\n        title: \"Customer Removed!\",\n        description: `Vehicle ${vehicleNumber} has been removed from verification list.`,\n      });\n    },\n    onError: (error: Error) => {\n      toast({\n        title: \"Removal Failed\",\n        description: error.message,\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const handleVerify = (vehicleNumber: string, checked: boolean) => {\n    if (checked) {\n      const amount = amountInputs[vehicleNumber] || '';\n      if (!amount.trim()) {\n        toast({\n          title: \"Amount Required\",\n          description: \"Please enter an amount before verifying.\",\n          variant: \"destructive\",\n        });\n        return;\n      }\n      setVerifyingVehicles(prev => new Set(prev).add(vehicleNumber));\n      verifyMutation.mutate({ vehicleNumber, amount });\n    }\n  };\n\n  const handleAmountChange = (vehicleNumber: string, value: string) => {\n    setAmountInputs(prev => ({ ...prev, [vehicleNumber]: value }));\n  };\n\n  const handleLogout = () => {\n    localStorage.removeItem('employee');\n    setLocation('/employee');\n  };\n\n  // Use customers directly from API (already filtered and reversed on backend)\n  const unverifiedCustomers = customersData?.customers || [];\n\n  if (!employee) {\n    return null;\n  }\n\n  return (\n    <div \n      className=\"min-h-screen p-4 md:p-8\"\n      style={{\n        backgroundImage: `url(${bgImage})`,\n        backgroundSize: 'cover',\n        backgroundPosition: 'center',\n        backgroundAttachment: 'fixed',\n      }}\n    >\n      <div className=\"max-w-4xl mx-auto space-y-6\">\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <h1 className=\"text-xl md:text-xl font-bold text-foreground\" data-testid=\"text-dashboard-title\">\n              Verification Dashboard\n            </h1>\n            <p className=\"text-muted-foreground\">\n              Welcome, {employee.name}\n            </p>\n          </div>\n          <div className=\"flex gap-2\">\n            <Button\n              variant=\"outline\"\n              size=\"icon\"\n              onClick={() => refetch()}\n              disabled={isLoading}\n              data-testid=\"button-refresh\"\n            >\n              <RefreshCw className={`w-4 h-4 ${isLoading ? 'animate-spin' : ''}`} />\n            </Button>\n            <Button\n              variant=\"outline\"\n              onClick={handleLogout}\n              className=\"gap-2\"\n              data-testid=\"button-logout\"\n            >\n              <LogOut className=\"w-4 h-4\" />\n              Logout\n            </Button>\n          </div>\n        </div>\n\n        <Card className=\"p-6\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <h2 className=\"text-xl font-semibold text-foreground\">\n              Pending Verifications\n            </h2>\n            <Badge variant=\"secondary\" data-testid=\"badge-count\">\n              {unverifiedCustomers.length} pending\n            </Badge>\n          </div>\n\n          {isLoading ? (\n            <div className=\"text-center py-8 text-muted-foreground\">\n              Loading customers...\n            </div>\n          ) : unverifiedCustomers.length === 0 ? (\n            <div className=\"text-center py-8 text-muted-foreground\">\n              No pending verifications at the moment.\n            </div>\n          ) : (\n            <div className=\"space-y-4\">\n              {unverifiedCustomers.map((customer) => (\n                <div\n                  key={`${customer.vehicleNumber}-${customer.timestamp}`}\n                  className=\"flex items-center gap-4 p-4 border rounded-lg bg-card/50 hover-elevate\"\n                  data-testid={`card-customer-${customer.vehicleNumber}`}\n                >\n                  <div className=\"flex items-center gap-2\">\n                    <Checkbox\n                      checked={verifyingVehicles.has(customer.vehicleNumber)}\n                      onCheckedChange={(checked) => handleVerify(customer.vehicleNumber, checked as boolean)}\n                      disabled={verifyingVehicles.has(customer.vehicleNumber)}\n                      data-testid={`checkbox-verify-${customer.vehicleNumber}`}\n                    />\n                    <Button\n                      variant=\"ghost\"\n                      size=\"icon\"\n                      onClick={() => removeMutation.mutate(customer.vehicleNumber)}\n                      disabled={removeMutation.isPending}\n                      className=\"text-destructive hover:text-destructive\"\n                      data-testid={`button-remove-${customer.vehicleNumber}`}\n                      title=\"Remove from verification list\"\n                    >\n                      <Trash2 className=\"w-4 h-4\" />\n                    </Button>\n                  </div>\n                  \n                  <div className=\"flex-1 min-w-0\">\n                    <div className=\"flex flex-wrap items-center gap-2 mb-2\">\n                      <div className=\"flex items-center gap-1 text-foreground font-medium\">\n                        <User className=\"w-4 h-4 text-muted-foreground\" />\n                        <span data-testid={`text-name-${customer.vehicleNumber}`}>\n                          {customer.name}\n                        </span>\n                      </div>\n                      <Badge className=\"bg-primary/20 text-primary border-primary gap-1\">\n                        <IndianRupee className=\"w-3 h-3\" />\n                        <span data-testid={`text-prize-${customer.vehicleNumber}`}>\n                          {customer.prize}\n                        </span>\n                      </Badge>\n                    </div>\n\n                    <div className=\"mb-3\">\n                      <label className=\"text-xs text-muted-foreground block mb-1\">\n                        Verification Amount () - For Recording\n                      </label>\n                      <Input\n                        type=\"number\"\n                        placeholder=\"Enter amount from box\"\n                        value={amountInputs[customer.vehicleNumber] || ''}\n                        onChange={(e) => handleAmountChange(customer.vehicleNumber, e.target.value)}\n                        disabled={verifyingVehicles.has(customer.vehicleNumber)}\n                        data-testid={`input-amount-${customer.vehicleNumber}`}\n                        className=\"h-8 text-sm\"\n                      />\n                    </div>\n                    \n                    <div className=\"flex flex-wrap items-center gap-3 text-sm text-muted-foreground\">\n                      <div className=\"flex items-center gap-1\">\n                        <Car className=\"w-3 h-3\" />\n                        <span data-testid={`text-vehicle-${customer.vehicleNumber}`}>\n                          {customer.vehicleNumber}\n                        </span>\n                      </div>\n                      <div className=\"flex items-center gap-1\">\n                        <Phone className=\"w-3 h-3\" />\n                        <span data-testid={`text-phone-${customer.vehicleNumber}`}>\n                          {customer.number}\n                        </span>\n                      </div>\n                    </div>\n                  </div>\n\n                  {verifyingVehicles.has(customer.vehicleNumber) && (\n                    <div className=\"text-sm text-muted-foreground animate-pulse\">\n                      Verifying...\n                    </div>\n                  )}\n                </div>\n              ))}\n            </div>\n          )}\n        </Card>\n\n        <p className=\"text-center text-sm text-muted-foreground\">\n          List refreshes automatically every 3 seconds\n        </p>\n      </div>\n    </div>\n  );\n}\n","path":null,"size_bytes":11527,"size_tokens":null},"client/src/pages/employee-login.tsx":{"content":"import { useState } from 'react';\nimport { useMutation } from '@tanstack/react-query';\nimport { useLocation, Link } from 'wouter';\nimport { Button } from '@/components/ui/button';\nimport { Card } from '@/components/ui/card';\nimport { Input } from '@/components/ui/input';\nimport { Form, FormControl, FormField, FormItem, FormMessage } from '@/components/ui/form';\nimport { useToast } from '@/hooks/use-toast';\nimport { useForm } from 'react-hook-form';\nimport { zodResolver } from '@hookform/resolvers/zod';\nimport { z } from 'zod';\nimport { User, Lock, LogIn, ArrowLeft } from 'lucide-react';\n\nconst loginSchema = z.object({\n  username: z.string().min(1, \"Username is required\"),\n  password: z.string().min(1, \"Password is required\"),\n});\n\ntype LoginData = z.infer<typeof loginSchema>;\n\ninterface EmployeeData {\n  id: string;\n  username: string;\n  name: string;\n}\n\nexport default function EmployeeLogin() {\n  const { toast } = useToast();\n  const [, setLocation] = useLocation();\n\n  const form = useForm<LoginData>({\n    resolver: zodResolver(loginSchema),\n    defaultValues: {\n      username: '',\n      password: '',\n    },\n  });\n\n  const loginMutation = useMutation({\n    mutationFn: async (data: LoginData) => {\n      const res = await fetch('/api/employee/login', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(data),\n        credentials: 'include',\n      });\n\n      if (!res.ok) {\n        const error = await res.json();\n        throw new Error(error.error || 'Login failed');\n      }\n\n      return await res.json() as EmployeeData;\n    },\n    onSuccess: (data) => {\n      localStorage.setItem('employee', JSON.stringify(data));\n      toast({\n        title: \"Login Successful\",\n        description: `Welcome, ${data.name}!`,\n      });\n      setLocation('/employee/dashboard');\n    },\n    onError: (error: Error) => {\n      toast({\n        title: \"Login Failed\",\n        description: error.message,\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const handleSubmit = (data: LoginData) => {\n    loginMutation.mutate(data);\n  };\n\n  return (\n    <div className=\"min-h-screen bg-background flex items-center justify-center p-4\">\n      <Card className=\"w-full max-w-md p-8 space-y-6\">\n        {/* Back Button */}\n        <div className=\"flex items-center justify-start mb-4\">\n          <Link href=\"/\">\n            <Button\n              type=\"button\"\n              variant=\"ghost\"\n              size=\"icon\"\n              className=\"h-9 w-9\"\n              data-testid=\"button-back\"\n            >\n              <ArrowLeft className=\"w-5 h-5\" />\n            </Button>\n          </Link>\n        </div>\n\n        <div className=\"text-center space-y-2\">\n          <h1 className=\"text-3xl font-bold text-foreground\" data-testid=\"text-login-title\">\n            Employee Login\n          </h1>\n          <p className=\"text-muted-foreground\">\n            Sign in to verify customer rewards\n          </p>\n        </div>\n\n        <Form {...form}>\n          <form onSubmit={form.handleSubmit(handleSubmit)} className=\"space-y-6\">\n            <FormField\n              control={form.control}\n              name=\"username\"\n              render={({ field }) => (\n                <FormItem>\n                  <FormControl>\n                    <div className=\"relative\">\n                      <User className=\"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground\" />\n                      <Input\n                        placeholder=\"Enter your username\"\n                        className=\"pl-10\"\n                        data-testid=\"input-username\"\n                        aria-label=\"Username\"\n                        {...field}\n                      />\n                    </div>\n                  </FormControl>\n                  <FormMessage />\n                </FormItem>\n              )}\n            />\n\n            <FormField\n              control={form.control}\n              name=\"password\"\n              render={({ field }) => (\n                <FormItem>\n                  <FormControl>\n                    <div className=\"relative\">\n                      <Lock className=\"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground\" />\n                      <Input\n                        type=\"password\"\n                        placeholder=\"Enter your password\"\n                        className=\"pl-10\"\n                        data-testid=\"input-password\"\n                        aria-label=\"Password\"\n                        {...field}\n                      />\n                    </div>\n                  </FormControl>\n                  <FormMessage />\n                </FormItem>\n              )}\n            />\n\n            <Button\n              type=\"submit\"\n              className=\"w-full py-6 text-lg font-medium gap-2\"\n              disabled={loginMutation.isPending}\n              data-testid=\"button-login\"\n            >\n              <LogIn className=\"w-5 h-5\" />\n              {loginMutation.isPending ? 'Signing in...' : 'Sign In'}\n            </Button>\n          </form>\n        </Form>\n\n        \n      </Card>\n    </div>\n  );\n}\n","path":null,"size_bytes":5143,"size_tokens":null},"server/bulkpe.ts":{"content":"/* =======================\n   Types\n======================= */\n\ninterface PayoutRequest {\n  amount: number;\n  phoneNumber: string;\n  beneficiaryName: string;\n  referenceId: string; // payout reference (must be unique per payout)\n  note?: string;\n  cachedVPA?: {\n    vpa: string;\n    accountHolderName?: string;\n  };\n}\n\ninterface VpaResponse {\n  status?: boolean;\n  statusCode?: number;\n  data?: {\n    vpa?: string;\n    account_holder_name?: string;\n  };\n  message?: string;\n  error?: string;\n}\n\ninterface PayoutResponse {\n  status: boolean;\n  statusCode?: number;\n  data?: {\n    transaction_id?: string;\n    reference_id?: string;\n    amount?: number;\n    status?: string;\n    message?: string;\n  };\n  message?: string;\n\n  // added for logging\n  vpaUsed?: string;\n  accountHolderNameFromVpa?: string;\n}\n\n/* =======================\n   Utils\n======================= */\n\nfunction normalizePhoneNumber(phone: any): string {\n  if (!phone) throw new Error('Phone number is required');\n\n  const phoneStr = String(phone).replace(/\\D/g, '');\n\n  if (phoneStr.length === 12 && phoneStr.startsWith('91')) {\n    return phoneStr.slice(2);\n  }\n\n  if (phoneStr.length === 10) {\n    return phoneStr;\n  }\n\n  if (phoneStr.length > 10) {\n    return phoneStr.slice(-10);\n  }\n\n  throw new Error(`Invalid phone number: ${phone}`);\n}\n\n/* =======================\n   Service\n======================= */\n\nexport class BulkPEService {\n  private apiKey: string;\n\n  constructor() {\n    const apiKey = process.env.BULKPE_API_KEY;\n    if (!apiKey) throw new Error('BULKPE_API_KEY not set');\n    this.apiKey = apiKey;\n  }\n\n  /* =======================\n     STEP 1: Get VPA\n     IMPORTANT:\n     - This CREATES a transaction in BulkPE\n     - Must use a UNIQUE reference_id\n  ======================= */\n  private async getVPA(\n    phoneNumber: string,\n    vpaReferenceId: string\n  ): Promise<{ vpa: string; accountHolderName?: string }> {\n\n    const response = await fetch(\n      'https://api.bulkpe.in/client/getVpa',\n      {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: `Bearer ${this.apiKey}`\n        },\n        body: JSON.stringify({\n          phone: phoneNumber,\n          reference_id: vpaReferenceId,\n          transaction_note: 'FUEL RUSH Reward Payout'\n        })\n      }\n    );\n\n    const rawText = await response.text();\n    console.log('[BULKPE] getVpa RAW:', rawText);\n\n    let data: VpaResponse;\n    try {\n      data = JSON.parse(rawText);\n    } catch {\n      throw new Error('Invalid JSON returned from BulkPE getVpa');\n    }\n\n    const vpa = data?.data?.vpa;\n    const accountHolderName = data?.data?.account_holder_name;\n\n    if (!vpa) {\n      throw new Error(\n        data?.message ||\n        data?.error ||\n        'No VPA received from BulkPE'\n      );\n    }\n\n    return { vpa, accountHolderName };\n  }\n\n  /* =======================\n     STEP 2: Initiate Payout\n     - MUST use a DIFFERENT reference_id\n     - Check data.status (not HTTP 200)\n  ======================= */\n  private async initiatePayoutWithUPI(\n    vpaData: { vpa: string; accountHolderName?: string },\n    request: PayoutRequest\n  ): Promise<PayoutResponse> {\n\n    const response = await fetch(\n      'https://api.bulkpe.in/client/initiatepayout',\n      {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: `Bearer ${this.apiKey}`\n        },\n        body: JSON.stringify({\n          amount: request.amount,\n          account_number: '0',\n          payment_mode: 'UPI',\n          reference_id: request.referenceId,\n          upi: vpaData.vpa,\n          beneficiaryName: request.beneficiaryName,\n          transaction_note: request.note || 'FUEL RUSH Cashback Reward',\n          ifsc: ''\n        })\n      }\n    );\n\n    const data: PayoutResponse = await response.json();\n    console.log('[BULKPE] initiatepayout:', data);\n\n    //  IMPORTANT: Check data.status, NOT response.ok\n    if (!data.status) {\n      throw new Error(\n        data.message || 'BulkPE payout failed'\n      );\n    }\n\n    return {\n      ...data,\n      vpaUsed: vpaData.vpa,\n      accountHolderNameFromVpa: vpaData.accountHolderName\n    };\n  }\n\n  /* =======================\n     PUBLIC METHOD\n  ======================= */\n  async initiatePayout(\n    request: PayoutRequest\n  ): Promise<PayoutResponse> {\n\n    const normalizedPhone =\n      normalizePhoneNumber(request.phoneNumber);\n\n    if (!Number.isFinite(request.amount) || request.amount <= 0) {\n      throw new Error(`Invalid amount: ${request.amount}`);\n    }\n\n    let vpaData: { vpa: string; accountHolderName?: string };\n\n    try {\n      // Use cached VPA if available\n      if (request.cachedVPA) {\n        console.log('[BULKPE] Using cached VPA:', request.cachedVPA.vpa);\n        vpaData = request.cachedVPA;\n      } else {\n        // Unique reference ONLY for VPA call\n        const vpaReferenceId = `VPA${Date.now()}`;\n        vpaData = await this.getVPA(\n          normalizedPhone,\n          vpaReferenceId\n        );\n      }\n\n      // Payout uses caller-provided referenceId\n      return await this.initiatePayoutWithUPI(\n        vpaData,\n        request\n      );\n\n    } catch (err: any) {\n      console.error('[BULKPE] Payout failed:', err.message);\n      throw err;\n    }\n  }\n}\n\n/* =======================\n   Singleton\n======================= */\n\nlet bulkpeService: BulkPEService | null = null;\n\nexport function getBulkPEService(): BulkPEService | null {\n  if (!process.env.BULKPE_API_KEY) {\n    console.warn('[BULKPE] API key missing');\n    return null;\n  }\n\n  if (!bulkpeService) {\n    bulkpeService = new BulkPEService();\n  }\n\n  return bulkpeService;\n}\n","path":null,"size_bytes":5674,"size_tokens":null}},"version":2}